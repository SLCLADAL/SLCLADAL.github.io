<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Martin Schweinberger" />


<title>Concordancing with R</title>

<script src="site_libs/header-attrs-2.26/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>
<link rel="stylesheet" href="styles.css" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VSGK4KYDQZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VSGK4KYDQZ');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  
  <!-- Added by SKC - LADAL image and thicker top with   -->
  <div class="container-fluid navbar-top" >
    <a href="index.html"> <!-- Make entire top row and text clickable home link  -->
        <div class="row">
            <div class="navbar-brand col-md-12">
              <img src="/content/ladal_icon_cas_tran_white_trimed.png" class="navbar-icon" alt="LADAL"/>
              <span class="navbar-title-note navbar-collapse collapse" >Language Technology and Data Analysis Laboratory</span>
            </div>
        </div>
    </a>
  </div>
  
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- SKC removed  navbar brand -->
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">HOME</a>
</li>
<li>
  <a href="about.html">ABOUT</a>
</li>
<li>
  <a href="events.html">EVENTS</a>
</li>
<li>
  <a href="tutorials.html">TUTORIALS</a>
</li>
<li>
  <a href="tools.html">TOOLS</a>
</li>
<li>
  <a href="resources.html">RESOURCES</a>
</li>
<li>
  <a href="contact.html">CONTACT</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Concordancing with R</h1>
<h4 class="author">Martin Schweinberger</h4>

</div>


<p><img src="https://slcladal.github.io/images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p>This tutorial introduces how to extract concordances and
keyword-in-context (KWIC) displays with R using the
<code>quanteda</code> package <span class="citation">(<a
href="#ref-quanteda2018package">Benoit et al. 2018</a>)</span>.</p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
Please cite as: <br>Schweinberger, Martin. 2024. <em>Concordancing with
R</em>. Brisbane: The Language Technology and Data Analysis Laboratory
(LADAL). url: <a href="https://ladal.edu.au/kwics.html"
class="uri">https://ladal.edu.au/kwics.html</a> (Version
2024.05.07).<br>
</p>
<p></span></p>
</div>
<p><img src="https://slcladal.github.io/images/gy_chili.jpg" width="15%" style="float:right; padding:10px" /></p>
<p>This tutorial is aimed at beginners and intermediate users of R with
the aim of showcasing how to extract words and phrases from textual data
and how to process the resulting concordances using R. The aim is not to
provide a fully-fledged analysis but rather to show and exemplify
selected useful methods associated with concordancing.</p>
<div class="warning"
style="padding:0.1em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
To be able to follow this tutorial, we suggest you check out and
familiarize yourself with the content of the following <strong>R
Basics</strong> tutorials:<br>
</p>
<p style="margin-top:1em; text-align:left">
<ul>
<li>
<a href="https://ladal.edu.au/intror.html">Getting started with R</a>
</li>
<li>
<a href="https://ladal.edu.au/load.html">Loading, saving, and generating
data in R</a>
</li>
<li>
<a href="https://ladal.edu.au/string.html">String Processing in R</a>
</li>
<li>
<a href="https://ladal.edu.au/regex.html">Regular Expressions in R</a>
</li>
</ul>
</p>
<p style="margin-top:1em; text-align:center">
Click <a
href="https://ladal.edu.au/content/kwics.Rmd"><strong>here</strong></a><a
href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> to
download the <strong>entire R Notebook</strong> for this
tutorial.<br><br> <a
href="https://mybinder.org/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Fkwics_cb.ipynb%26branch%3Dmain"><img
src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a><br> Click
<a
href="https://mybinder.org/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Fkwics_cb.ipynb%26branch%3Dmain"><strong>here</strong></a>
to open a Jupyter notebook that allows you to follow this tutorial
interactively. This means that you can execute, change, and edit the
code used in this tutorial to help you better understand how the code
shown here works (make sure you run all code chunks in the order in
which they appear to avoid running into errors).
</p>
<br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<strong>CONCORDANCING TOOL</strong>
</p>
<p style="margin-top:1em; text-align:center">
Click on this <a
href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Fkwictool.ipynb%26branch%3Dmain"><img
src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a> badge to
open an notebook-based tool <br>that allows you to upload your own
text(s), perform concordancing on them, and download the resulting
kwic(s).
</p>
<br>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>Concordancing is a fundamental tool in language sciences, involving
the extraction of words from a given text or texts <span
class="citation">(<a href="#ref-lindquist2009corpus">Lindquist 2009,
5</a>)</span>. Typically, these extractions are displayed through
keyword-in-context displays (KWICs), where the search term, also
referred to as the <em>node word</em>, is showcased within its
surrounding context, comprising both preceding and following words.
Concordancing serves as a cornerstone for textual analyses, often
serving as the initial step towards more intricate examinations of
language data <span class="citation">(<a
href="#ref-stafanowitsch2020corpus">Stefanowitsch 2020</a>)</span>.
Their significance lies in their capacity to provide insights into how
words or phrases are utilized, their frequency of occurrence, and the
contexts in which they appear. By facilitating the examination of a word
or phrase’s contextual usage and offering frequency data, concordances
empower researchers to delve into collocations or the collocational
profiles of words and phrases <span class="citation">(<a
href="#ref-stafanowitsch2020corpus">Stefanowitsch 2020,
50–51</a>)</span>.</p>
<p>Examples of Concordancing Applications:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Linguistic Research</strong>: Linguists often use
concordances to explore the usage patterns of specific words or phrases
in different contexts. For instance, researchers might use concordancing
to analyze the various meanings and connotations of a polysemous word
across different genres of literature.</p></li>
<li><p><strong>Language Teaching</strong>: Concordancing can be a
valuable tool in language teaching. Educators can create concordances to
illustrate how vocabulary words are used in authentic contexts, helping
students grasp their usage nuances and collocational patterns.</p></li>
<li><p><strong>Stylistic Analysis</strong>: Literary scholars use
concordances to conduct stylistic analyses of texts. By examining how
certain words or phrases are employed within a literary work,
researchers can gain insights into the author’s writing style, thematic
concerns, and narrative techniques.</p></li>
<li><p><strong>Translation Studies</strong>: Concordancing is also
applied in translation studies to analyze the usage of specific terms or
expressions in source and target languages. Translators use concordances
to identify appropriate equivalents and ensure accurate translation of
idiomatic expressions and collocations.</p></li>
<li><p><strong>Lexicography</strong>: Lexicographers employ concordances
to compile and refine dictionaries. By examining the contexts in which
words appear, lexicographers can identify common collocations and usage
patterns, informing the creation of more comprehensive and accurate
lexical entries.</p></li>
</ol>
<p>These examples underscore the usefulness of concordancing across
various disciplines within the language sciences, showcasing its role in
facilitating nuanced analyses and insights into language usage.</p>
<div class="figure">
<img src="https://slcladal.github.io/images/AntConcConcordance.png" alt="\label{fig:Fig1} Concordances in AntConc." width="100%" style="float:left; padding:2px" />
<p class="caption">
Concordances in AntConc.
</p>
</div>
<p><br></p>
<p>There are various very good software packages that can be used to
create concordances - both for offline use. There are, for example</p>
<ul>
<li><a
href="https://www.laurenceanthony.net/software/antconc/"><em>AntConc</em></a>
<span class="citation">(<a href="#ref-anthony2004antconc">Anthony
2004</a>)</span></li>
<li><a href="https://www.sketchengine.eu/"><em>SketchEngine</em></a>
<span class="citation">(<a href="#ref-kilgarriff2004itri">Kilgarriff et
al. 2004</a>)</span></li>
<li><a href="https://www.monoconc.com/"><em>MONOCONC</em></a> <span
class="citation">(<a href="#ref-barlow1999monoconc">Barlow
1999</a>)</span></li>
<li><a href="https://paraconc.com/"><em>ParaConc</em></a>) <span
class="citation">(<a href="#ref-barlow2002paraconc">Barlow
2002</a>)</span></li>
<li><a href="https://lextutor.ca/conc/"><em>Web
Concordancers</em></a></li>
<li><a href="https://corpusmate.com/"><em>CorpusMate</em></a> <span
class="citation">(<a href="#ref-corpusmate">Crosthwaite and Baisa
2024</a>)</span></li>
</ul>
<p>In addition, many corpora that are available such as the <a
href="https://corpus.byu.edu/overview.asp">BYU corpora</a> can be
accessed via a web interface that have in-built concordancing
functions.</p>
<div class="figure">
<img src="https://slcladal.github.io/images/KwicCocaLanguage.png" alt="\label{fig:Fig2} Online concordances extracted from the COCA corpus that is part of the BYU corpora." width="100%" style="float:right; padding:2px" />
<p class="caption">
Online concordances extracted from the COCA corpus that is part of the
BYU corpora.
</p>
</div>
<p>While many concordance software packages boast user-friendly
interfaces and additional functionalities, their inherent limitations
make R a compelling alternative. These shortcomings include:</p>
<ul>
<li><p><strong>Lack of Transparency</strong>: Traditional concordance
software often operates as black boxes, leaving researchers without full
control or insight into the inner workings of the software. This opacity
can compromise the reproducibility and transparency of analyses, as
researchers are unable to fully understand or document the analytical
process.</p></li>
<li><p><strong>Closed Source</strong>: The proprietary nature of many
concordance software packages restricts access to their source code,
hindering collaborative development and innovation within the research
community. In contrast, R’s open-source framework encourages
transparency, collaboration, and customization, empowering researchers
to tailor analyses to their specific needs.</p></li>
<li><p><strong>Replication Challenges</strong>: Replicating analyses
conducted using traditional concordance software can be time-consuming
and labor-intensive, particularly when compared to analyses documented
in Notebooks. R’s integrated scripting environment facilitates
reproducibility by allowing researchers to document their entire
workflow in a clear, executable format, streamlining the replication
process and enhancing research transparency.</p></li>
<li><p><strong>Cost and Restrictions</strong>: Many concordance software
packages are not free-of-charge or impose usage restrictions, limiting
accessibility for researchers with budget constraints or specific
licensing requirements. While exceptions like <em>AntConc</em> exist,
the prevalence of cost barriers or usage restrictions underscores the
importance of open-source alternatives like R, which offer greater
accessibility and flexibility for researchers across diverse
settings.</p></li>
</ul>
<p>By addressing these key limitations, R emerges as a robust and
versatile platform for concordancing, offering researchers greater
transparency, flexibility, and accessibility. As such, R offers a
compelling alternative to off-the-shelf concordancing applications for
several reasons:</p>
<ul>
<li><p><strong>Flexibility</strong>: R provides unparalleled
flexibility, allowing researchers to conduct their entire analysis
within a single environment. This versatility enables users to tailor
their analysis precisely to their research needs, incorporating custom
functions and scripts as required.</p></li>
<li><p><strong>Transparency and Documentation</strong>: One of R’s
strengths lies in its capacity for full transparency and documentation.
Analyses can be documented and presented in R Notebooks, providing a
comprehensive record of the analytical process. This transparency
ensures that every step of the analysis is clearly documented, enhancing
the reproducibility of research findings.</p></li>
<li><p><strong>Version Control</strong>: R offers robust version control
measures, enabling researchers to track and trace specific versions of
software and packages used in their analysis. This ensures that analyses
are conducted using consistent software environments, minimizing the
risk of discrepancies or errors due to software updates or
changes.</p></li>
<li><p><strong>Replicability</strong>: Replicability is paramount in
scientific research, particularly in light of the ongoing Replication
Crisis <span class="citation">(<a
href="#ref-atlantic2018psychology">Yong 2018</a>; <a
href="#ref-fivethirtyeight2018replication">Aschwanden 2018</a>; <a
href="#ref-noba2019replication">Diener and Biswas-Diener 2019</a>; <a
href="#ref-physorg2018replication">Velasco 2019</a>; <a
href="#ref-sciencealert2018replication">McRae 2018</a>)</span>. By
conducting analyses within R and documenting the entire workflow in
scripts or Notebooks, researchers facilitate easy replication of their
analyses by others. This not only enhances the credibility and
robustness of research findings but also fosters greater collaboration
and transparency within the scientific community.</p></li>
</ul>
<p>The Replication Crisis, which has affected various fields since the
early 2010s <span class="citation">(<a
href="#ref-fanelli2009fraud">Fanelli 2009</a>)</span>, underscores the
importance of transparent and replicable research practices. R’s
capability to document workflows comprehensively in scripts or Notebooks
addresses this challenge directly. Researchers can readily share their
scripts or Notebooks with others, enabling full transparency and
facilitating replication of analyses. This emphasis on transparency and
replicability aligns closely with best practices in scientific research,
ensuring that findings can be scrutinized, validated, and built upon by
the broader research community.</p>
<p><strong>Preparation and session set up</strong></p>
<p>This tutorial is conducted within the R environment. If you’re new to
R or haven’t installed it yet, you can find an introduction to R and
further instructions on how to use it <a
href="https://ladal.edu.au/intror.html">here</a>. To ensure smooth
execution of the scripts provided in this tutorial, it’s necessary to
install specific packages from the R library. Before proceeding to the
code examples, please ensure you’ve installed these packages by running
the code provided below. If you’ve already installed the required
packages, feel free to skip ahead and disregard this section. To install
the necessary packages, simply execute the following code. Please note
that installation may take some time (usually between 1 and 5 minutes),
so there’s no need to be concerned if it takes a while.</p>
<pre class="r"><code># install packages
install.packages(&quot;quanteda&quot;)
install.packages(&quot;dplyr&quot;)
install.packages(&quot;stringr&quot;)
install.packages(&quot;writexl&quot;)
install.packages(&quot;here&quot;)
install.packages(&quot;flextable&quot;)
# install klippy for copy-to-clipboard button in code chunks
install.packages(&quot;remotes&quot;)
remotes::install_github(&quot;rlesur/klippy&quot;)</code></pre>
<p>Now that we’ve installed the required packages, let’s activate them
using the following code snippet:</p>
<pre class="r klippy"><code># activate packages
library(quanteda)
library(dplyr)
library(stringr)
library(writexl)
library(here)
library(flextable)
# activate klippy for copy-to-clipboard button
klippy::klippy()</code></pre>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<p>Once you’ve initiated the session by executing the provided code,
you’re ready to proceed.</p>
<div id="loading-and-processing-text" class="section level2 unnumbered">
<h2 class="unnumbered">Loading and Processing Text</h2>
<p>For this tutorial, we will use Lewis Carroll’s classic novel
<em>Alice’s Adventures in Wonderland</em> as our primary text dataset.
This whimsical tale follows the adventures of Alice as she navigates a
fantastical world filled with peculiar characters and surreal
landscapes.</p>
<p><strong>Loading Text (from Project Gutenberg)</strong></p>
<p>To access the text within R, you can use the following code snippet,
ensuring you have an active internet connection:</p>
<pre class="r"><code># Load Alice&#39;s Adventures in Wonderland text into R
rawtext &lt;- readLines(&quot;https://www.gutenberg.org/files/11/11-0.txt&quot;)</code></pre>
<div class="tabwid"><style>.cl-0ccad53a{table-layout:auto;width:95%;}.cl-0cbd25b6{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0cbd25ca{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0cc266ca{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0cc286a0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0cc286b4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0cc286b5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0cc286be{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0ccad53a'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 25 non-empty lines of the example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0cc286a0"><p class="cl-0cc266ca"><span class="cl-0cbd25b6">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">﻿*** START OF THE PROJECT GUTENBERG EBOOK ALICE'S ADVENTURES IN</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">WONDERLAND ***</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">[Illustration]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">Alice’s Adventures in Wonderland</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">by Lewis Carroll</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">THE MILLENNIUM FULCRUM EDITION 3.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">Contents</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER I.     Down the Rabbit-Hole</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER II.    The Pool of Tears</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER III.   A Caucus-Race and a Long Tale</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER IV.    The Rabbit Sends in a Little Bill</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER V.     Advice from a Caterpillar</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER VI.    Pig and Pepper</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER VII.   A Mad Tea-Party</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER VIII.  The Queen’s Croquet-Ground</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER IX.    The Mock Turtle’s Story</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER X.     The Lobster Quadrille</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER XI.    Who Stole the Tarts?</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca"> CHAPTER XII.   Alice’s Evidence</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">CHAPTER I.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">Down the Rabbit-Hole</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">Alice was beginning to get very tired of sitting by her sister on the</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b4"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">bank, and of having nothing to do: once or twice she had peeped into</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286b5"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">the book her sister was reading, but it had no pictures or</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0cc286be"><p class="cl-0cc266ca"><span class="cl-0cbd25ca">conversations in it, “and what is the use of a book,” thought Alice</span></p></td></tr></tbody></table></div>
<p>After retrieving the text from Project Gutenberg, it becomes
available for analysis within R. However, upon loading the text into our
environment, we notice that it requires some processing. This includes
removing extraneous elements such as the table of contents to isolate
the main body of the text. Therefore, in the next step, we process the
text. This will include consolidating the text into a single object and
eliminating any non-essential content. Additionally, we clean up the
text by removing superfluous white spaces to ensure a tidy dataset for
our analysis.</p>
<p><strong>Data Preparation</strong></p>
<p>Data processing and preparation play a crucial role in text analysis,
as they directly impact the quality and accuracy of the results
obtained. When working with text data, it’s essential to ensure that the
data is clean, structured, and formatted appropriately for analysis.
This involves tasks such as removing irrelevant information,
standardizing text formats, and handling missing or erroneous data.</p>
<p>The importance of data processing and preparation lies in its ability
to transform raw text into a usable format that can be effectively
analyzed. By cleaning and pre-processing the data, researchers can
mitigate the impact of noise and inconsistencies, enabling more accurate
and meaningful insights to be extracted from the text.</p>
<p>However, it’s worth noting that data preparation can often be a
time-consuming process, sometimes requiring more time and effort than
the actual analysis task itself. The extent of data preparation required
can vary significantly depending on the complexity of the data and the
specific research objectives. While some datasets may require minimal
processing, others may necessitate extensive cleaning and
transformation.</p>
<p>Ultimately, the time and effort invested in data preparation are
essential for ensuring the reliability and validity of the analysis
results. By dedicating sufficient attention to data processing and
preparation, researchers can enhance the quality of their analyses and
derive more robust insights from the text data at hand.</p>
<pre class="r"><code>text &lt;- rawtext %&gt;%
  # collapse lines into a single  text
  paste0(collapse = &quot; &quot;) %&gt;%
  # remove superfluous white spaces
  stringr::str_squish() %&gt;%
  # remove everything before &quot;CHAPTER I.&quot;
  stringr::str_remove(&quot;.*CHAPTER I\\.&quot;)</code></pre>
<div class="tabwid"><style>.cl-0d02a168{table-layout:auto;width:95%;}.cl-0cf55cd8{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0cf55ce2{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0cfa161a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0cfa32f8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0cfa3302{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0d02a168'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 1000 characters of of the example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0cfa32f8"><p class="cl-0cfa161a"><span class="cl-0cf55cd8">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0cfa3302"><p class="cl-0cfa161a"><span class="cl-0cf55ce2"> Down the Rabbit-Hole Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, “and what is the use of a book,” thought Alice “without pictures or conversations?” So she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her. There was nothing so _very_ remarkable in that; nor did Alice think it so _very_ much out of the way to hear the Rabbit say to itself, “Oh dear! Oh dear! I shall be late!” (when she thought it over afterwards, it occurred to her that she ought to have wondered at this, but at the time it all seemed quite natural); but when the Rabbit actually _took a watch out of its waistcoat-pocke</span></p></td></tr></tbody></table></div>
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>ADDITIONAL INFO</b>: the regular expression “.<em>CHAPTER I\.” can be
interpreted as follows:<br> Match any sequence of characters (.</em>)
followed by the exact text”CHAPTER I” and ending with a period (.). This
pattern is commonly used to locate occurrences of a chapter heading
labeled “CHAPTER I” within a larger body of text.
</p>
<p></span></p>
</div>
<p><br></p>
<p>The entire content of Lewis Carroll’s <em>Alice’s Adventures in
Wonderland</em> is now combined into a single character object and we
can begin with generating concordances (KWICs).</p>
</div>
<div id="generating-basic-kwics" class="section level2 unnumbered">
<h2 class="unnumbered">Generating Basic KWICs</h2>
<p>Now, extracting concordances becomes straightforward with the
<code>kwic</code> function from the <code>quanteda</code> package. This
function is designed to enable the extraction of keyword-in-context
(KWIC) displays, a common format for displaying concordance lines.</p>
<p>To prepare the text for concordance extraction, we first need to
tokenize it, which involves splitting it into individual words or
tokens. Additionally, we specify the <code>phrase</code> argument in the
<code>kwic</code> function, allowing us to extract phrases consisting of
more than one token, such as “poor alice”.</p>
<p>The <code>kwic</code> function primarily requires two arguments: the
tokenized text (<code>x</code>) and the search pattern
(<code>pattern</code>). Additionally, it offers flexibility by allowing
users to specify the context window, determining the number of words or
elements displayed to the left and right of the nodeword. We’ll delve
deeper into customizing this context window later on.</p>
<pre class="r"><code>mykwic &lt;- quanteda::kwic(
  # define and tokenise text
  quanteda::tokens(text), 
  # define search pattern and add the phrase function
  pattern = phrase(&quot;Alice&quot;)) %&gt;%
  # convert it into a data frame
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-0d65d2f6{table-layout:auto;width:95%;}.cl-0d558ab8{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0d558acc{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0d5b7bf8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0d5b7c0c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0d5ba754{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba75e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba768{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba769{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba76a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba772{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba773{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba77c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba77d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba786{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba787{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba790{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba791{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba79a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba79b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0d5ba7a4{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0d65d2f6'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the nodeword Alice in our example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0d5ba754"><p class="cl-0d5b7bf8"><span class="cl-0d558ab8">docname</span></p></th><th class="cl-0d5ba75e"><p class="cl-0d5b7c0c"><span class="cl-0d558ab8">from</span></p></th><th class="cl-0d5ba75e"><p class="cl-0d5b7c0c"><span class="cl-0d558ab8">to</span></p></th><th class="cl-0d5ba768"><p class="cl-0d5b7bf8"><span class="cl-0d558ab8">pre</span></p></th><th class="cl-0d5ba768"><p class="cl-0d5b7bf8"><span class="cl-0d558ab8">keyword</span></p></th><th class="cl-0d5ba768"><p class="cl-0d5b7bf8"><span class="cl-0d558ab8">post</span></p></th><th class="cl-0d5ba769"><p class="cl-0d5b7bf8"><span class="cl-0d558ab8">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0d5ba76a"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">text1</span></p></td><td class="cl-0d5ba772"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">4</span></p></td><td class="cl-0d5ba772"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">4</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Down the Rabbit-Hole</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">was beginning to get very</span></p></td><td class="cl-0d5ba77c"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0d5ba77d"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">text1</span></p></td><td class="cl-0d5ba786"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">63</span></p></td><td class="cl-0d5ba786"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">63</span></p></td><td class="cl-0d5ba787"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">a book , ” thought</span></p></td><td class="cl-0d5ba787"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td><td class="cl-0d5ba787"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">“ without pictures or conversations</span></p></td><td class="cl-0d5ba790"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0d5ba76a"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">text1</span></p></td><td class="cl-0d5ba772"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">143</span></p></td><td class="cl-0d5ba772"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">143</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">in that ; nor did</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">think it so _very_ much</span></p></td><td class="cl-0d5ba77c"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0d5ba77d"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">text1</span></p></td><td class="cl-0d5ba786"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">229</span></p></td><td class="cl-0d5ba786"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">229</span></p></td><td class="cl-0d5ba787"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">and then hurried on ,</span></p></td><td class="cl-0d5ba787"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td><td class="cl-0d5ba787"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">started to her feet ,</span></p></td><td class="cl-0d5ba790"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0d5ba76a"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">text1</span></p></td><td class="cl-0d5ba772"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">299</span></p></td><td class="cl-0d5ba772"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">299</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">In another moment down went</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td><td class="cl-0d5ba773"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">after it , never once</span></p></td><td class="cl-0d5ba77c"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0d5ba791"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">text1</span></p></td><td class="cl-0d5ba79a"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">338</span></p></td><td class="cl-0d5ba79a"><p class="cl-0d5b7c0c"><span class="cl-0d558acc">338</span></p></td><td class="cl-0d5ba79b"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">down , so suddenly that</span></p></td><td class="cl-0d5ba79b"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td><td class="cl-0d5ba79b"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">had not a moment to</span></p></td><td class="cl-0d5ba7a4"><p class="cl-0d5b7bf8"><span class="cl-0d558acc">Alice</span></p></td></tr></tbody></table></div>
<p>The resulting table showcases how “Alice” is used within our example
text. However, since we use the <code>head</code> function, the table
only displays the first six instances.</p>
<p>After extracting a concordance table, we can easily determine the
frequency of the search term (“alice”) using either the
<code>nrow</code> or <code>length</code> functions. These functions
provide the number of rows in a table (<code>nrow</code>) or the length
of a vector (<code>length</code>).</p>
<pre class="r"><code>nrow(mykwic)</code></pre>
<pre><code>## [1] 386</code></pre>
<pre class="r"><code>length(mykwic$keyword)</code></pre>
<pre><code>## [1] 386</code></pre>
<p>The results indicate that there are 386 instances of the search term
(“alice”). Moreover, we can also explore how often different variants of
the search term were found using the table function. While this may be
particularly useful for searches involving various search terms
(although less so in the present example).</p>
<pre class="r"><code>table(mykwic$keyword)</code></pre>
<pre><code>## 
## Alice 
##   386</code></pre>
<p>To gain a deeper understanding of how a word is used, it can be
beneficial to extract more context. This can be achieved by adjusting
the size of the context window. To do so, we simply specify the
<code>window</code> argument of the <code>kwic</code> function. In the
following example, we set the context window size to 10 words/elements,
deviating from the default size of 5 words/elements.</p>
<pre class="r"><code>mykwic_long &lt;- quanteda::kwic(
  # define text
  quanteda::tokens(text), 
  # define search pattern
  pattern = phrase(&quot;alice&quot;), 
  # define context window size
  window = 10) %&gt;%
  # make it a data frame
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-0dbe52a0{table-layout:auto;width:95%;}.cl-0db0bda2{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0db0bdac{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0db5f20e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0db5f22c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0db63bc4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63be2{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63bec{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63bf6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c00{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c0a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c0b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c14{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c1e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c1f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c28{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c29{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c32{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c33{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c3c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0db63c46{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0dbe52a0'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the nodeword *alice* in the example text with extended context (10 elements).</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0db63bc4"><p class="cl-0db5f20e"><span class="cl-0db0bda2">docname</span></p></th><th class="cl-0db63be2"><p class="cl-0db5f22c"><span class="cl-0db0bda2">from</span></p></th><th class="cl-0db63be2"><p class="cl-0db5f22c"><span class="cl-0db0bda2">to</span></p></th><th class="cl-0db63bec"><p class="cl-0db5f20e"><span class="cl-0db0bda2">pre</span></p></th><th class="cl-0db63bec"><p class="cl-0db5f20e"><span class="cl-0db0bda2">keyword</span></p></th><th class="cl-0db63bec"><p class="cl-0db5f20e"><span class="cl-0db0bda2">post</span></p></th><th class="cl-0db63bf6"><p class="cl-0db5f20e"><span class="cl-0db0bda2">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0db63c00"><p class="cl-0db5f20e"><span class="cl-0db0bdac">text1</span></p></td><td class="cl-0db63c0a"><p class="cl-0db5f22c"><span class="cl-0db0bdac">4</span></p></td><td class="cl-0db63c0a"><p class="cl-0db5f22c"><span class="cl-0db0bdac">4</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">Down the Rabbit-Hole</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">Alice</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">was beginning to get very tired of sitting by her</span></p></td><td class="cl-0db63c14"><p class="cl-0db5f20e"><span class="cl-0db0bdac">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0db63c1e"><p class="cl-0db5f20e"><span class="cl-0db0bdac">text1</span></p></td><td class="cl-0db63c1f"><p class="cl-0db5f22c"><span class="cl-0db0bdac">63</span></p></td><td class="cl-0db63c1f"><p class="cl-0db5f22c"><span class="cl-0db0bdac">63</span></p></td><td class="cl-0db63c28"><p class="cl-0db5f20e"><span class="cl-0db0bdac">what is the use of a book , ” thought</span></p></td><td class="cl-0db63c28"><p class="cl-0db5f20e"><span class="cl-0db0bdac">Alice</span></p></td><td class="cl-0db63c28"><p class="cl-0db5f20e"><span class="cl-0db0bdac">“ without pictures or conversations ? ” So she was</span></p></td><td class="cl-0db63c29"><p class="cl-0db5f20e"><span class="cl-0db0bdac">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0db63c00"><p class="cl-0db5f20e"><span class="cl-0db0bdac">text1</span></p></td><td class="cl-0db63c0a"><p class="cl-0db5f22c"><span class="cl-0db0bdac">143</span></p></td><td class="cl-0db63c0a"><p class="cl-0db5f22c"><span class="cl-0db0bdac">143</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">was nothing so _very_ remarkable in that ; nor did</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">Alice</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">think it so _very_ much out of the way to</span></p></td><td class="cl-0db63c14"><p class="cl-0db5f20e"><span class="cl-0db0bdac">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0db63c1e"><p class="cl-0db5f20e"><span class="cl-0db0bdac">text1</span></p></td><td class="cl-0db63c1f"><p class="cl-0db5f22c"><span class="cl-0db0bdac">229</span></p></td><td class="cl-0db63c1f"><p class="cl-0db5f22c"><span class="cl-0db0bdac">229</span></p></td><td class="cl-0db63c28"><p class="cl-0db5f20e"><span class="cl-0db0bdac">and looked at it , and then hurried on ,</span></p></td><td class="cl-0db63c28"><p class="cl-0db5f20e"><span class="cl-0db0bdac">Alice</span></p></td><td class="cl-0db63c28"><p class="cl-0db5f20e"><span class="cl-0db0bdac">started to her feet , for it flashed across her</span></p></td><td class="cl-0db63c29"><p class="cl-0db5f20e"><span class="cl-0db0bdac">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0db63c00"><p class="cl-0db5f20e"><span class="cl-0db0bdac">text1</span></p></td><td class="cl-0db63c0a"><p class="cl-0db5f22c"><span class="cl-0db0bdac">299</span></p></td><td class="cl-0db63c0a"><p class="cl-0db5f22c"><span class="cl-0db0bdac">299</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">rabbit-hole under the hedge . In another moment down went</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">Alice</span></p></td><td class="cl-0db63c0b"><p class="cl-0db5f20e"><span class="cl-0db0bdac">after it , never once considering how in the world</span></p></td><td class="cl-0db63c14"><p class="cl-0db5f20e"><span class="cl-0db0bdac">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0db63c32"><p class="cl-0db5f20e"><span class="cl-0db0bdac">text1</span></p></td><td class="cl-0db63c33"><p class="cl-0db5f22c"><span class="cl-0db0bdac">338</span></p></td><td class="cl-0db63c33"><p class="cl-0db5f22c"><span class="cl-0db0bdac">338</span></p></td><td class="cl-0db63c3c"><p class="cl-0db5f20e"><span class="cl-0db0bdac">, and then dipped suddenly down , so suddenly that</span></p></td><td class="cl-0db63c3c"><p class="cl-0db5f20e"><span class="cl-0db0bdac">Alice</span></p></td><td class="cl-0db63c3c"><p class="cl-0db5f20e"><span class="cl-0db0bdac">had not a moment to think about stopping herself before</span></p></td><td class="cl-0db63c46"><p class="cl-0db5f20e"><span class="cl-0db0bdac">alice</span></p></td></tr></tbody></table></div>
<hr />
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>EXERCISE TIME!</b>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<div class="question">
<p>`</p>
<ol style="list-style-type: decimal">
<li>Extract the first 10 concordances for the word
<em>confused</em>.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_confused &lt;- quanteda::kwic(x = quanteda::tokens(text), pattern = phrase(&quot;confused&quot;))
  # inspect
  kwic_confused %&gt;%
  as.data.frame() %&gt;%
  head(10)</code></pre>
<pre><code>  ##   docname  from    to                    pre  keyword
  ## 1   text1  6217  6217     , calling out in a confused
  ## 2   text1 19140 19140     . ” This answer so confused
  ## 3   text1 19325 19325 said Alice , very much confused
  ## 4   text1 33422 33422      she knew ) to the confused
  ##                                  post  pattern
  ## 1                    way , “ Prizes ! confused
  ## 2               poor Alice , that she confused
  ## 3                   , “ I don’t think confused
  ## 4 clamour of the busy farm-yard—while confused</code></pre>
</details>
<ol start="2" style="list-style-type: decimal">
<li>How many instances are there of the word
<em>wondering</em>?<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  quanteda::kwic(x = quanteda::tokens(text), pattern = phrase(&quot;wondering&quot;)) %&gt;%
  as.data.frame() %&gt;%
  nrow()</code></pre>
<pre><code>  ## [1] 7</code></pre>
</details>
<ol start="3" style="list-style-type: decimal">
<li>Extract concordances for the word <em>strange</em> and show the
first 5 concordance lines.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_strange &lt;- quanteda::kwic(x = quanteda::tokens(text), pattern = phrase(&quot;strange&quot;))
  # inspect
  kwic_strange %&gt;%
  as.data.frame() %&gt;%
  head(5)</code></pre>
<pre><code>  ##   docname  from    to                          pre keyword
  ## 1   text1  3527  3527 her voice sounded hoarse and strange
  ## 2   text1 13147 13147         , that it felt quite strange
  ## 3   text1 32997 32997    remember them , all these strange
  ## 4   text1 33204 33204    her became alive with the strange
  ## 5   text1 33514 33514        and eager with many a strange
  ##                               post pattern
  ## 1              , and the words did strange
  ## 2               at first ; but she strange
  ## 3      Adventures of hers that you strange
  ## 4 creatures of her little sister’s strange
  ## 5         tale , perhaps even with strange</code></pre>
</details>
</div>
<p>`</p>
<hr />
</div>
<div id="exporting-kwics" class="section level2 unnumbered">
<h2 class="unnumbered">Exporting KWICs</h2>
<p>To export or save a concordance table as an MS Excel spreadsheet, you
can utilize the <code>write_xlsx</code> function from the
<code>writexl</code> package, as demonstrated below. It’s important to
note that we employ the <code>here</code> function from the
<code>here</code> package to specify the location where we want to save
the file. In this instance, we save the file in the current working
directory. If you’re working with Rproj files in RStudio, which is
recommended, then the current working directory corresponds to the
directory or folder where your Rproj file is located.</p>
<pre class="r"><code>write_xlsx(mykwic, here::here(&quot;mykwic.xlsx&quot;))</code></pre>
</div>
<div id="extracting-multi-word-expressions"
class="section level2 unnumbered">
<h2 class="unnumbered">Extracting Multi-Word Expressions</h2>
<p>While extracting single words is a common practice, there are
situations where you may need to extract more than just one word at a
time. This can be particularly useful when you’re interested in
extracting phrases or multi-word expressions from your text data. To
accomplish this, you simply need to specify that the pattern you are
searching for is a phrase. This allows you to extract contiguous
sequences of words that form meaningful units of text.</p>
<p>For example, if you’re analyzing a text and want to extract phrases
like “poor alice”, “mad hatter”, or “cheshire cat”, you can easily do so
by specifying these phrases as your search patterns.</p>
<pre class="r"><code># extract concordances for the phrase &quot;poor alice&quot; using the kwic function from the quanteda package
kwic_pooralice &lt;- quanteda::kwic(
  # tokenizing the input text
  quanteda::tokens(text),  
  # specifying the search pattern as the phrase &quot;poor alice&quot;
  pattern = phrase(&quot;poor alice&quot;) ) %&gt;%
  # converting the result to a data frame for easier manipulation
  as.data.frame()                                  </code></pre>
<div class="tabwid"><style>.cl-0e56d624{table-layout:auto;width:95%;}.cl-0e47e204{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0e47e20e{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0e4d1c06{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0e4d1c1a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0e4d6b8e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6ba2{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bac{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bb6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bc0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bca{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bd4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bd5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bde{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6be8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6be9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bf2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6bfc{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6c06{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6c10{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e4d6c1a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0e56d624'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the nodephrase *poor alice* in the example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0e4d6b8e"><p class="cl-0e4d1c06"><span class="cl-0e47e204">docname</span></p></th><th class="cl-0e4d6ba2"><p class="cl-0e4d1c1a"><span class="cl-0e47e204">from</span></p></th><th class="cl-0e4d6ba2"><p class="cl-0e4d1c1a"><span class="cl-0e47e204">to</span></p></th><th class="cl-0e4d6bac"><p class="cl-0e4d1c06"><span class="cl-0e47e204">pre</span></p></th><th class="cl-0e4d6bac"><p class="cl-0e4d1c06"><span class="cl-0e47e204">keyword</span></p></th><th class="cl-0e4d6bac"><p class="cl-0e4d1c06"><span class="cl-0e47e204">post</span></p></th><th class="cl-0e4d6bb6"><p class="cl-0e4d1c06"><span class="cl-0e47e204">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bc0"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">1,541</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">1,542</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">go through , ” thought</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">, “ it would be</span></p></td><td class="cl-0e4d6bd5"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bde"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6be8"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">2,130</span></p></td><td class="cl-0e4d6be8"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">2,131</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">; but , alas for</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">! when she got to</span></p></td><td class="cl-0e4d6bf2"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bc0"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">2,332</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">2,333</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">use now , ” thought</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">, “ to pretend to</span></p></td><td class="cl-0e4d6bd5"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bde"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6be8"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">2,887</span></p></td><td class="cl-0e4d6be8"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">2,888</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">to the garden door .</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">Poor Alice</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">! It was as much</span></p></td><td class="cl-0e4d6bf2"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bc0"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">3,604</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">3,605</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">right words , ” said</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">, and her eyes filled</span></p></td><td class="cl-0e4d6bd5"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bde"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6be8"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">6,876</span></p></td><td class="cl-0e4d6be8"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">6,877</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">mean it ! ” pleaded</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">. “ But you’re so</span></p></td><td class="cl-0e4d6bf2"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bc0"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">7,290</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">7,291</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">more ! ” And here</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">began to cry again ,</span></p></td><td class="cl-0e4d6bd5"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bde"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6be8"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">8,239</span></p></td><td class="cl-0e4d6be8"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">8,240</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">at home , ” thought</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6be9"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">, “ when one wasn’t</span></p></td><td class="cl-0e4d6bf2"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bc0"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">11,788</span></p></td><td class="cl-0e4d6bca"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">11,789</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">to it ! ” pleaded</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6bd4"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">in a piteous tone .</span></p></td><td class="cl-0e4d6bd5"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e4d6bfc"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">text1</span></p></td><td class="cl-0e4d6c06"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">19,141</span></p></td><td class="cl-0e4d6c06"><p class="cl-0e4d1c1a"><span class="cl-0e47e20e">19,142</span></p></td><td class="cl-0e4d6c10"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">” This answer so confused</span></p></td><td class="cl-0e4d6c10"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor Alice</span></p></td><td class="cl-0e4d6c10"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">, that she let the</span></p></td><td class="cl-0e4d6c1a"><p class="cl-0e4d1c06"><span class="cl-0e47e20e">poor alice</span></p></td></tr></tbody></table></div>
<p>In addition to exact words or phrases, there are situations where you
may need to extract more or less fixed patterns from your text data.
These patterns might allow for variations in spelling, punctuation, or
formatting. To search for such flexible patterns, you need to
incorporate regular expressions into your search pattern.</p>
<p>Regular expressions (regex) are powerful tools for pattern matching
and text manipulation. They allow you to define flexible search patterns
that can match a wide range of text variations. For example, you can use
regex to find all instances of a word regardless of whether it’s in
lowercase or uppercase, or to identify patterns like dates, email
addresses, or URLs.</p>
<p>To incorporate regular expressions into your search pattern, you can
use functions like <code>grepl()</code> or <code>grep()</code> in base
R, or <code>str_detect()</code> and <code>str_extract()</code> in the
<code>stringr</code> package. These functions allow you to specify regex
patterns to search for within your text data.</p>
<hr />
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>EXERCISE TIME!</b>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<div class="question">
<p>`</p>
<ol style="list-style-type: decimal">
<li>Extract the first 10 concordances for the phrase <em>the
hatter</em>.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_thehatter &lt;- quanteda::kwic(x = quanteda::tokens(text), pattern = phrase(&quot;the hatter&quot;))
  # inspect
  kwic_thehatter %&gt;%
  as.data.frame() %&gt;%
  head(10)</code></pre>
<pre><code>  ##    docname  from    to                    pre    keyword
  ## 1    text1 16576 16577   wish I’d gone to see the Hatter
  ## 2    text1 16607 16608 and the March Hare and the Hatter
  ## 3    text1 16859 16860 wants cutting , ” said the Hatter
  ## 4    text1 16905 16906     it’s very rude . ” The Hatter
  ## 5    text1 17049 17050         a bit ! ” said the Hatter
  ## 6    text1 17174 17175      with you , ” said the Hatter
  ## 7    text1 17209 17210  , which wasn’t much . The Hatter
  ## 8    text1 17287 17288  days wrong ! ” sighed the Hatter
  ## 9    text1 17338 17339         in as well , ” the Hatter
  ## 10   text1 17453 17454 should it ? ” muttered the Hatter
  ##                           post    pattern
  ## 1      instead ! ” CHAPTER VII the hatter
  ## 2        were having tea at it the hatter
  ## 3        . He had been looking the hatter
  ## 4    opened his eyes very wide the hatter
  ## 5           . “ You might just the hatter
  ## 6  , and here the conversation the hatter
  ## 7       was the first to break the hatter
  ## 8               . “ I told you the hatter
  ## 9   grumbled : “ you shouldn’t the hatter
  ## 10       . “ Does _your_ watch the hatter</code></pre>
</details>
<ol start="2" style="list-style-type: decimal">
<li>How many instances are there of the phrase <em>the
hatter</em>?<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_thehatter %&gt;%
  as.data.frame() %&gt;%
  nrow()</code></pre>
<pre><code>  ## [1] 51</code></pre>
</details>
<ol start="3" style="list-style-type: decimal">
<li>Extract concordances for the phrase <em>the cat</em> and show the
first 5 concordance lines.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_thecat &lt;- quanteda::kwic(x = quanteda::tokens(text), pattern = phrase(&quot;the cat&quot;))
  # inspect
  kwic_thecat %&gt;%
  as.data.frame() %&gt;%
  head(5)</code></pre>
<pre><code>  ##   docname  from    to               pre keyword                     post
  ## 1   text1   932   933   ! ” ( Dinah was the cat             . ) “ I hope
  ## 2   text1 15624 15625 a few yards off . The Cat only grinned when it saw
  ## 3   text1 15749 15750   get to , ” said the Cat         . “ I don’t much
  ## 4   text1 15775 15776   you go , ” said the Cat            . “ — so long
  ## 5   text1 15805 15806  do that , ” said the Cat          , “ if you only
  ##   pattern
  ## 1 the cat
  ## 2 the cat
  ## 3 the cat
  ## 4 the cat
  ## 5 the cat</code></pre>
</details>
</div>
<p>`</p>
<hr />
</div>
<div id="concordancing-using-regular-expressions"
class="section level2 unnumbered">
<h2 class="unnumbered">Concordancing Using Regular Expressions</h2>
<p>Regular expressions provide a powerful means of searching for
abstract patterns within text data, offering unparalleled flexibility
beyond concrete words or phrases. Often abbreviated as <em>regex</em> or
<em>regexp</em>, a regular expression is a special sequence of
characters that describe a pattern to be matched in a text.</p>
<p>You can conceptualize regular expressions as highly potent
combinations of wildcards, offering an extensive range of
pattern-matching capabilities. For instance, the sequence
<code>[a-z]{1,3}</code> is a regular expression that signifies one to
three lowercase characters. Searching for this regular expression would
yield results such as “is”, “a”, “an”, “of”, “the”, “my”, “our”, and
other short words.</p>
<p>There are three fundamental types of regular expressions:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Regular expressions for individual symbols and
frequencies</strong>: These regular expressions represent single
characters and determine their frequencies within the text. For example,
<code>[a-z]</code> matches any lowercase letter, <code>[0-9]</code>
matches any digit, and <code>{1,3}</code> specifies a range of
occurrences (one to three in this case).</p></li>
<li><p><strong>Regular expressions for classes of symbols</strong>:
These regular expressions represent classes or groups of symbols with
shared characteristics. For instance, <code>\d</code> matches any digit,
<code>\w</code> matches any word character (alphanumeric characters and
underscores), and <code>\s</code> matches any whitespace
character.</p></li>
<li><p><strong>Regular expressions for structural properties</strong>:
These regular expressions represent structural properties or patterns
within the text. For example, <code>^</code> matches the start of a
line, <code>$</code> matches the end of a line, and <code>\b</code>
matches a word boundary.</p></li>
</ol>
<p>The regular expressions below show the first type of regular
expressions, i.e. regular expressions that stand for individual symbols
and determine frequencies.</p>
<div class="tabwid"><style>.cl-0ea2507c{table-layout:auto;width:75%;}.cl-0e96bf46{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0e96bf5a{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0e9b46c4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0e9b63b6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63b7{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63c0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63c1{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63ca{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63cb{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63d4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63d5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63de{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63e8{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63e9{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0e9b63f2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0ea2507c'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Regular expressions that stand for individual symbols and determine frequencies.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0e9b63b6"><p class="cl-0e9b46c4"><span class="cl-0e96bf46">RegEx Symbol/Sequence</span></p></th><th class="cl-0e9b63b7"><p class="cl-0e9b46c4"><span class="cl-0e96bf46">Explanation</span></p></th><th class="cl-0e9b63c0"><p class="cl-0e9b46c4"><span class="cl-0e96bf46">Example</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0e9b63c1"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">?</span></p></td><td class="cl-0e9b63ca"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">The preceding item is optional and will be matched at most once</span></p></td><td class="cl-0e9b63cb"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">walk[a-z]? = walk, walks</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e9b63d4"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">*</span></p></td><td class="cl-0e9b63d5"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">The preceding item will be matched zero or more times</span></p></td><td class="cl-0e9b63de"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">walk[a-z]* = walk, walks, walked, walking</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e9b63c1"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">+</span></p></td><td class="cl-0e9b63ca"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">The preceding item will be matched one or more times</span></p></td><td class="cl-0e9b63cb"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">walk[a-z]+ = walks, walked, walking</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e9b63d4"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">{n}</span></p></td><td class="cl-0e9b63d5"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">The preceding item is matched exactly n times</span></p></td><td class="cl-0e9b63de"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">walk[a-z]{2} = walked</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e9b63c1"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">{n,}</span></p></td><td class="cl-0e9b63ca"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">The preceding item is matched n or more times</span></p></td><td class="cl-0e9b63cb"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">walk[a-z]{2,} = walked, walking</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0e9b63e8"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">{n,m}</span></p></td><td class="cl-0e9b63e9"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">The preceding item is matched at least n times, but not more than m times</span></p></td><td class="cl-0e9b63f2"><p class="cl-0e9b46c4"><span class="cl-0e96bf5a">walk[a-z]{2,3} = walked, walking</span></p></td></tr></tbody></table></div>
<p>The regular expressions below show the second type of regular
expressions, i.e. regular expressions that stand for classes of
symbols.</p>
<div class="tabwid"><style>.cl-0ec8a63c{table-layout:auto;width:75%;}.cl-0eba08d4{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0eba08f2{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0ebf341c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0ebf50aa{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ebf50b4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ebf50be{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ebf50bf{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ebf50c8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ebf50d2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ebf50d3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ebf50dc{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0ec8a63c'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Regular expressions that stand for classes of symbols.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0ebf50aa"><p class="cl-0ebf341c"><span class="cl-0eba08d4">RegEx Symbol/Sequence</span></p></th><th class="cl-0ebf50b4"><p class="cl-0ebf341c"><span class="cl-0eba08d4">Explanation</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50be"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[ab]</span></p></td><td class="cl-0ebf50bf"><p class="cl-0ebf341c"><span class="cl-0eba08f2">lower case a and b</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50c8"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[AB]</span></p></td><td class="cl-0ebf50d2"><p class="cl-0ebf341c"><span class="cl-0eba08f2">upper case a and b</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50be"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[12]</span></p></td><td class="cl-0ebf50bf"><p class="cl-0ebf341c"><span class="cl-0eba08f2">digits 1 and 2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50c8"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:digit:]</span></p></td><td class="cl-0ebf50d2"><p class="cl-0ebf341c"><span class="cl-0eba08f2">digits: 0 1 2 3 4 5 6 7 8 9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50be"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:lower:]</span></p></td><td class="cl-0ebf50bf"><p class="cl-0ebf341c"><span class="cl-0eba08f2">lower case characters: a–z</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50c8"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:upper:]</span></p></td><td class="cl-0ebf50d2"><p class="cl-0ebf341c"><span class="cl-0eba08f2">upper case characters: A–Z</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50be"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:alpha:]</span></p></td><td class="cl-0ebf50bf"><p class="cl-0ebf341c"><span class="cl-0eba08f2">alphabetic characters: a–z and A–Z</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50c8"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:alnum:]</span></p></td><td class="cl-0ebf50d2"><p class="cl-0ebf341c"><span class="cl-0eba08f2">digits and alphabetic characters</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50be"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:punct:]</span></p></td><td class="cl-0ebf50bf"><p class="cl-0ebf341c"><span class="cl-0eba08f2">punctuation characters: . , ; etc.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50c8"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:graph:]</span></p></td><td class="cl-0ebf50d2"><p class="cl-0ebf341c"><span class="cl-0eba08f2">graphical characters: [:alnum:] and [:punct:]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50be"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:blank:]</span></p></td><td class="cl-0ebf50bf"><p class="cl-0ebf341c"><span class="cl-0eba08f2">blank characters: Space and tab</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50c8"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:space:]</span></p></td><td class="cl-0ebf50d2"><p class="cl-0ebf341c"><span class="cl-0eba08f2">space characters: Space, tab, newline, and other space characters</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ebf50d3"><p class="cl-0ebf341c"><span class="cl-0eba08f2">[:print:]</span></p></td><td class="cl-0ebf50dc"><p class="cl-0ebf341c"><span class="cl-0eba08f2">printable characters: [:alnum:], [:punct:] and [:space:]</span></p></td></tr></tbody></table></div>
<p>The regular expressions that denote classes of symbols are enclosed
in <code>[]</code> and <code>:</code>. The last type of regular
expressions, i.e. regular expressions that stand for structural
properties are shown below.</p>
<div class="tabwid"><style>.cl-0eef32d4{table-layout:auto;width:50%;}.cl-0ee259f6{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0ee25a0a{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0ee8442e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0ee860ee{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ee860f8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ee860f9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ee86102{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ee8610c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ee8610d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ee86116{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0ee86117{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0eef32d4'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Regular expressions that stand for structural properties.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0ee860ee"><p class="cl-0ee8442e"><span class="cl-0ee259f6">RegEx Symbol/Sequence</span></p></th><th class="cl-0ee860f8"><p class="cl-0ee8442e"><span class="cl-0ee259f6">Explanation</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0ee860f9"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">\\w</span></p></td><td class="cl-0ee86102"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">Word characters: [[:alnum:]_]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee8610c"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">\\W</span></p></td><td class="cl-0ee8610d"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">No word characters: [^[:alnum:]_]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee860f9"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">\\s</span></p></td><td class="cl-0ee86102"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">Space characters: [[:blank:]]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee8610c"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">\\S</span></p></td><td class="cl-0ee8610d"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">No space characters: [^[:blank:]]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee860f9"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">\\d</span></p></td><td class="cl-0ee86102"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">Digits: [[:digit:]]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee8610c"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">\\D</span></p></td><td class="cl-0ee8610d"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">No digits: [^[:digit:]]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee860f9"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">\\b</span></p></td><td class="cl-0ee86102"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">Word edge</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee8610c"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">\\B</span></p></td><td class="cl-0ee8610d"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">No word edge</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee860f9"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">&lt;</span></p></td><td class="cl-0ee86102"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">Word beginning</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee8610c"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">&gt;</span></p></td><td class="cl-0ee8610d"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">Word end</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee860f9"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">^</span></p></td><td class="cl-0ee86102"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">Beginning of a string</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0ee86116"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">$</span></p></td><td class="cl-0ee86117"><p class="cl-0ee8442e"><span class="cl-0ee25a0a">End of a string</span></p></td></tr></tbody></table></div>
<p>To incorporate regular expressions into your KWIC searches, you
include them in your search pattern and set the <code>valuetype</code>
argument to <code>"regex"</code>. This allows you to specify complex
search patterns that go beyond exact word matches.</p>
<p>For example, consider the search pattern
<code>"\\balic.*|\\bhatt.*"</code>. In this pattern:</p>
<ul>
<li><code>\\b</code> indicates a word boundary, ensuring that the
subsequent characters are at the beginning of a word.</li>
<li><code>alic.*</code> matches any sequence of characters
(<code>.*</code>) that begins with <code>alic</code>.</li>
<li><code>hatt.*</code> matches any sequence of characters that begins
with <code>hatt</code>.</li>
<li>The <code>|</code> operator functions as an OR operator, allowing
the pattern to match either <code>alic.*</code> or
<code>hatt.*</code>.</li>
</ul>
<p>As a result, this search pattern retrieves elements that contain
<code>alic</code> or <code>hatt</code> followed by any characters, but
only where <code>alic</code> and <code>hatt</code> are the first letters
of a word. Consequently, words like “malice” or “shatter” would not be
retrieved.</p>
<p>By uaing regular expressions in your KWIC searches, you can conduct
more nuanced and precise searches, capturing specific patterns or
variations within your text data.</p>
<pre class="r"><code># define search patterns
patterns &lt;- c(&quot;\\balic.*|\\bhatt.*&quot;)
kwic_regex &lt;- quanteda::kwic(
  # define text
  quanteda::tokens(text), 
  # define search pattern
  patterns, 
  # define valuetype
  valuetype = &quot;regex&quot;) %&gt;%
  # make it a data frame
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-0f2292f0{table-layout:auto;width:95%;}.cl-0f163848{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0f16385c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0f1a5018{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0f1a502c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0f1a6d50{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d5a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d5b{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d64{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d65{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d66{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d6e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d78{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d79{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d7a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d82{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d83{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d8c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d8d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d8e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f1a6d96{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0f2292f0'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the regular expression \balic.* and \bhatt.*.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0f1a6d50"><p class="cl-0f1a5018"><span class="cl-0f163848">docname</span></p></th><th class="cl-0f1a6d5a"><p class="cl-0f1a502c"><span class="cl-0f163848">from</span></p></th><th class="cl-0f1a6d5a"><p class="cl-0f1a502c"><span class="cl-0f163848">to</span></p></th><th class="cl-0f1a6d5b"><p class="cl-0f1a5018"><span class="cl-0f163848">pre</span></p></th><th class="cl-0f1a6d5b"><p class="cl-0f1a5018"><span class="cl-0f163848">keyword</span></p></th><th class="cl-0f1a6d5b"><p class="cl-0f1a5018"><span class="cl-0f163848">post</span></p></th><th class="cl-0f1a6d64"><p class="cl-0f1a5018"><span class="cl-0f163848">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d65"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">4</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">4</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">Down the Rabbit-Hole</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">was beginning to get very</span></p></td><td class="cl-0f1a6d78"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d79"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d7a"><p class="cl-0f1a502c"><span class="cl-0f16385c">63</span></p></td><td class="cl-0f1a6d7a"><p class="cl-0f1a502c"><span class="cl-0f16385c">63</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">a book , ” thought</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">“ without pictures or conversations</span></p></td><td class="cl-0f1a6d83"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d65"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">143</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">143</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">in that ; nor did</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">think it so _very_ much</span></p></td><td class="cl-0f1a6d78"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d79"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d7a"><p class="cl-0f1a502c"><span class="cl-0f16385c">229</span></p></td><td class="cl-0f1a6d7a"><p class="cl-0f1a502c"><span class="cl-0f16385c">229</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">and then hurried on ,</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">started to her feet ,</span></p></td><td class="cl-0f1a6d83"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d65"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">299</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">299</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">In another moment down went</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">after it , never once</span></p></td><td class="cl-0f1a6d78"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d79"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d7a"><p class="cl-0f1a502c"><span class="cl-0f16385c">338</span></p></td><td class="cl-0f1a6d7a"><p class="cl-0f1a502c"><span class="cl-0f16385c">338</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">down , so suddenly that</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">had not a moment to</span></p></td><td class="cl-0f1a6d83"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d65"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">521</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">521</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">“ Well ! ” thought</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">to herself , “ after</span></p></td><td class="cl-0f1a6d78"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d79"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d7a"><p class="cl-0f1a502c"><span class="cl-0f16385c">647</span></p></td><td class="cl-0f1a6d7a"><p class="cl-0f1a502c"><span class="cl-0f16385c">647</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">for , you see ,</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d82"><p class="cl-0f1a5018"><span class="cl-0f16385c">had learnt several things of</span></p></td><td class="cl-0f1a6d83"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d65"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">719</span></p></td><td class="cl-0f1a6d66"><p class="cl-0f1a502c"><span class="cl-0f16385c">719</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">got to ? ” (</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d6e"><p class="cl-0f1a5018"><span class="cl-0f16385c">had no idea what Latitude</span></p></td><td class="cl-0f1a6d78"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f1a6d8c"><p class="cl-0f1a5018"><span class="cl-0f16385c">text1</span></p></td><td class="cl-0f1a6d8d"><p class="cl-0f1a502c"><span class="cl-0f16385c">910</span></p></td><td class="cl-0f1a6d8d"><p class="cl-0f1a502c"><span class="cl-0f16385c">910</span></p></td><td class="cl-0f1a6d8e"><p class="cl-0f1a5018"><span class="cl-0f16385c">else to do , so</span></p></td><td class="cl-0f1a6d8e"><p class="cl-0f1a5018"><span class="cl-0f16385c">Alice</span></p></td><td class="cl-0f1a6d8e"><p class="cl-0f1a5018"><span class="cl-0f16385c">soon began talking again .</span></p></td><td class="cl-0f1a6d96"><p class="cl-0f1a5018"><span class="cl-0f16385c">\balic.*|\bhatt.*</span></p></td></tr></tbody></table></div>
<hr />
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>EXERCISE TIME!</b>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<div class="question">
<p>`</p>
<ol style="list-style-type: decimal">
<li>Extract the first 10 concordances for words containing
<em>exu</em>.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_exu &lt;- quanteda::kwic(x = quanteda::tokens(text), pattern = &quot;.*exu.*&quot;, valuetype = &quot;regex&quot;)
  # inspect
  kwic_exu %&gt;%
  as.data.frame() %&gt;%
  head(10)</code></pre>
<pre><code>  ## [1] docname from    to      pre     keyword post    pattern
  ## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
</details>
<ol start="2" style="list-style-type: decimal">
<li>How many instances are there of words beginning with
<em>pit</em>?<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  quanteda::kwic(x = quanteda::tokens(text), pattern = &quot;\\bpit.*&quot;, valuetype = &quot;regex&quot;) %&gt;%
  as.data.frame() %&gt;%
  nrow()</code></pre>
<pre><code>  ## [1] 5</code></pre>
</details>
<ol start="3" style="list-style-type: decimal">
<li>Extract concordances for words ending with <em>ption</em> and show
the first 5 concordance lines.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  quanteda::kwic(x = quanteda::tokens(text), pattern = &quot;ption\\b&quot;, valuetype = &quot;regex&quot;)  %&gt;%
  as.data.frame() %&gt;%
  head(5)</code></pre>
<pre><code>  ##   docname from   to                         pre  keyword
  ## 1   text1 5775 5775 adjourn , for the immediate adoption
  ##                           post  pattern
  ## 1 of more energetic remedies — ption\\b</code></pre>
</details>
</div>
<p>`</p>
<hr />
</div>
<div id="concordancing-and-piping" class="section level2 unnumbered">
<h2 class="unnumbered">Concordancing and Piping</h2>
<p>Quite often, we want to retrieve patterns only if they occur in a
specific context. For instance, we might be interested in instances of
“alice”, but only if the preceding word is “poor” or “little”. While
such conditional concordances could be extracted using regular
expressions, they are more easily retrieved by piping.</p>
<p>Piping is achieved using the <code>%&gt;%</code> function from the
<code>dplyr</code> package, and the piping sequence can be interpreted
as “and then”. We can then filter those concordances that contain
“alice” using the <code>filter</code> function from the
<code>dplyr</code> package. Note that the <code>$</code> symbol stands
for the end of a string, so “poor$” signifies that “poor” is the last
element in the string that precedes the nodeword.</p>
<pre class="r"><code># extract KWIC concordances
quanteda::kwic(        
  # input  tokenized text
  x = quanteda::tokens(text),                     
  # define search pattern (&quot;alice&quot;)
  pattern = &quot;alice&quot;  
  # pipe (and then)
) %&gt;%
  # convert result to data frame
  as.data.frame() %&gt;%                              
  # filter concordances with &quot;poor&quot; or &quot;little&quot; preceding &quot;alice&quot;
  # save result in object called &quot;kwic_pipe&quot;
  dplyr::filter(stringr::str_detect(pre, &quot;poor$|little$&quot;)) -&gt; kwic_pipe  </code></pre>
<div class="tabwid"><style>.cl-0f940b88{table-layout:auto;width:95%;}.cl-0f88bc2e{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0f88bc42{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0f8ce812{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0f8ce81c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0f8d04a0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04aa{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04ab{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04b4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04b5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04be{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04bf{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04c8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04c9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04d2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04d3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04d4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04d5{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04dc{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04dd{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0f8d04e6{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0f940b88'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for instances of *alice* that are preceeded by *poor* or *little*.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0f8d04a0"><p class="cl-0f8ce812"><span class="cl-0f88bc2e">docname</span></p></th><th class="cl-0f8d04aa"><p class="cl-0f8ce81c"><span class="cl-0f88bc2e">from</span></p></th><th class="cl-0f8d04aa"><p class="cl-0f8ce81c"><span class="cl-0f88bc2e">to</span></p></th><th class="cl-0f8d04ab"><p class="cl-0f8ce812"><span class="cl-0f88bc2e">pre</span></p></th><th class="cl-0f8d04ab"><p class="cl-0f8ce812"><span class="cl-0f88bc2e">keyword</span></p></th><th class="cl-0f8d04ab"><p class="cl-0f8ce812"><span class="cl-0f88bc2e">post</span></p></th><th class="cl-0f8d04b4"><p class="cl-0f8ce812"><span class="cl-0f88bc2e">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04b5"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">1,542</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">1,542</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">through , ” thought poor</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">, “ it would be</span></p></td><td class="cl-0f8d04c8"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04c9"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04d2"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">1,725</span></p></td><td class="cl-0f8d04d2"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">1,725</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">” but the wise little</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">was not going to do</span></p></td><td class="cl-0f8d04d4"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04b5"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">2,131</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">2,131</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">but , alas for poor</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">! when she got to</span></p></td><td class="cl-0f8d04c8"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04c9"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04d2"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">2,333</span></p></td><td class="cl-0f8d04d2"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">2,333</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">now , ” thought poor</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">, “ to pretend to</span></p></td><td class="cl-0f8d04d4"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04b5"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">3,605</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">3,605</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">words , ” said poor</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">, and her eyes filled</span></p></td><td class="cl-0f8d04c8"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04c9"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04d2"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">6,877</span></p></td><td class="cl-0f8d04d2"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">6,877</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">it ! ” pleaded poor</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">. “ But you’re so</span></p></td><td class="cl-0f8d04d4"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04b5"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">7,291</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">7,291</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">! ” And here poor</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">began to cry again ,</span></p></td><td class="cl-0f8d04c8"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04c9"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04d2"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">8,240</span></p></td><td class="cl-0f8d04d2"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">8,240</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">home , ” thought poor</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04d3"><p class="cl-0f8ce812"><span class="cl-0f88bc42">, “ when one wasn’t</span></p></td><td class="cl-0f8d04d4"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04b5"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">11,789</span></p></td><td class="cl-0f8d04be"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">11,789</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">it ! ” pleaded poor</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04bf"><p class="cl-0f8ce812"><span class="cl-0f88bc42">in a piteous tone .</span></p></td><td class="cl-0f8d04c8"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0f8d04d5"><p class="cl-0f8ce812"><span class="cl-0f88bc42">text1</span></p></td><td class="cl-0f8d04dc"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">19,142</span></p></td><td class="cl-0f8d04dc"><p class="cl-0f8ce81c"><span class="cl-0f88bc42">19,142</span></p></td><td class="cl-0f8d04dd"><p class="cl-0f8ce812"><span class="cl-0f88bc42">This answer so confused poor</span></p></td><td class="cl-0f8d04dd"><p class="cl-0f8ce812"><span class="cl-0f88bc42">Alice</span></p></td><td class="cl-0f8d04dd"><p class="cl-0f8ce812"><span class="cl-0f88bc42">, that she let the</span></p></td><td class="cl-0f8d04e6"><p class="cl-0f8ce812"><span class="cl-0f88bc42">alice</span></p></td></tr></tbody></table></div>
<p>In this code:</p>
<ul>
<li><code>quanteda::kwic</code>: This function extracts KWIC
concordances from the input text.</li>
<li><code>quanteda::tokens(text)</code>: The input text is tokenized
using the <code>tokens</code> function from the <code>quanteda</code>
package.</li>
<li><code>pattern = "alice"</code>: Specifies the search pattern as
“alice”.</li>
<li><code>%&gt;%</code>: The pipe operator (<code>%&gt;%</code>) chains
together multiple operations, passing the result of one operation as the
input to the next.</li>
<li><code>as.data.frame()</code>: Converts the resulting concordance
object into a data frame.</li>
<li><code>dplyr::filter(...)</code>: Filters the concordances based on
the specified condition, which is whether “poor” or “little” precedes
“alice”.</li>
</ul>
<p>Piping is an indispensable tool in R, commonly used across various
data science domains, including text processing. This powerful function,
denoted by <code>%&gt;%</code>, allows for a more streamlined and
readable workflow by chaining together multiple operations in a
sequential manner.</p>
<p>Instead of nesting functions or creating intermediate variables,
piping allows to take an easy-to-understand and more intuitive approach
to data manipulation and analysis. With piping, each operation is
performed “and then” the next, leading to code that is easier to
understand and maintain.</p>
<p>While piping is frequently used in the context of text processing,
its versatility extends far beyond. In data wrangling, modeling,
visualization, and beyond, piping offers a concise and elegant solution
for composing complex workflows.</p>
<p>By leveraging piping, R users can enhance their productivity and
efficiency, making their code more expressive and succinct while
maintaining clarity and readability. It’s a fundamental tool in the
toolkit of every R programmer, empowering them to tackle data science
challenges with confidence and ease.</p>
</div>
<div id="ordering-and-arranging-kwics"
class="section level2 unnumbered">
<h2 class="unnumbered">Ordering and Arranging KWICs</h2>
<p>When examining concordances, it’s often beneficial to reorder them
based on their context rather than the order in which they appeared in
the text or texts. This allows for a more organized and structured
analysis of the data. To reorder concordances, we can utilize the
<code>arrange</code> function from the <code>dplyr</code> package, which
takes the column according to which we want to rearrange the data as its
main argument.</p>
<div id="ordering-alphabetically" class="section level3 unnumbered">
<h3 class="unnumbered">Ordering Alphabetically</h3>
<p>In the example below, we extract all instances of “alice” and then
arrange the instances according to the content of the post column in
alphabetical order.</p>
<pre class="r"><code># extract KWIC concordances
quanteda::kwic(                  
  # input  tokenized text
  x = quanteda::tokens(text),
  # define search pattern (&quot;alice&quot;)
  pattern = &quot;alice&quot; 
  # end function and pipe (and then)
) %&gt;%
  # convert result to data frame
  as.data.frame() %&gt;%   
  # arrange concordances based on the content of the &quot;post&quot; column
  # save result in object called &quot;kwic_ordered&quot;
  dplyr::arrange(post) -&gt; kwic_ordered                            </code></pre>
<div class="tabwid"><style>.cl-0fcfba0c{table-layout:auto;width:95%;}.cl-0fc0b638{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0fc0b642{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0fc578e4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0fc578f8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0fc5bf16{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf2a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf34{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf3e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf48{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf49{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf52{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf5c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf66{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf67{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf70{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf7a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf84{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf85{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bf98{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0fc5bfa2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0fcfba0c'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 re-ordered concordances for instances of alice.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0fc5bf16"><p class="cl-0fc578e4"><span class="cl-0fc0b638">docname</span></p></th><th class="cl-0fc5bf2a"><p class="cl-0fc578f8"><span class="cl-0fc0b638">from</span></p></th><th class="cl-0fc5bf2a"><p class="cl-0fc578f8"><span class="cl-0fc0b638">to</span></p></th><th class="cl-0fc5bf34"><p class="cl-0fc578e4"><span class="cl-0fc0b638">pre</span></p></th><th class="cl-0fc5bf34"><p class="cl-0fc578e4"><span class="cl-0fc0b638">keyword</span></p></th><th class="cl-0fc5bf34"><p class="cl-0fc578e4"><span class="cl-0fc0b638">post</span></p></th><th class="cl-0fc5bf3e"><p class="cl-0fc578e4"><span class="cl-0fc0b638">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf48"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">7,754</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">7,754</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">happen : “ ‘ Miss</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">! Come here directly ,</span></p></td><td class="cl-0fc5bf5c"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf66"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf67"><p class="cl-0fc578f8"><span class="cl-0fc0b642">2,888</span></p></td><td class="cl-0fc5bf67"><p class="cl-0fc578f8"><span class="cl-0fc0b642">2,888</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">the garden door . Poor</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">! It was as much</span></p></td><td class="cl-0fc5bf7a"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf48"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">2,131</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">2,131</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">but , alas for poor</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">! when she got to</span></p></td><td class="cl-0fc5bf5c"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf66"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf67"><p class="cl-0fc578f8"><span class="cl-0fc0b642">30,891</span></p></td><td class="cl-0fc5bf67"><p class="cl-0fc578f8"><span class="cl-0fc0b642">30,891</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">voice , the name “</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">! ” CHAPTER XII .</span></p></td><td class="cl-0fc5bf7a"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf48"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">8,423</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">8,423</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">“ Oh , you foolish</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">! ” she answered herself</span></p></td><td class="cl-0fc5bf5c"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf66"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf67"><p class="cl-0fc578f8"><span class="cl-0fc0b642">2,606</span></p></td><td class="cl-0fc5bf67"><p class="cl-0fc578f8"><span class="cl-0fc0b642">2,606</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">and curiouser ! ” cried</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">( she was so much</span></p></td><td class="cl-0fc5bf7a"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf48"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">25,861</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">25,861</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">I haven’t , ” said</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">) — “ and perhaps</span></p></td><td class="cl-0fc5bf5c"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf66"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf67"><p class="cl-0fc578f8"><span class="cl-0fc0b642">32,275</span></p></td><td class="cl-0fc5bf67"><p class="cl-0fc578f8"><span class="cl-0fc0b642">32,275</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">explain it , ” said</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf70"><p class="cl-0fc578e4"><span class="cl-0fc0b642">, ( she had grown</span></p></td><td class="cl-0fc5bf7a"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf48"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">32,843</span></p></td><td class="cl-0fc5bf49"><p class="cl-0fc578f8"><span class="cl-0fc0b642">32,843</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">for you ? ” said</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf52"><p class="cl-0fc578e4"><span class="cl-0fc0b642">, ( she had grown</span></p></td><td class="cl-0fc5bf5c"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0fc5bf84"><p class="cl-0fc578e4"><span class="cl-0fc0b642">text1</span></p></td><td class="cl-0fc5bf85"><p class="cl-0fc578f8"><span class="cl-0fc0b642">1,678</span></p></td><td class="cl-0fc5bf85"><p class="cl-0fc578f8"><span class="cl-0fc0b642">1,678</span></p></td><td class="cl-0fc5bf98"><p class="cl-0fc578e4"><span class="cl-0fc0b642">here before , ” said</span></p></td><td class="cl-0fc5bf98"><p class="cl-0fc578e4"><span class="cl-0fc0b642">Alice</span></p></td><td class="cl-0fc5bf98"><p class="cl-0fc578e4"><span class="cl-0fc0b642">, ) and round the</span></p></td><td class="cl-0fc5bfa2"><p class="cl-0fc578e4"><span class="cl-0fc0b642">alice</span></p></td></tr></tbody></table></div>
</div>
<div id="ordering-by-co-occurrence-frequency"
class="section level3 unnumbered">
<h3 class="unnumbered">Ordering by Co-Occurrence Frequency</h3>
<p>Arranging concordances based on alphabetical properties may not
always be the most informative approach. A more insightful option is to
arrange concordances according to the frequency of co-occurring terms or
collocates. This allows us to identify the most common words that appear
alongside our search term, providing valuable insights into its usage
patterns.</p>
<p>To accomplish this, we need to follow these steps:</p>
<ol style="list-style-type: decimal">
<li><p>Create a new variable or column that represents the word that
co-occurs with the search term. In the example below, we use the
<code>mutate</code> function from the <code>dplyr</code> package to
create a new column called <code>post_word</code>. We then use the
<code>str_remove_all</code> function from the <code>stringr</code>
package to extract the word that immediately follows the search term.
This is achieved by removing everything except for the word following
the search term (including any white space).</p></li>
<li><p>Group the data by the word that immediately follows the search
term.</p></li>
<li><p>Create a new column called <code>post_word_freq</code> that
represents the frequencies of all the words that immediately follow the
search term.</p></li>
<li><p>Arrange the concordances by the frequency of the collocates in
descending order. This is accomplished by using the <code>arrange</code>
function and specifying the column <code>post_word_freq</code> in
descending order (indicated by the <code>-</code> symbol).</p></li>
</ol>
<pre class="r"><code>quanteda::kwic(
  # define text
  x = quanteda::tokens(text), 
  # define search pattern
  pattern = &quot;alice&quot;) %&gt;%
  # make it a data frame
  as.data.frame() %&gt;%
  # extract word following the nodeword
  dplyr::mutate(post1 = str_remove_all(post, &quot; .*&quot;)) %&gt;%
  # group following words
  dplyr::group_by(post1) %&gt;%
  # extract frequencies of the following words
  dplyr::mutate(post1_freq = n()) %&gt;%
  # arrange/order by the frequency of the following word
  dplyr::arrange(-post1_freq) -&gt; kwic_ordered_coll</code></pre>
<div class="tabwid"><style>.cl-101bce88{table-layout:auto;width:95%;}.cl-100fe744{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-100fe758{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-10143f06{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-10143f1a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-10145d1a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d24{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d25{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d2e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d2f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d38{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d39{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d42{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d43{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d44{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d4c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d4d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d4e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d56{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d57{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-10145d60{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-101bce88'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 re-ordered concordances.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-10145d1a"><p class="cl-10143f06"><span class="cl-100fe744">docname</span></p></th><th class="cl-10145d24"><p class="cl-10143f1a"><span class="cl-100fe744">from</span></p></th><th class="cl-10145d24"><p class="cl-10143f1a"><span class="cl-100fe744">to</span></p></th><th class="cl-10145d25"><p class="cl-10143f06"><span class="cl-100fe744">pre</span></p></th><th class="cl-10145d25"><p class="cl-10143f06"><span class="cl-100fe744">keyword</span></p></th><th class="cl-10145d25"><p class="cl-10143f06"><span class="cl-100fe744">post</span></p></th><th class="cl-10145d25"><p class="cl-10143f06"><span class="cl-100fe744">pattern</span></p></th><th class="cl-10145d25"><p class="cl-10143f06"><span class="cl-100fe744">post1</span></p></th><th class="cl-10145d2e"><p class="cl-10143f1a"><span class="cl-100fe744">post1_freq</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-10145d2f"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">1,542</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">1,542</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">through , ” thought poor</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">, “ it would be</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d42"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d43"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d44"><p class="cl-10143f1a"><span class="cl-100fe758">1,678</span></p></td><td class="cl-10145d44"><p class="cl-10143f1a"><span class="cl-100fe758">1,678</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">here before , ” said</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">, ) and round the</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d4d"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d2f"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">2,333</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">2,333</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">now , ” thought poor</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">, “ to pretend to</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d42"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d43"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d44"><p class="cl-10143f1a"><span class="cl-100fe758">2,410</span></p></td><td class="cl-10145d44"><p class="cl-10143f1a"><span class="cl-100fe758">2,410</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">eat it , ” said</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">, “ and if it</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d4d"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d2f"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">2,739</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">2,739</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">to them , ” thought</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">, “ or perhaps they</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d42"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d43"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d44"><p class="cl-10143f1a"><span class="cl-100fe758">2,945</span></p></td><td class="cl-10145d44"><p class="cl-10143f1a"><span class="cl-100fe758">2,945</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">of yourself , ” said</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">, “ a great girl</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d4d"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d2f"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">3,605</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">3,605</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">words , ” said poor</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">, and her eyes filled</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d42"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d43"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d44"><p class="cl-10143f1a"><span class="cl-100fe758">3,751</span></p></td><td class="cl-10145d44"><p class="cl-10143f1a"><span class="cl-100fe758">3,751</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">oh dear ! ” cried</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">, with a sudden burst</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d4c"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d4d"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d2f"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">3,918</span></p></td><td class="cl-10145d38"><p class="cl-10143f1a"><span class="cl-100fe758">3,918</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">narrow escape ! ” said</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">, a good deal frightened</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d39"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d42"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-10145d4e"><p class="cl-10143f06"><span class="cl-100fe758">text1</span></p></td><td class="cl-10145d56"><p class="cl-10143f1a"><span class="cl-100fe758">4,181</span></p></td><td class="cl-10145d56"><p class="cl-10143f1a"><span class="cl-100fe758">4,181</span></p></td><td class="cl-10145d57"><p class="cl-10143f06"><span class="cl-100fe758">so much ! ” said</span></p></td><td class="cl-10145d57"><p class="cl-10143f06"><span class="cl-100fe758">Alice</span></p></td><td class="cl-10145d57"><p class="cl-10143f06"><span class="cl-100fe758">, as she swam about</span></p></td><td class="cl-10145d57"><p class="cl-10143f06"><span class="cl-100fe758">alice</span></p></td><td class="cl-10145d57"><p class="cl-10143f06"><span class="cl-100fe758">,</span></p></td><td class="cl-10145d60"><p class="cl-10143f1a"><span class="cl-100fe758">78</span></p></td></tr></tbody></table></div>
<p>In this code:</p>
<ul>
<li><code>mutate</code>: This function from the <code>dplyr</code>
package creates a new column in the data frame.</li>
<li><code>str_remove_all</code>: This function from the
<code>stringr</code> package removes all occurrences of a specified
pattern from a character string.</li>
<li><code>group_by</code>: This function from the <code>dplyr</code>
package groups the data by a specified variable.</li>
<li><code>n()</code>: This function from the <code>dplyr</code> package
calculates the number of observations in each group.</li>
<li><code>arrange</code>: This function from the <code>dplyr</code>
package arranges the rows of a data frame based on the values of one or
more columns.</li>
</ul>
<p>We add more columns according to which we could arrange the
concordance following the same schema. For example, we could add another
column that represented the frequency of words that immediately preceded
the search term and then arrange according to this column.</p>
</div>
</div>
<div id="ordering-by-multiple-co-occurrence-frequencies"
class="section level2 unnumbered">
<h2 class="unnumbered">Ordering by Multiple Co-Occurrence
Frequencies</h2>
<p>In this section, we extract the three words preceding and following
the nodeword “alice” from the concordance data and organize the results
by the frequencies of the following words (you can also order by the
preceding words which is why we also extract them).</p>
<p>We begin by iterating through each row of the concordance data using
<code>rowwise()</code>. Then, we extract the three words following the
nodeword (“alice”) and the three words preceding it from the
<code>post</code> and <code>pre</code> columns, respectively. These
words are split using the <code>strsplit</code> function and stored in
separate columns (<code>post1</code>, <code>post2</code>,
<code>post3</code>, <code>pre1</code>, <code>pre2</code>,
<code>pre3</code>).</p>
<p>Next, we group the data by each of the following words
(<code>post1</code>, <code>post2</code>, <code>post3</code>,
<code>pre1</code>, <code>pre2</code>, <code>pre3</code>) and calculate
the frequency of each word using the <code>n()</code> function within
each group. This allows us to determine how often each word occurs in
relation to the nodeword “alice”.</p>
<p>Finally, we arrange the concordances based on the frequencies of the
following words (<code>post1</code>, <code>post2</code>,
<code>post3</code>) in descending order using the <code>arrange()</code>
function, storing the result in the <code>mykwic_following</code> data
frame.</p>
<pre class="r"><code>mykwic %&gt;%
  dplyr::rowwise() %&gt;%  # Row-wise operation for each entry
  # Extract words preceding and following the node word
  # Extracting the first word following the node word
  dplyr::mutate(post1 = unlist(strsplit(post, &quot; &quot;))[1],  
                # Extracting the second word following the node word
                post2 = unlist(strsplit(post, &quot; &quot;))[2], 
                # Extracting the third word following the node word
                post3 = unlist(strsplit(post, &quot; &quot;))[3],  
                # Extracting the last word preceding the node word
                pre1 = unlist(strsplit(pre, &quot; &quot;))[length(unlist(strsplit(pre, &quot; &quot;)))],  
                # Extracting the second-to-last word preceding the node word
                pre2 = unlist(strsplit(pre, &quot; &quot;))[length(unlist(strsplit(pre, &quot; &quot;)))-1], 
                # Extracting the third-to-last word preceding the node word
                pre3 = unlist(strsplit(pre, &quot; &quot;))[length(unlist(strsplit(pre, &quot; &quot;)))-2]) %&gt;%
  # Extract frequencies of the words around the node word
  # Grouping by the first word following the node word and counting its frequency
  dplyr::group_by(post1) %&gt;% dplyr::mutate(npost1 = n()) %&gt;%  
  # Grouping by the second word following the node word and counting its frequency
  dplyr::group_by(post2) %&gt;% dplyr::mutate(npost2 = n()) %&gt;%  
  # Grouping by the third word following the node word and counting its frequency
  dplyr::group_by(post3) %&gt;% dplyr::mutate(npost3 = n()) %&gt;% 
  # Grouping by the last word preceding the node word and counting its frequency
  dplyr::group_by(pre1) %&gt;% dplyr::mutate(npre1 = n()) %&gt;%  
  # Grouping by the second-to-last word preceding the node word and counting its frequency
  dplyr::group_by(pre2) %&gt;% dplyr::mutate(npre2 = n()) %&gt;% 
  # Grouping by the third-to-last word preceding the node word and counting its frequency
  dplyr::group_by(pre3) %&gt;% dplyr::mutate(npre3 = n()) %&gt;%  
  # Arranging the results
  # Arranging in descending order of frequencies of words following the node word
  dplyr::arrange(-npost1, -npost2, -npost3) -&gt; mykwic_following  </code></pre>
<div class="tabwid"><style>.cl-10711bea{table-layout:auto;width:95%;}.cl-1062c8d8{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1062c8ec{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-10678f08{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-10678f1c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1067c720{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c734{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c735{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c73e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c748{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c749{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c752{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c753{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c75c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c75d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c766{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c767{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c770{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c771{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c77a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1067c77b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-10711bea'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 lines of re-ordered concordances.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-1067c720"><p class="cl-10678f08"><span class="cl-1062c8d8">docname</span></p></th><th class="cl-1067c734"><p class="cl-10678f1c"><span class="cl-1062c8d8">from</span></p></th><th class="cl-1067c734"><p class="cl-10678f1c"><span class="cl-1062c8d8">to</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">pre</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">keyword</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">post</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">pattern</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">post1</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">post2</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">post3</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">pre1</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">pre2</span></p></th><th class="cl-1067c735"><p class="cl-10678f08"><span class="cl-1062c8d8">pre3</span></p></th><th class="cl-1067c734"><p class="cl-10678f1c"><span class="cl-1062c8d8">npost1</span></p></th><th class="cl-1067c734"><p class="cl-10678f1c"><span class="cl-1062c8d8">npost2</span></p></th><th class="cl-1067c734"><p class="cl-10678f1c"><span class="cl-1062c8d8">npost3</span></p></th><th class="cl-1067c734"><p class="cl-10678f1c"><span class="cl-1062c8d8">npre1</span></p></th><th class="cl-1067c734"><p class="cl-10678f1c"><span class="cl-1062c8d8">npre2</span></p></th><th class="cl-1067c73e"><p class="cl-10678f1c"><span class="cl-1062c8d8">npre3</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1067c748"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">2,945</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">2,945</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">of yourself , ” said</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ a great girl</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">a</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">said</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">13</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">115</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">164</span></p></td><td class="cl-1067c753"><p class="cl-10678f1c"><span class="cl-1062c8ec">106</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c75c"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">2,410</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">2,410</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">eat it , ” said</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ and if it</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">and</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">said</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">9</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">115</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">164</span></p></td><td class="cl-1067c767"><p class="cl-10678f1c"><span class="cl-1062c8ec">106</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c748"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">6,525</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">6,525</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">you know , ” said</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ and why it</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">and</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">said</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">9</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">115</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">164</span></p></td><td class="cl-1067c753"><p class="cl-10678f1c"><span class="cl-1062c8ec">106</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c75c"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">28,751</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">28,751</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">the jury-box , ” thought</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ and those twelve</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">and</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">thought</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">9</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">26</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">164</span></p></td><td class="cl-1067c767"><p class="cl-10678f1c"><span class="cl-1062c8ec">106</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c748"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">2,333</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">2,333</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">now , ” thought poor</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ to pretend to</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">to</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">poor</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">thought</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">7</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">10</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">3</span></p></td><td class="cl-1067c753"><p class="cl-10678f1c"><span class="cl-1062c8ec">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c75c"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">4,312</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">4,312</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">, now , ” thought</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ to speak to</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">to</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">thought</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">7</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">26</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">164</span></p></td><td class="cl-1067c767"><p class="cl-10678f1c"><span class="cl-1062c8ec">106</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c748"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">1,542</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">1,542</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">through , ” thought poor</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ it would be</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">it</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">poor</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">thought</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">5</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">10</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">3</span></p></td><td class="cl-1067c753"><p class="cl-10678f1c"><span class="cl-1062c8ec">9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c75c"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">16,113</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">16,113</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">very much , ” said</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ but I haven’t</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">but</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">said</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c766"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">4</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">115</span></p></td><td class="cl-1067c75d"><p class="cl-10678f1c"><span class="cl-1062c8ec">164</span></p></td><td class="cl-1067c767"><p class="cl-10678f1c"><span class="cl-1062c8ec">106</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c748"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">26,693</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">26,693</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">“ Yes , ” said</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ I’ve often seen</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">I’ve</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">said</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c752"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">4</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">115</span></p></td><td class="cl-1067c749"><p class="cl-10678f1c"><span class="cl-1062c8ec">164</span></p></td><td class="cl-1067c753"><p class="cl-10678f1c"><span class="cl-1062c8ec">106</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1067c770"><p class="cl-10678f08"><span class="cl-1062c8ec">text1</span></p></td><td class="cl-1067c771"><p class="cl-10678f1c"><span class="cl-1062c8ec">22,354</span></p></td><td class="cl-1067c771"><p class="cl-10678f1c"><span class="cl-1062c8ec">22,354</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">matter much , ” thought</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">, “ as all the</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">Alice</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">“</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">as</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">thought</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">”</span></p></td><td class="cl-1067c77a"><p class="cl-10678f08"><span class="cl-1062c8ec">,</span></p></td><td class="cl-1067c771"><p class="cl-10678f1c"><span class="cl-1062c8ec">78</span></p></td><td class="cl-1067c771"><p class="cl-10678f1c"><span class="cl-1062c8ec">89</span></p></td><td class="cl-1067c771"><p class="cl-10678f1c"><span class="cl-1062c8ec">2</span></p></td><td class="cl-1067c771"><p class="cl-10678f1c"><span class="cl-1062c8ec">26</span></p></td><td class="cl-1067c771"><p class="cl-10678f1c"><span class="cl-1062c8ec">164</span></p></td><td class="cl-1067c77b"><p class="cl-10678f1c"><span class="cl-1062c8ec">106</span></p></td></tr></tbody></table></div>
<p>The updated concordance now presents the arrangement based on the
frequency of words following the node word. This means that the words
occurring most frequently immediately after the keyword “alice” are
listed first, followed by less frequent ones.</p>
<p>It’s essential to note that the arrangement can be customized by
modifying the arguments within the <code>dplyr::arrange</code> function.
By altering the order and content of these arguments, you can adjust the
sorting criteria. For instance, if you want to prioritize the frequency
of words preceding the node word instead, you can simply rearrange the
arguments accordingly. This flexibility empowers users to tailor the
arrangement to suit their specific analysis goals and preferences.</p>
</div>
<div id="concordances-from-transcriptions"
class="section level2 unnumbered">
<h2 class="unnumbered">Concordances from Transcriptions</h2>
<p>Since many analyses rely on transcripts as their main data source,
and transcripts often require additional processing due to their
specific features, we will now demonstrate concordancing using
transcripts. To begin, we will load five example transcripts
representing the first five files from the Irish component of the <a
href="https://www.ice-corpora.uzh.ch/en.html">International Corpus of
English</a><a href="#fn2" class="footnote-ref"
id="fnref2"><sup>2</sup></a>. These transcripts will serve as our
dataset for conducting concordance analysis.</p>
<p>We first load these files so that we can process them and extract
KWICs. To load the files, the code below dynamically generates URLs for
a series of text files, then reads the content of each file into R,
storing the text data in the transcripts object. This is a common
procedure when working with multiple text files or when the filenames
follow a consistent pattern.</p>
<pre class="r"><code># define corpus files
files &lt;- paste(&quot;https://slcladal.github.io/data/ICEIrelandSample/S1A-00&quot;, 1:5, &quot;.txt&quot;, sep = &quot;&quot;)
# load corpus files
transcripts &lt;- sapply(files, function(x){
  x &lt;- readLines(x)
  })</code></pre>
<div class="tabwid"><style>.cl-1663fe46{table-layout:auto;width:95%;}.cl-1658a29e{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1658a2a8{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-165d088e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-165d224c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-165d2256{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-165d2260{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-165d226a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-1663fe46'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 utterances in the sample transcripts.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-165d224c"><p class="cl-165d088e"><span class="cl-1658a29e">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-165d2256"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;S1A-001 Riding&gt;</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d2260"><p class="cl-165d088e"><span class="cl-1658a2a8"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d2256"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;I&gt;</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d2260"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;S1A-001$A&gt; &lt;#&gt; Well how did the riding go tonight</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d2256"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;S1A-001$B&gt; &lt;#&gt; It was good so it was &lt;#&gt; Just I I couldn't believe that she was going to let me jump &lt;,&gt; that was only the fourth time you know &lt;#&gt; It was great &lt;&amp;&gt; laughter &lt;/&amp;&gt;</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d2260"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;S1A-001$A&gt; &lt;#&gt; What did you call your horse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d2256"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;S1A-001$B&gt; &lt;#&gt; I can't remember &lt;#&gt; Oh Mary 's Town &lt;,&gt; oh</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d2260"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;S1A-001$A&gt; &lt;#&gt; And how did Mabel do</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d2256"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;S1A-001$B&gt; &lt;#&gt; Did you not see her whenever she was going over the jumps &lt;#&gt; There was one time her horse refused and it refused three times &lt;#&gt; And then &lt;,&gt; she got it round and she just lined it up straight and she just kicked it and she hit it with the whip &lt;,&gt; and over it went the last time you know &lt;#&gt; And Stephanie told her she was very determined and very well-ridden &lt;&amp;&gt; laughter &lt;/&amp;&gt; because it had refused the other times you know &lt;#&gt; But Stephanie wouldn't let her give up on it &lt;#&gt; She made her keep coming back and keep coming back &lt;,&gt; until &lt;,&gt; it jumped it you know &lt;#&gt; It was good</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-165d226a"><p class="cl-165d088e"><span class="cl-1658a2a8">&lt;S1A-001$A&gt; &lt;#&gt; Yeah I 'm not so sure her jumping 's improving that much &lt;#&gt; She uh &lt;,&gt; seemed to be holding the reins very tight</span></p></td></tr></tbody></table></div>
<p>The first ten lines shown above let us know that, after the header
(<code>&lt;S1A-001 Riding&gt;</code>) and the symbol which indicates the
start of the transcript (<code>&lt;I&gt;</code>), each utterance is
preceded by a sequence which indicates the section, file, and speaker
(e.g. <code>&lt;S1A-001$A&gt;</code>). The first utterance is thus
uttered by speaker <code>A</code> in file <code>001</code> of section
<code>S1A</code>. In addition, there are several sequences that provide
meta-linguistic information which indicate the beginning of a speech
unit (<code>&lt;#&gt;</code>), pauses (<code>&lt;,&gt;</code>), and
laughter (<code>&lt;&amp;&gt; laughter &lt;/&amp;&gt;</code>).</p>
<p>To perform the concordancing, we need to change the format of the
transcripts because the <code>kwic</code> function only works on
character, corpus, tokens object- in their present form, the transcripts
represent a list which contains vectors of strings. To change the
format, we collapse the individual utterances into a single character
vector for each transcript.</p>
<pre class="r"><code>transcripts_collapsed &lt;- sapply(files, function(x){
  # read-in text
  x &lt;- readLines(x)
  # paste all lines together
  x &lt;- paste0(x, collapse = &quot; &quot;)
  # remove superfluous white spaces
  x &lt;- str_squish(x)
})</code></pre>
<div class="tabwid"><style>.cl-17d965ea{table-layout:auto;width:95%;}.cl-17bbdd5e{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-17bbdd7c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-17c6458c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-17c69212{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c69226{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c69230{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-17c69244{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-17d965ea'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 500 characters of the collapsed sample transcripts.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-17c69212"><p class="cl-17c6458c"><span class="cl-17bbdd5e">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-17c69226"><p class="cl-17c6458c"><span class="cl-17bbdd7c">&lt;S1A-001 Riding&gt; &lt;I&gt; &lt;S1A-001$A&gt; &lt;#&gt; Well how did the riding go tonight &lt;S1A-001$B&gt; &lt;#&gt; It was good so it was &lt;#&gt; Just I I couldn't believe that she was going to let me jump &lt;,&gt; that was only the fourth time you know &lt;#&gt; It was great &lt;&amp;&gt; laughter &lt;/&amp;&gt; &lt;S1A-001$A&gt; &lt;#&gt; What did you call your horse &lt;S1A-001$B&gt; &lt;#&gt; I can't remember &lt;#&gt; Oh Mary 's Town &lt;,&gt; oh &lt;S1A-001$A&gt; &lt;#&gt; And how did Mabel do &lt;S1A-001$B&gt; &lt;#&gt; Did you not see her whenever she was going over the jumps &lt;#&gt; There was one time her horse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c69230"><p class="cl-17c6458c"><span class="cl-17bbdd7c">&lt;S1A-002 Dinner chat 1&gt; &lt;I&gt; &lt;S1A-002$A&gt; &lt;#&gt; He 's been married for three years and is now &lt;{&gt; &lt;[&gt; getting divorced &lt;/[&gt; &lt;S1A-002$B&gt; &lt;#&gt; &lt;[&gt; No no &lt;/[&gt; &lt;/{&gt; he 's got married last year and he 's getting &lt;{&gt; &lt;[&gt; divorced &lt;/[&gt; &lt;S1A-002$A&gt; &lt;#&gt; &lt;[&gt; He 's now &lt;/[&gt; &lt;/{&gt; getting divorced &lt;S1A-002$C&gt; &lt;#&gt; Just right &lt;S1A-002$D&gt; &lt;#&gt; A wee girl of her age like &lt;S1A-002$E&gt; &lt;#&gt; Well there was a guy &lt;S1A-002$C&gt; &lt;#&gt; How long did she try it for &lt;#&gt; An hour a a year &lt;S1A-002$B&gt; &lt;#&gt; Mhm &lt;{&gt; &lt;[&gt; mhm &lt;/[&gt; &lt;S1A-002$E</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c69226"><p class="cl-17c6458c"><span class="cl-17bbdd7c">&lt;S1A-003 Dinner chat 2&gt; &lt;I&gt; &lt;S1A-003$A&gt; &lt;#&gt; I &lt;.&gt; wa &lt;/.&gt; I want to go to Peru but uh &lt;S1A-003$B&gt; &lt;#&gt; Do you &lt;S1A-003$A&gt; &lt;#&gt; Oh aye &lt;S1A-003$B&gt; &lt;#&gt; I 'd love to go to Peru &lt;S1A-003$A&gt; &lt;#&gt; I want I want to go up the Machu Picchu before it falls off the edge of the mountain &lt;S1A-003$B&gt; &lt;#&gt; Lima 's supposed to be a bit dodgy &lt;S1A-003$A&gt; &lt;#&gt; Mm &lt;S1A-003$B&gt; &lt;#&gt; Bet it would be &lt;S1A-003$B&gt; &lt;#&gt; Mm &lt;S1A-003$A&gt; &lt;#&gt; But I I just I I would like &lt;,&gt; Machu Picchu is collapsing &lt;S1A-003$B&gt; &lt;#&gt; I don't know wh</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c69230"><p class="cl-17c6458c"><span class="cl-17bbdd7c">&lt;S1A-004 Nursing home 1&gt; &lt;I&gt; &lt;S1A-004$A&gt; &lt;#&gt; Honest to God &lt;,&gt; I think the young ones &lt;#&gt; Sure they 're flying on Monday in I think it 's Shannon &lt;#&gt; This is from Texas &lt;S1A-004$B&gt; &lt;#&gt; This English girl &lt;S1A-004$A&gt; &lt;#&gt; The youngest one &lt;,&gt; the dentist &lt;,&gt; she 's married to the dentist &lt;#&gt; Herself and her husband &lt;,&gt; three children and she 's six months pregnant &lt;S1A-004$C&gt; &lt;#&gt; Oh God &lt;S1A-004$B&gt; &lt;#&gt; And where are they going &lt;S1A-004$A&gt; &lt;#&gt; Coming to Dublin to the mother &lt;{&gt; &lt;[&gt; or &lt;unclear&gt; 3 sy</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-17c69244"><p class="cl-17c6458c"><span class="cl-17bbdd7c">&lt;S1A-005 Masons&gt; &lt;I&gt; &lt;S1A-005$A&gt; &lt;#&gt; Right shall we risk another beer or shall we try and &lt;,&gt; &lt;{&gt; &lt;[&gt; ride the bikes down there or do something like that &lt;/[&gt; &lt;S1A-005$B&gt; &lt;#&gt; &lt;[&gt; Well &lt;,&gt; what about the &lt;/[&gt; &lt;/{&gt; provisions &lt;#&gt; What time &lt;{&gt; &lt;[&gt; &lt;unclear&gt; 4 sylls &lt;/unclear&gt; &lt;/[&gt; &lt;S1A-005$C&gt; &lt;#&gt; &lt;[&gt; Is is your &lt;/[&gt; &lt;/{&gt; man coming here &lt;S1A-005$B&gt; &lt;#&gt; &lt;{&gt; &lt;[&gt; Yeah &lt;/[&gt; &lt;S1A-005$A&gt; &lt;#&gt; &lt;[&gt; He said &lt;/[&gt; &lt;/{&gt; he would meet us here &lt;S1A-005$B&gt; &lt;#&gt; Just the boat 's arriving you know a few minutes ' wa</span></p></td></tr></tbody></table></div>
<p>We now move on to extracting concordances. We begin by splitting the
text simply by white space. This ensures that tags and markup remain
intact, preventing accidental splitting. Additionally, we extend the
context surrounding our target word or phrase. While the default is five
tokens before and after the keyword, we opt to widen this context to 10
tokens. Furthermore, for improved organization and readability, we
refine the file names. Instead of using the full path, we extract only
the name of the text. This simplifies the presentation of results and
enhances clarity when navigating through the corpus.</p>
<pre class="r"><code>kwic_trans &lt;- quanteda::kwic(
  # tokenize transcripts
  quanteda::tokens(transcripts_collapsed, what = &quot;fasterword&quot;), 
  # define search pattern
  pattern = phrase(&quot;you know&quot;),
  # extend context
  window = 10) %&gt;%
  # make it a data frame
  as.data.frame() %&gt;%
  # clean docnames / filenames / text names
  dplyr::mutate(docname = str_replace_all(docname, &quot;.*/(.*?).txt&quot;, &quot;\\1&quot;))</code></pre>
<div class="tabwid"><style>.cl-18159984{table-layout:auto;width:95%;}.cl-1808b390{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1808b3a4{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-180cf716{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-180cf720{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-180d14c6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14d0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14da{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14db{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14e4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14ee{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14ef{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14f0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14f8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14f9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d14fa{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d1502{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d150c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d150d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d150e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-180d1516{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-18159984'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for you know in three example transcripts.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-180d14c6"><p class="cl-180cf716"><span class="cl-1808b390">docname</span></p></th><th class="cl-180d14d0"><p class="cl-180cf720"><span class="cl-1808b390">from</span></p></th><th class="cl-180d14d0"><p class="cl-180cf720"><span class="cl-1808b390">to</span></p></th><th class="cl-180d14da"><p class="cl-180cf716"><span class="cl-1808b390">pre</span></p></th><th class="cl-180d14da"><p class="cl-180cf716"><span class="cl-1808b390">keyword</span></p></th><th class="cl-180d14da"><p class="cl-180cf716"><span class="cl-1808b390">post</span></p></th><th class="cl-180d14db"><p class="cl-180cf716"><span class="cl-1808b390">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-180d14e4"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">42</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">43</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">let me jump &lt;,&gt; that was only the fourth time</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;#&gt; It was great &lt;&amp;&gt; laughter &lt;/&amp;&gt; &lt;S1A-001$A&gt; &lt;#&gt; What</span></p></td><td class="cl-180d14f0"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d14f8"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14f9"><p class="cl-180cf720"><span class="cl-1808b3a4">140</span></p></td><td class="cl-180d14f9"><p class="cl-180cf720"><span class="cl-1808b3a4">141</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">the whip &lt;,&gt; and over it went the last time</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;#&gt; And Stephanie told her she was very determined and</span></p></td><td class="cl-180d1502"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d14e4"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">164</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">165</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;&amp;&gt; laughter &lt;/&amp;&gt; because it had refused the other times</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;#&gt; But Stephanie wouldn't let her give up on it</span></p></td><td class="cl-180d14f0"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d14f8"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14f9"><p class="cl-180cf720"><span class="cl-1808b3a4">193</span></p></td><td class="cl-180d14f9"><p class="cl-180cf720"><span class="cl-1808b3a4">194</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">and keep coming back &lt;,&gt; until &lt;,&gt; it jumped it</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;#&gt; It was good &lt;S1A-001$A&gt; &lt;#&gt; Yeah I 'm not</span></p></td><td class="cl-180d1502"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d14e4"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">402</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">403</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">'d be far better waiting &lt;,&gt; for that one &lt;,&gt;</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">and starting anew fresh &lt;S1A-001$A&gt; &lt;#&gt; Yeah but I mean</span></p></td><td class="cl-180d14f0"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d14f8"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14f9"><p class="cl-180cf720"><span class="cl-1808b3a4">443</span></p></td><td class="cl-180d14f9"><p class="cl-180cf720"><span class="cl-1808b3a4">444</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">the best goes top of the league &lt;,&gt; &lt;{&gt; &lt;[&gt;</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;/[&gt; &lt;S1A-001$A&gt; &lt;#&gt; &lt;[&gt; So &lt;/[&gt; &lt;/{&gt; it 's like</span></p></td><td class="cl-180d1502"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d14e4"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">484</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">485</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">I 'm not sure now &lt;#&gt; We didn't discuss it</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;S1A-001$A&gt; &lt;#&gt; Well it sounds like more money &lt;S1A-001$B&gt; &lt;#&gt;</span></p></td><td class="cl-180d14f0"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d14f8"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14f9"><p class="cl-180cf720"><span class="cl-1808b3a4">598</span></p></td><td class="cl-180d14f9"><p class="cl-180cf720"><span class="cl-1808b3a4">599</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">on Monday and do without her lesson on Tuesday &lt;,&gt;</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14fa"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;#&gt; But I was keeping her going cos I says</span></p></td><td class="cl-180d1502"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d14e4"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">727</span></p></td><td class="cl-180d14ee"><p class="cl-180cf720"><span class="cl-1808b3a4">728</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">to take it tomorrow &lt;,&gt; that she could take her</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d14ef"><p class="cl-180cf716"><span class="cl-1808b3a4">the wee shoulder bag she has &lt;S1A-001$A&gt; &lt;#&gt; Mhm &lt;S1A-001$B&gt;</span></p></td><td class="cl-180d14f0"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-180d150c"><p class="cl-180cf716"><span class="cl-1808b3a4">S1A-001</span></p></td><td class="cl-180d150d"><p class="cl-180cf720"><span class="cl-1808b3a4">808</span></p></td><td class="cl-180d150d"><p class="cl-180cf720"><span class="cl-1808b3a4">809</span></p></td><td class="cl-180d150e"><p class="cl-180cf716"><span class="cl-1808b3a4">&lt;,&gt; and &lt;,&gt; sort of show them around &lt;,&gt; uhm</span></p></td><td class="cl-180d150e"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td><td class="cl-180d150e"><p class="cl-180cf716"><span class="cl-1808b3a4">their timetable and &lt;,&gt; give them their timetable and show</span></p></td><td class="cl-180d1516"><p class="cl-180cf716"><span class="cl-1808b3a4">you know</span></p></td></tr></tbody></table></div>
</div>
<div id="custom-concordances" class="section level2 unnumbered">
<h2 class="unnumbered">Custom Concordances</h2>
<p>As R represents a fully-fledged programming environment, we can, of
course, also write our own, customized concordance function. The code
below shows how you could go about doing so. Note, however, that this
function only works if you enter more than a single file.</p>
<pre class="r"><code>mykwic &lt;- function(txts, pattern, context) {
  # activate packages
  require(stringr)
  # list files
  txts &lt;- txts[stringr::str_detect(txts, pattern)]
  conc &lt;- sapply(txts, function(x) {
    # determine length of text
        lngth &lt;- as.vector(unlist(nchar(x)))
    # determine position of hits
    idx &lt;- str_locate_all(x, pattern)
    idx &lt;- idx[[1]]
    ifelse(nrow(idx) &gt;= 1, idx &lt;- idx, return(NA))
    # define start position of hit
    token.start &lt;- idx[,1]
    # define end position of hit
    token.end &lt;- idx[,2]
    # define start position of preceding context
    pre.start &lt;- ifelse(token.start-context &lt; 1, 1, token.start-context)
    # define end position of preceding context
    pre.end &lt;- token.start-1
    # define start position of subsequent context
    post.start &lt;- token.end+1
    # define end position of subsequent context
    post.end &lt;- ifelse(token.end+context &gt; lngth, lngth, token.end+context)
    # extract the texts defined by the positions
    PreceedingContext &lt;- substring(x, pre.start, pre.end)
    Token &lt;- substring(x, token.start, token.end)
    SubsequentContext &lt;- substring(x, post.start, post.end)
    Id &lt;- 1:length(Token)
    conc &lt;- cbind(Id, PreceedingContext, Token, SubsequentContext)
    # return concordance
    return(conc)
    })
  concdf &lt;- do.call(rbind, conc) %&gt;%
    as.data.frame()
  return(concdf)
}</code></pre>
<p>We can now try if this function works by searching for the sequence
<em>you know</em> in the transcripts that we have loaded earlier. One
difference between the <code>kwic</code> function provided by the
<code>quanteda</code> package and the customized concordance function
used here is that the <code>kwic</code> function uses the number of
words to define the context window, while the <code>mykwic</code>
function uses the number of characters or symbols instead (which is why
we use a notably higher number to define the context window).</p>
<pre class="r"><code>kwic_youknow &lt;- mykwic(transcripts_collapsed, &quot;you know&quot;, 50)</code></pre>
<div class="tabwid"><style>.cl-1842e826{table-layout:auto;width:95%;}.cl-183633d8{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-183633e2{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-183b8130{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-183b9e4a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e54{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e5e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e5f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e68{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e69{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e72{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e73{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e7c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e7d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e86{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-183b9e87{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-1842e826'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 6 concordances for *you know* extracted using the mykwic function.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-183b9e4a"><p class="cl-183b8130"><span class="cl-183633d8">Id</span></p></th><th class="cl-183b9e54"><p class="cl-183b8130"><span class="cl-183633d8">PreceedingContext</span></p></th><th class="cl-183b9e54"><p class="cl-183b8130"><span class="cl-183633d8">Token</span></p></th><th class="cl-183b9e5e"><p class="cl-183b8130"><span class="cl-183633d8">SubsequentContext</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-183b9e5f"><p class="cl-183b8130"><span class="cl-183633e2">1</span></p></td><td class="cl-183b9e68"><p class="cl-183b8130"><span class="cl-183633e2"> to let me jump &lt;,&gt; that was only the fourth time </span></p></td><td class="cl-183b9e68"><p class="cl-183b8130"><span class="cl-183633e2">you know</span></p></td><td class="cl-183b9e69"><p class="cl-183b8130"><span class="cl-183633e2"> &lt;#&gt; It was great &lt;&amp;&gt; laughter &lt;/&amp;&gt; &lt;S1A-001$A&gt; &lt;#</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183b9e72"><p class="cl-183b8130"><span class="cl-183633e2">2</span></p></td><td class="cl-183b9e73"><p class="cl-183b8130"><span class="cl-183633e2"> with the whip &lt;,&gt; and over it went the last time </span></p></td><td class="cl-183b9e73"><p class="cl-183b8130"><span class="cl-183633e2">you know</span></p></td><td class="cl-183b9e7c"><p class="cl-183b8130"><span class="cl-183633e2"> &lt;#&gt; And Stephanie told her she was very determine</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183b9e5f"><p class="cl-183b8130"><span class="cl-183633e2">3</span></p></td><td class="cl-183b9e68"><p class="cl-183b8130"><span class="cl-183633e2">ghter &lt;/&amp;&gt; because it had refused the other times </span></p></td><td class="cl-183b9e68"><p class="cl-183b8130"><span class="cl-183633e2">you know</span></p></td><td class="cl-183b9e69"><p class="cl-183b8130"><span class="cl-183633e2"> &lt;#&gt; But Stephanie wouldn't let her give up on it </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183b9e72"><p class="cl-183b8130"><span class="cl-183633e2">4</span></p></td><td class="cl-183b9e73"><p class="cl-183b8130"><span class="cl-183633e2">k and keep coming back &lt;,&gt; until &lt;,&gt; it jumped it </span></p></td><td class="cl-183b9e73"><p class="cl-183b8130"><span class="cl-183633e2">you know</span></p></td><td class="cl-183b9e7c"><p class="cl-183b8130"><span class="cl-183633e2"> &lt;#&gt; It was good &lt;S1A-001$A&gt; &lt;#&gt; Yeah I 'm not so </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183b9e5f"><p class="cl-183b8130"><span class="cl-183633e2">5</span></p></td><td class="cl-183b9e68"><p class="cl-183b8130"><span class="cl-183633e2">she 'd be far better waiting &lt;,&gt; for that one &lt;,&gt; </span></p></td><td class="cl-183b9e68"><p class="cl-183b8130"><span class="cl-183633e2">you know</span></p></td><td class="cl-183b9e69"><p class="cl-183b8130"><span class="cl-183633e2"> and starting anew fresh &lt;S1A-001$A&gt; &lt;#&gt; Yeah but </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-183b9e7d"><p class="cl-183b8130"><span class="cl-183633e2">6</span></p></td><td class="cl-183b9e86"><p class="cl-183b8130"><span class="cl-183633e2">er 's the best goes top of the league &lt;,&gt; &lt;{&gt; &lt;[&gt; </span></p></td><td class="cl-183b9e86"><p class="cl-183b8130"><span class="cl-183633e2">you know</span></p></td><td class="cl-183b9e87"><p class="cl-183b8130"><span class="cl-183633e2"> &lt;/[&gt; &lt;S1A-001$A&gt; &lt;#&gt; &lt;[&gt; So &lt;/[&gt; &lt;/{&gt; it 's like </span></p></td></tr></tbody></table></div>
<p>As this concordance function only works for more than one text, we
split the text into chapters and assign each section a name.</p>
<pre class="r"><code># read in text
text_split &lt;- text %&gt;%
  stringr::str_squish() %&gt;%
  stringr::str_split(&quot;[CHAPTER]{7,7} [XVI]{1,7}\\. &quot;) %&gt;%
  unlist()
text_split &lt;- text_split[which(nchar(text_split) &gt; 2000)]
# add names
names(text_split) &lt;- paste0(&quot;text&quot;, 1:length(text_split))
# inspect data
nchar(text_split)</code></pre>
<pre><code>##  text1  text2  text3  text4  text5  text6  text7  text8  text9 text10 text11 
##  11331  10888   9137  13830  11767  13730  12564  13585  12527  11287  10292 
## text12 
##  11594</code></pre>
<p>Now that we have named elements, we can search for the pattern
<em>poor alice</em>. We also need to clean the concordance as some
sections do not contain any instances of the search pattern. To clean
the data, we select only the columns <code>File</code>,
<code>PreceedingContext</code>, <code>Token</code>, and
<code>SubsequentContext</code> and then remove all rows where
information is missing.</p>
<pre class="r"><code>mykwic_pooralice &lt;- mykwic(text_split, &quot;poor Alice&quot;, 50)</code></pre>
<div class="tabwid"><style>.cl-186799f0{table-layout:auto;width:95%;}.cl-185b4a92{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-185b4aa6{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1860c594{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1860ef2e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef42{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef43{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef4c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef56{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef57{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef60{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef61{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef6a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef74{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef75{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1860ef76{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-186799f0'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 6 concordances of *poor alice* extracted using the mykwic function.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-1860ef2e"><p class="cl-1860c594"><span class="cl-185b4a92">Id</span></p></th><th class="cl-1860ef42"><p class="cl-1860c594"><span class="cl-185b4a92">PreceedingContext</span></p></th><th class="cl-1860ef42"><p class="cl-1860c594"><span class="cl-185b4a92">Token</span></p></th><th class="cl-1860ef43"><p class="cl-1860c594"><span class="cl-185b4a92">SubsequentContext</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1860ef4c"><p class="cl-1860c594"><span class="cl-185b4aa6">1</span></p></td><td class="cl-1860ef56"><p class="cl-1860c594"><span class="cl-185b4aa6">; “and even if my head would go through,” thought </span></p></td><td class="cl-1860ef56"><p class="cl-1860c594"><span class="cl-185b4aa6">poor Alice</span></p></td><td class="cl-1860ef57"><p class="cl-1860c594"><span class="cl-185b4aa6">, “it would be of very little use without my shoul</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1860ef60"><p class="cl-1860c594"><span class="cl-185b4aa6">2</span></p></td><td class="cl-1860ef61"><p class="cl-1860c594"><span class="cl-185b4aa6">d on going into the garden at once; but, alas for </span></p></td><td class="cl-1860ef61"><p class="cl-1860c594"><span class="cl-185b4aa6">poor Alice</span></p></td><td class="cl-1860ef6a"><p class="cl-1860c594"><span class="cl-185b4aa6">! when she got to the door, she found she had forg</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1860ef4c"><p class="cl-1860c594"><span class="cl-185b4aa6">3</span></p></td><td class="cl-1860ef56"><p class="cl-1860c594"><span class="cl-185b4aa6"> to be two people. “But it’s no use now,” thought </span></p></td><td class="cl-1860ef56"><p class="cl-1860c594"><span class="cl-185b4aa6">poor Alice</span></p></td><td class="cl-1860ef57"><p class="cl-1860c594"><span class="cl-185b4aa6">, “to pretend to be two people! Why, there’s hardl</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1860ef60"><p class="cl-1860c594"><span class="cl-185b4aa6">1</span></p></td><td class="cl-1860ef61"><p class="cl-1860c594"><span class="cl-185b4aa6">!” “I’m sure those are not the right words,” said </span></p></td><td class="cl-1860ef61"><p class="cl-1860c594"><span class="cl-185b4aa6">poor Alice</span></p></td><td class="cl-1860ef6a"><p class="cl-1860c594"><span class="cl-185b4aa6">, and her eyes filled with tears again as she went</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1860ef4c"><p class="cl-1860c594"><span class="cl-185b4aa6">1</span></p></td><td class="cl-1860ef56"><p class="cl-1860c594"><span class="cl-185b4aa6">lking such nonsense!” “I didn’t mean it!” pleaded </span></p></td><td class="cl-1860ef56"><p class="cl-1860c594"><span class="cl-185b4aa6">poor Alice</span></p></td><td class="cl-1860ef57"><p class="cl-1860c594"><span class="cl-185b4aa6">. “But you’re so easily offended, you know!” The M</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1860ef74"><p class="cl-1860c594"><span class="cl-185b4aa6">2</span></p></td><td class="cl-1860ef75"><p class="cl-1860c594"><span class="cl-185b4aa6">onder if I shall ever see you any more!” And here </span></p></td><td class="cl-1860ef75"><p class="cl-1860c594"><span class="cl-185b4aa6">poor Alice</span></p></td><td class="cl-1860ef76"><p class="cl-1860c594"><span class="cl-185b4aa6"> began to cry again, for she felt very lonely and </span></p></td></tr></tbody></table></div>
<p>You can go ahead and modify the customized concordance function to
suit your needs.</p>
</div>
</div>
<div id="citation-session-info" class="section level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2024. <em>Concordancing with R</em>. Brisbane:
The Language Technology and Data Analysis Laboratory (LADAL). url: <a
href="https://ladal.edu.au/kwics.html"
class="uri">https://ladal.edu.au/kwics.html</a> (Version
2024.05.07).</p>
<pre><code>@manual{schweinberger2024kwics,
  author = {Schweinberger, Martin},
  title = {Concordancing with R},
  note = {https://ladal.edu.au/kwics.html},
  year = {2024},
  organization = {The Language Technology and Data Analysis Laboratory (LADAL)},
  address = {Brisbane},
  edition = {2024.05.07}
}</code></pre>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.3.2 (2023-10-31 ucrt)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 11 x64 (build 22621)
## 
## Matrix products: default
## 
## 
## locale:
## [1] LC_COLLATE=English_Australia.utf8  LC_CTYPE=English_Australia.utf8   
## [3] LC_MONETARY=English_Australia.utf8 LC_NUMERIC=C                      
## [5] LC_TIME=English_Australia.utf8    
## 
## time zone: Australia/Brisbane
## tzcode source: internal
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] flextable_0.9.5 here_1.0.1      writexl_1.5.0   stringr_1.5.1  
## [5] dplyr_1.1.4     quanteda_4.0.1 
## 
## loaded via a namespace (and not attached):
##  [1] sass_0.4.9              utf8_1.2.4              generics_0.1.3         
##  [4] fontLiberation_0.1.0    xml2_1.3.6              stringi_1.8.3          
##  [7] lattice_0.21-9          httpcode_0.3.0          digest_0.6.35          
## [10] magrittr_2.0.3          evaluate_0.23           grid_4.3.2             
## [13] fastmap_1.1.1           rprojroot_2.0.4         jsonlite_1.8.8         
## [16] Matrix_1.6-5            zip_2.3.1               crul_1.4.2             
## [19] promises_1.3.0          stopwords_2.3           fansi_1.0.6            
## [22] fontBitstreamVera_0.1.1 klippy_0.0.0.9500       textshaping_0.3.7      
## [25] jquerylib_0.1.4         cli_3.6.2               shiny_1.8.1.1          
## [28] rlang_1.1.3             fontquiver_0.2.1        crayon_1.5.2           
## [31] withr_3.0.0             cachem_1.0.8            gfonts_0.2.0           
## [34] yaml_2.3.8              gdtools_0.3.7           officer_0.6.5          
## [37] tools_4.3.2             uuid_1.2-0              httpuv_1.6.15          
## [40] fastmatch_1.1-4         assertthat_0.2.1        curl_5.2.1             
## [43] mime_0.12               vctrs_0.6.5             R6_2.5.1               
## [46] lifecycle_1.0.4         ragg_1.3.0              pkgconfig_2.0.3        
## [49] pillar_1.9.0            bslib_0.7.0             later_1.3.2            
## [52] data.table_1.15.4       glue_1.7.0              Rcpp_1.0.12            
## [55] systemfonts_1.0.6       xfun_0.43               tibble_3.2.1           
## [58] tidyselect_1.2.1        highr_0.10              rstudioapi_0.16.0      
## [61] knitr_1.46              xtable_1.8-4            htmltools_0.5.8.1      
## [64] rmarkdown_2.26          compiler_4.3.2          askpass_1.2.0          
## [67] openssl_2.1.2</code></pre>
<hr />
<p><a href="#introduction">Back to top</a></p>
<p><a href="https://ladal.edu.au">Back to HOME</a></p>
<hr />
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent"
entry-spacing="0">
<div id="ref-anthony2004antconc" class="csl-entry">
Anthony, Laurence. 2004. <span>“AntConc: A Learner and Classroom
Friendly, Multi-Platform Corpus Analysis Toolkit.”</span>
<em>Proceedings of IWLeL</em>, 7–13.
</div>
<div id="ref-fivethirtyeight2018replication" class="csl-entry">
Aschwanden, Christie. 2018. <span>“Psychology’s Replication Crisis Has
Made the Field Better.”</span> <a
href="https://fivethirtyeight.com/features/psychologys-replication-crisis-has-made-the-field-better/">https://fivethirtyeight.com/features/psychologys-replication-crisis-has-made-the-field-better/</a>.
</div>
<div id="ref-barlow1999monoconc" class="csl-entry">
Barlow, Michael. 1999. <span>“Monoconc 1.5 and Paraconc.”</span>
<em>International Journal of Corpus Linguistics</em> 4 (1): 173–84.
</div>
<div id="ref-barlow2002paraconc" class="csl-entry">
———. 2002. <span>“ParaConc: Concordance Software for Multilingual
Parallel Corpora.”</span> In <em>Proceedings of the Third International
Conference on Language Resources and Evaluation. Workshop on Language
Resources in Translation Work and Research</em>, 20–24.
</div>
<div id="ref-quanteda2018package" class="csl-entry">
Benoit, Kenneth, Kohei Watanabe, Haiyan Wang, Paul Nulty, Adam Obeng,
Stefan Müller, and Akitaka Matsuo. 2018. <span>“Quanteda: An r Package
for the Quantitative Analysis of Textual Data.”</span> <em>Journal of
Open Source Software</em> 3 (30): 774. <a
href="https://doi.org/10.21105/joss.00774">https://doi.org/10.21105/joss.00774</a>.
</div>
<div id="ref-corpusmate" class="csl-entry">
Crosthwaite, Peter, and Vít Baisa. 2024. <span>“A User-Friendly Corpus
Tool for Disciplinary Data-Driven Learning: Introducing
CorpusMate.”</span> <em>International Journal of Corpus
Linguistics</em>, April. <a
href="https://doi.org/10.1075/ijcl.23056.cro">https://doi.org/10.1075/ijcl.23056.cro</a>.
</div>
<div id="ref-noba2019replication" class="csl-entry">
Diener, Edward, and Robert Biswas-Diener. 2019. <span>“The Replication
Crisis in Psychology.”</span> <a
href="https://nobaproject.com/modules/the-replication-crisis-in-psychology">https://nobaproject.com/modules/the-replication-crisis-in-psychology</a>.
</div>
<div id="ref-fanelli2009fraud" class="csl-entry">
Fanelli, Daniele. 2009. <span>“How Many Scientists Fabricate and Falsify
Research? A Systematic Review and Meta-Analysis of Survey Data.”</span>
<em>PLoS One</em> 4: e5738.
</div>
<div id="ref-kilgarriff2004itri" class="csl-entry">
Kilgarriff, Adam, Pavel Rychly, Pavel Smrz, and David Tugwell. 2004.
<span>“Itri-04-08 the Sketch Engine.”</span> <em>Information
Technology</em> 105: 116.
</div>
<div id="ref-lindquist2009corpus" class="csl-entry">
Lindquist, Hans. 2009. <em>Corpus Linguistics and the Description of
English</em>. Edinburgh: Edinburgh University Press.
</div>
<div id="ref-sciencealert2018replication" class="csl-entry">
McRae, Mike. 2018. <span>“Science’s ’Replication Crisis’ Has Reached
Even the Most Respectable Journals, Report Shows.”</span> <a
href="https://www.sciencealert.com/replication-results-reproducibility-crisis-science-nature-journals">https://www.sciencealert.com/replication-results-reproducibility-crisis-science-nature-journals</a>.
</div>
<div id="ref-stafanowitsch2020corpus" class="csl-entry">
Stefanowitsch, Anatol. 2020. <em>Corpus Linguistics. A Guide to the
Methodology</em>. Textbooks in Language Sciences. Berlin: Language
Science Press.
</div>
<div id="ref-physorg2018replication" class="csl-entry">
Velasco, Emily. 2019. <span>“Researcher Discusses the the Science
Replication Crisis.”</span> <a
href="https://phys.org/news/2018-11-discusses-science-replication-crisis.html">https://phys.org/news/2018-11-discusses-science-replication-crisis.html</a>.
</div>
<div id="ref-atlantic2018psychology" class="csl-entry">
Yong, Ed. 2018. <span>“Psychology’s Replication Crisis Is Running Out of
Excuses. Another Big Project Has Found That Only Half of Studies Can Be
Repeated. And This Time, the Usual Explanations Fall Flat.”</span> <a
href="https://www.theatlantic.com/science/archive/2018/11/psychologys-replication-crisis-real/576223/">https://www.theatlantic.com/science/archive/2018/11/psychologys-replication-crisis-real/576223/</a>.
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>If you want to render the R Notebook on your machine,
i.e. knitting the document to html or a pdf, you need to make sure that
you have R and RStudio installed and you also need to download the <a
href="https://slcladal.github.io/content/bibliography.bib"><strong>bibliography
file</strong></a> and store it in the same folder where you store the
Rmd file.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>This data is freely available after registration. To get
access to the data represented in the Irish Component of the
International Corpus of Eng;lish (or any other component), you or your
institution will need a valid licence. You need to send your request
from an academic edu e-mail to proof your educational status. To get an
academic licence with download access please fill in <a
href="https://www.ice-corpora.uzh.ch/dam/jcr:7ae594b2-ee97-4935-8022-7d2d91b60be4/ICElicence_UZH.pdf">the
licence form (PDF, 82 KB)</a> and send it to <code>ice@es.uzh.ch</code>.
You should get the credentials for downloading <a
href="https://www.ice-corpora.uzh.ch/en/access/corpus-download.html">here</a>
and unpacking the corpora within about 10 working days.<a href="#fnref2"
class="footnote-back">↩︎</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
