<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Martin Schweinberger" />


<title>Concordancing with R</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>
<link rel="stylesheet" href="styles.css" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VSGK4KYDQZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VSGK4KYDQZ');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  
  <!-- Added by SKC - LADAL image and thicker top with   -->
  <div class="container-fluid navbar-top" >
    <a href="index.html"> <!-- Make entire top row and text clickable home link  -->
        <div class="row">
            <div class="navbar-brand col-md-12">
              <img src="/content/ladal_icon_cas_tran_white_trimed.png" class="navbar-icon" alt="LADAL"/>
              <span class="navbar-title-note navbar-collapse collapse" >Language Technology and Data Analysis Laboratory</span>
            </div>
        </div>
    </a>
  </div>
  
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- SKC removed  navbar brand -->
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">HOME</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    ABOUT LADAL
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="people.html">People | Collabs</a>
    </li>
    <li>
      <a href="news.html">News</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    EVENTS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="workshops.html">Workshops</a>
    </li>
    <li>
      <a href="compthinking.html">Computational Thinking in HASS</a>
    </li>
    <li>
      <a href="webinars2022.html">LADAL Webinar Series 2022</a>
    </li>
    <li>
      <a href="opening.html">LADAL Webinar Series 2021</a>
    </li>
    <li>
      <a href="atapevents.html">ATAP Events</a>
    </li>
  </ul>
</li>
<li>
  <a href="tutorials.html">TUTORIALS</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    RESOURCES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="links.html">Links</a>
    </li>
    <li>
      <a href="base.html">Tutorial stylesheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="contact.html">CONTACT</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Concordancing with R</h1>
<h4 class="author">Martin Schweinberger</h4>

</div>


<p><img src="https://slcladal.github.io/images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p>This tutorial introduces how to extract concordances and
keyword-in-context (KWIC) displays with R.</p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
Please cite as: <br>Schweinberger, Martin. 2023. <em>Concordancing with
R</em>. Brisbane: The Language Technology and Data Analysis Laboratory
(LADAL). url: <a href="https://ladal.edu.au/kwics.html"
class="uri">https://ladal.edu.au/kwics.html</a> (Version
2023.09.23).<br>
</p>
<p></span></p>
</div>
<p><img src="https://slcladal.github.io/images/gy_chili.jpg" width="15%" style="float:right; padding:10px" /></p>
<p>This tutorial is aimed at beginners and intermediate users of R with
the aim of showcasing how to extract keywords and key phrases from
textual data and how to process the resulting concordances using R. The
aim is not to provide a fully-fledged analysis but rather to show and
exemplify selected useful methods associated with concordancing.</p>
<div class="warning"
style="padding:0.1em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
To be able to follow this tutorial, we suggest you check out and
familiarize yourself with the content of the following <strong>R
Basics</strong> tutorials:<br>
</p>
<p style="margin-top:1em; text-align:left">
<ul>
<li>
<a href="https://ladal.edu.au/intror.html">Getting started with R</a>
</li>
<li>
<a href="https://ladal.edu.au/load.html">Loading, saving, and generating
data in R</a>
</li>
<li>
<a href="https://ladal.edu.au/string.html">String Processing in R</a>
</li>
<li>
<a href="https://ladal.edu.au/regex.html">Regular Expressions in R</a>
</li>
</ul>
</p>
<p style="margin-top:1em; text-align:center">
Click <a
href="https://ladal.edu.au/content/kwics.Rmd"><strong>here</strong></a><a
href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> to
download the <strong>entire R Notebook</strong> for this
tutorial.<br><br> <a
href="https://mybinder.org/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Fkwics_cb.ipynb%26branch%3Dmain"><img
src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a><br> Click
<a
href="https://mybinder.org/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Fkwics_cb.ipynb%26branch%3Dmain"><strong>here</strong></a>
to open an interactive and simplified version of this tutorial that
allows you to execute, change, and edit the code as well as to upload
your own data. <br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<strong>LADAL TOOL</strong>
</p>
<p style="margin-top:1em; text-align:center">
<a
href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Fkwictool.ipynb%26branch%3Dmain"><img
src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a><br> Click
on the ‘launch binder’ badge to open an notebook-based tool that allows
you to perform concordancing and then download your own data.
</p>
<br>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>In the language sciences, concordancing refers to the extraction of
words from a given text or texts <span class="citation">(<a
href="#ref-lindquist2009corpus">Lindquist 2009, 5</a>)</span>. Commonly,
concordances are displayed in the form of keyword-in-context displays
(KWICs) where the search term is shown in context, i.e. with preceding
and following words. Concordancing are central to analyses of text and
they often represents the first step in more sophisticated analyses of
language data <span class="citation">(<a
href="#ref-stafanowitsch2020corpus">Stefanowitsch 2020</a>)</span>. The
play such a key role in the language sciences because concordances are
extremely valuable for understanding how a word or phrase is used, how
often it is used, and in which contexts is used. As concordances allow
us to analyze the context in which a word or phrase occurs and provide
frequency information about word use, they also enable us to analyze
collocations or the collocational profiles of words and phrases <span
class="citation">(<a href="#ref-stafanowitsch2020corpus">Stefanowitsch
2020, 50–51</a>)</span>. Finally, concordances can also be used to
extract examples and it is a very common procedure.</p>
<div class="figure">
<img src="https://slcladal.github.io/images/AntConcConcordance.png" alt="\label{fig:Fig1} Concordances in AntConc." width="100%" style="float:left; padding:2px" />
<p class="caption">
Concordances in AntConc.
</p>
</div>
<p><br></p>
<p>There are various very good software packages that can be used to
create concordances - both for offline use. There are, for example</p>
<ul>
<li><a
href="https://www.laurenceanthony.net/software/antconc/"><em>AntConc</em></a>
<span class="citation">(<a href="#ref-anthony2004antconc">Anthony
2004</a>)</span></li>
<li><a
href="https://www.sketchengine.eu/"><em>SketchEngine</em></a><span
class="citation">(<a href="#ref-kilgarriff2004itri">Kilgarriff et al.
2004</a>)</span></li>
<li><a href="https://www.monoconc.com/"><em>MONOCONC</em></a><span
class="citation">(<a href="#ref-barlow1999monoconc">Barlow
1999</a>)</span></li>
<li><a href="https://paraconc.com/"><em>ParaConc</em></a>)<span
class="citation">(<a href="#ref-barlow2002paraconc">Barlow
2002</a>)</span></li>
<li><a href="https://lextutor.ca/conc/"><em>Web
Concordancers</em></a></li>
<li><a href="https://corpusmate.com/"><em>CorpusMate</em></a></li>
</ul>
<p>In addition, many corpora that are available such as the <a
href="https://corpus.byu.edu/overview.asp">BYU corpora</a> can be
accessed via a web interface that have in-built concordancing
functions.</p>
<div class="figure">
<img src="https://slcladal.github.io/images/KwicCocaLanguage.png" alt="\label{fig:Fig2} Online concordances extracted from the COCA corpus that is part of the BYU corpora." width="100%" style="float:right; padding:2px" />
<p class="caption">
Online concordances extracted from the COCA corpus that is part of the
BYU corpora.
</p>
</div>
<p>While these packages are very user-friendly, offer various additional
functionalities, and almost everyone who is engaged in analyzing
language has used concordance software, they all suffer from
shortcomings that render R a viable alternative. Such issues include
that these applications</p>
<ul>
<li><p>are black boxes that researchers do not have full control over or
do not know what is going on within the software</p></li>
<li><p>they are not open source</p></li>
<li><p>they hinder replication because the replications is more time
consuming compared to analyses based on Notebooks.</p></li>
<li><p>they are commonly not free-of charge or have other restrictions
on use (a notable exception is <em>AntConc</em>)</p></li>
</ul>
<p>R represents an alternative to ready-made concordancing applications
because it:</p>
<ul>
<li><p>is extremely flexible and enables researchers to perform their
entire analysis in a single environment</p></li>
<li><p>allows full transparency and documentation as analyses can be
based on Notebooks</p></li>
<li><p>offer version control measures (this means that the specific
versions of the involved software are traceable)</p></li>
<li><p>makes research more replicable as entire analyses can be
reproduced by simply running the Notebooks that the research is based
on</p></li>
</ul>
<p>Especially the aspect that R enables full transparency and
replicability is relevant given the ongoing <em>Replication Crisis</em>
<span class="citation">(<a href="#ref-atlantic2018psychology">Yong
2018</a>; <a href="#ref-fivethirtyeight2018replication">Aschwanden
2018</a>; <a href="#ref-noba2019replication">Diener and Biswas-Diener
2019</a>; <a href="#ref-physorg2018replication">Velasco 2019</a>; <a
href="#ref-sciencealert2018replication">McRae 2018</a>)</span>. The
Replication Crisis is a ongoing methodological crisis primarily
affecting parts of the social and life sciences beginning in the early
2010s <span class="citation">(see also <a
href="#ref-fanelli2009fraud">Fanelli 2009</a>)</span>. Replication is
important so that other researchers, or the public for that matter, can
see or, indeed, reproduce, exactly what you have done. Fortunately, R
allows you to document your entire workflow as you can store everything
you do in what is called a script or a notebook (in fact, this document
was originally a R notebook). If someone is then interested in how you
conducted your analysis, you can simply share this notebook or the
script you have written with that person.</p>
<p><strong>Preparation and session set up</strong></p>
<p>This tutorial is based on R. If you have not installed R or are new
to it, you will find an introduction to and more information how to use
R <a href="https://slcladal.github.io/intror.html">here</a>. For this
tutorials, we need to install certain <em>packages</em> from an R
<em>library</em> so that the scripts shown below are executed without
errors. Before turning to the code below, please install the packages by
running the code below this paragraph. If you have already installed the
packages mentioned below, then you can skip ahead and ignore this
section. To install the necessary packages, simply run the following
code - it may take some time (between 1 and 5 minutes to install all of
the libraries so you do not need to worry if it takes some time).</p>
<pre class="r"><code># install packages
install.packages(&quot;quanteda&quot;)
install.packages(&quot;dplyr&quot;)
install.packages(&quot;stringr&quot;)
install.packages(&quot;writexl&quot;)
install.packages(&quot;here&quot;)
install.packages(&quot;flextable&quot;)
# install klippy for copy-to-clipboard button in code chunks
install.packages(&quot;remotes&quot;)
remotes::install_github(&quot;rlesur/klippy&quot;)</code></pre>
<p>Now that we have installed the necessary packages, we activate them
as shown below.</p>
<pre class="r klippy"><code># activate packages
library(quanteda)
library(dplyr)
library(stringr)
library(writexl)
library(here)
library(flextable)
# activate klippy for copy-to-clipboard button
klippy::klippy()</code></pre>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<p>Once you have installed R and RStudio and also initiated the session
by executing the code shown above, you are good to go.</p>
<div id="loading-and-processing-textual-data"
class="section level2 unnumbered">
<h2 class="unnumbered">Loading and processing textual data</h2>
<p>For this tutorial, we will use Lewis Caroll’s <em>Alice’s Adventures
in Wonderland</em>. You can use the code below to load this text into R
(but you have to have access to the internet to do so).</p>
<pre class="r"><code>text &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/alice.rda&quot;, &quot;rb&quot;))</code></pre>
<div class="tabwid"><style>.cl-d3f05602{table-layout:auto;width:95%;}.cl-d3e80182{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d3e80196{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d3eb2e84{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d3eb45ae{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d3eb45af{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d3eb45b8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d3eb45b9{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d3f05602'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 text elements of the example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d3eb45ae"><p class="cl-d3eb2e84"><span class="cl-d3e80182">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45af"><p class="cl-d3eb2e84"><span class="cl-d3e80196">Alice’s Adventures in Wonderland</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45b8"><p class="cl-d3eb2e84"><span class="cl-d3e80196">by Lewis Carroll</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45af"><p class="cl-d3eb2e84"><span class="cl-d3e80196">CHAPTER I.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45b8"><p class="cl-d3eb2e84"><span class="cl-d3e80196">Down the Rabbit-Hole</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45af"><p class="cl-d3eb2e84"><span class="cl-d3e80196">Alice was beginning to get very tired of sitting by her sister on the</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45b8"><p class="cl-d3eb2e84"><span class="cl-d3e80196">bank, and of having nothing to do: once or twice she had peeped into</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45af"><p class="cl-d3eb2e84"><span class="cl-d3e80196">the book her sister was reading, but it had no pictures or</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45b8"><p class="cl-d3eb2e84"><span class="cl-d3e80196">conversations in it, “and what is the use of a book,” thought Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45af"><p class="cl-d3eb2e84"><span class="cl-d3e80196">“without pictures or conversations?”</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d3eb45b9"><p class="cl-d3eb2e84"><span class="cl-d3e80196">So she was considering in her own mind (as well as she could, for the</span></p></td></tr></tbody></table></div>
<p>The table above shows that the example text requires formatting so
that we can use it. Therefore, we collapse it into a single object (or
text) and remove superfluous white spaces.</p>
<pre class="r"><code>text &lt;- text %&gt;%
  # collapse lines into a single  text
  paste0(collapse = &quot; &quot;) %&gt;%
  # remove superfluous white spaces
  str_squish()</code></pre>
<div class="tabwid"><style>.cl-d4067446{table-layout:auto;width:95%;}.cl-d3fdf000{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d3fdf00a{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d401434a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d4015a6a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d4015a74{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d4067446'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 1000 characters of of the example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d4015a6a"><p class="cl-d401434a"><span class="cl-d3fdf000">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d4015a74"><p class="cl-d401434a"><span class="cl-d3fdf00a">Alice’s Adventures in Wonderland by Lewis Carroll CHAPTER I. Down the Rabbit-Hole Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, “and what is the use of a book,” thought Alice “without pictures or conversations?” So she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain would be worth the trouble of getting up and picking the daisies, when suddenly a White Rabbit with pink eyes ran close by her. There was nothing so _very_ remarkable in that; nor did Alice think it so _very_ much out of the way to hear the Rabbit say to itself, “Oh dear! Oh dear! I shall be late!” (when she thought it over afterwards, it occurred to her that she ought to have wondered at this, but at the time it all seemed quite natural); but when </span></p></td></tr></tbody></table></div>
<p>The result confirms that the entire text is now combined into a
single character object.</p>
</div>
<div id="creating-simple-concordances"
class="section level2 unnumbered">
<h2 class="unnumbered">Creating simple concordances</h2>
<p>Now that we have loaded the data, we can easily extract concordances
using the <code>kwic</code> function from the <code>quanteda</code>
package. The <code>kwic</code> function takes the text (<code>x</code>)
and the search pattern (<code>pattern</code>) as it main arguments but
it also allows the specification of the context window, i.e. how many
words/elements are show to the left and right of the key word (we will
go over this later on).</p>
<pre class="r"><code>mykwic &lt;- kwic(
  # define text
  text, 
  # define search pattern
  pattern = &quot;Alice&quot;) %&gt;%
  # make it a data frame
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-d4951cdc{table-layout:auto;width:95%;}.cl-d48b8852{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d48b885c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d48ea726{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d48ea730{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d48ec01c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec026{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec027{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec030{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec031{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec03a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec03b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec03c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec03d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec044{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec045{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec046{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec04e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec04f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec050{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d48ec051{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d4951cdc'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the keyword Alice in our example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d48ec01c"><p class="cl-d48ea726"><span class="cl-d48b8852">docname</span></p></th><th class="cl-d48ec026"><p class="cl-d48ea730"><span class="cl-d48b8852">from</span></p></th><th class="cl-d48ec026"><p class="cl-d48ea730"><span class="cl-d48b8852">to</span></p></th><th class="cl-d48ec027"><p class="cl-d48ea726"><span class="cl-d48b8852">pre</span></p></th><th class="cl-d48ec027"><p class="cl-d48ea726"><span class="cl-d48b8852">keyword</span></p></th><th class="cl-d48ec027"><p class="cl-d48ea726"><span class="cl-d48b8852">post</span></p></th><th class="cl-d48ec030"><p class="cl-d48ea726"><span class="cl-d48b8852">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d48ec031"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">14</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">14</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">I . Down the Rabbit-Hole</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">was beginning to get very</span></p></td><td class="cl-d48ec03c"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec03d"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec044"><p class="cl-d48ea730"><span class="cl-d48b885c">73</span></p></td><td class="cl-d48ec044"><p class="cl-d48ea730"><span class="cl-d48b885c">73</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">a book , ” thought</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">“ without pictures or conversations</span></p></td><td class="cl-d48ec046"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec031"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">153</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">153</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">in that ; nor did</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">think it so _very_ much</span></p></td><td class="cl-d48ec03c"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec03d"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec044"><p class="cl-d48ea730"><span class="cl-d48b885c">239</span></p></td><td class="cl-d48ec044"><p class="cl-d48ea730"><span class="cl-d48b885c">239</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">and then hurried on ,</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">started to her feet ,</span></p></td><td class="cl-d48ec046"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec031"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">309</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">309</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">In another moment down went</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">after it , never once</span></p></td><td class="cl-d48ec03c"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec03d"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec044"><p class="cl-d48ea730"><span class="cl-d48b885c">348</span></p></td><td class="cl-d48ec044"><p class="cl-d48ea730"><span class="cl-d48b885c">348</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">down , so suddenly that</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">had not a moment to</span></p></td><td class="cl-d48ec046"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec031"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">531</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">531</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">“ Well ! ” thought</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">to herself , “ after</span></p></td><td class="cl-d48ec03c"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec03d"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec044"><p class="cl-d48ea730"><span class="cl-d48b885c">656</span></p></td><td class="cl-d48ec044"><p class="cl-d48ea730"><span class="cl-d48b885c">656</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">for , you see ,</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec045"><p class="cl-d48ea726"><span class="cl-d48b885c">had learnt several things of</span></p></td><td class="cl-d48ec046"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec031"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">727</span></p></td><td class="cl-d48ec03a"><p class="cl-d48ea730"><span class="cl-d48b885c">727</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">got to ? ” (</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec03b"><p class="cl-d48ea726"><span class="cl-d48b885c">had no idea what Latitude</span></p></td><td class="cl-d48ec03c"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d48ec04e"><p class="cl-d48ea726"><span class="cl-d48b885c">text1</span></p></td><td class="cl-d48ec04f"><p class="cl-d48ea730"><span class="cl-d48b885c">916</span></p></td><td class="cl-d48ec04f"><p class="cl-d48ea730"><span class="cl-d48b885c">916</span></p></td><td class="cl-d48ec050"><p class="cl-d48ea726"><span class="cl-d48b885c">else to do , so</span></p></td><td class="cl-d48ec050"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td><td class="cl-d48ec050"><p class="cl-d48ea726"><span class="cl-d48b885c">soon began talking again .</span></p></td><td class="cl-d48ec051"><p class="cl-d48ea726"><span class="cl-d48b885c">Alice</span></p></td></tr></tbody></table></div>
<p>You will see that you get a warning stating that you should use
<code>token</code> before extracting concordances. This can be done as
shown below. Also, we can specify the package from which we want to use
a function by adding the package name plus :: before the function (see
below)</p>
<pre class="r"><code>mykwic &lt;- quanteda::kwic(
  # define and tokenize text
  quanteda::tokens(text), 
  # define search pattern
  pattern = &quot;alice&quot;) %&gt;%
  # make it a data frame
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-d5127524{table-layout:auto;width:95%;}.cl-d509ee4a{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d509ee5e{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d50d0bac{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d50d0bb6{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d50d23e4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d23ee{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d23f8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d23f9{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d23fa{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2402{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2403{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2404{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d240c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d240d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2416{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2417{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2418{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2420{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2421{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d50d2422{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d5127524'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the keyword *alice* in example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d50d23e4"><p class="cl-d50d0bac"><span class="cl-d509ee4a">docname</span></p></th><th class="cl-d50d23ee"><p class="cl-d50d0bb6"><span class="cl-d509ee4a">from</span></p></th><th class="cl-d50d23ee"><p class="cl-d50d0bb6"><span class="cl-d509ee4a">to</span></p></th><th class="cl-d50d23f8"><p class="cl-d50d0bac"><span class="cl-d509ee4a">pre</span></p></th><th class="cl-d50d23f8"><p class="cl-d50d0bac"><span class="cl-d509ee4a">keyword</span></p></th><th class="cl-d50d23f8"><p class="cl-d50d0bac"><span class="cl-d509ee4a">post</span></p></th><th class="cl-d50d23f9"><p class="cl-d50d0bac"><span class="cl-d509ee4a">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d50d23fa"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">14</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">14</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">I . Down the Rabbit-Hole</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">was beginning to get very</span></p></td><td class="cl-d50d2404"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d240c"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d240d"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">73</span></p></td><td class="cl-d50d240d"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">73</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">a book , ” thought</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">“ without pictures or conversations</span></p></td><td class="cl-d50d2417"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d23fa"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">153</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">153</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">in that ; nor did</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">think it so _very_ much</span></p></td><td class="cl-d50d2404"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d240c"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d240d"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">239</span></p></td><td class="cl-d50d240d"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">239</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">and then hurried on ,</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">started to her feet ,</span></p></td><td class="cl-d50d2417"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d23fa"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">309</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">309</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">In another moment down went</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">after it , never once</span></p></td><td class="cl-d50d2404"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d240c"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d240d"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">348</span></p></td><td class="cl-d50d240d"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">348</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">down , so suddenly that</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">had not a moment to</span></p></td><td class="cl-d50d2417"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d23fa"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">531</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">531</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">“ Well ! ” thought</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">to herself , “ after</span></p></td><td class="cl-d50d2404"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d240c"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d240d"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">656</span></p></td><td class="cl-d50d240d"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">656</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">for , you see ,</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2416"><p class="cl-d50d0bac"><span class="cl-d509ee5e">had learnt several things of</span></p></td><td class="cl-d50d2417"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d23fa"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">727</span></p></td><td class="cl-d50d2402"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">727</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">got to ? ” (</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2403"><p class="cl-d50d0bac"><span class="cl-d509ee5e">had no idea what Latitude</span></p></td><td class="cl-d50d2404"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d50d2418"><p class="cl-d50d0bac"><span class="cl-d509ee5e">text1</span></p></td><td class="cl-d50d2420"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">916</span></p></td><td class="cl-d50d2420"><p class="cl-d50d0bb6"><span class="cl-d509ee5e">916</span></p></td><td class="cl-d50d2421"><p class="cl-d50d0bac"><span class="cl-d509ee5e">else to do , so</span></p></td><td class="cl-d50d2421"><p class="cl-d50d0bac"><span class="cl-d509ee5e">Alice</span></p></td><td class="cl-d50d2421"><p class="cl-d50d0bac"><span class="cl-d509ee5e">soon began talking again .</span></p></td><td class="cl-d50d2422"><p class="cl-d50d0bac"><span class="cl-d509ee5e">alice</span></p></td></tr></tbody></table></div>
<p>We can easily extract the frequency of the search term
(<em>alice</em>) using the <code>nrow</code> or the <code>length</code>
functions which provide the number of rows of a tables
(<code>nrow</code>) or the length of a vector (<code>length</code>).</p>
<pre class="r"><code>nrow(mykwic)</code></pre>
<pre><code>## [1] 386</code></pre>
<pre class="r"><code>length(mykwic$keyword)</code></pre>
<pre><code>## [1] 386</code></pre>
<p>The results show that there are 386 instances of the search term
(<em>alice</em>) but we can also find out how often different variants
(lower case versus upper case) of the search term were found using the
<code>table</code> function. This is especially useful when searches
involve many different search terms (while it is, admittedly, less
useful in the present example).</p>
<pre class="r"><code>table(mykwic$keyword)</code></pre>
<pre><code>## 
## Alice 
##   386</code></pre>
<p>To get a better understanding of the use of a word, it is often
useful to extract more context. This is easily done by increasing size
of the context window. To do this, we specify the <code>window</code>
argument of the <code>kwic</code> function. In the example below, we set
the context window size to 10 words/elements rather than using the
default (which is 5 word/elements).</p>
<pre class="r"><code>mykwic_longer &lt;- kwic(
  # define text
  text, 
  # define search pattern
  pattern = &quot;alice&quot;, 
  # define context window size
  window = 10) %&gt;%
  # make it a data frame
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-d5913062{table-layout:auto;width:95%;}.cl-d588b7f2{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d588b7fc{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d58bdd38{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d58bdd42{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d58bf5ca{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5d4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5d5{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5de{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5df{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5e0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5e8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5e9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5ea{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5f2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5f3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5f4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5fc{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5fd{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf5fe{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d58bf606{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d5913062'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the keyword *alice* in the example text with extended context (10 elements).</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d58bf5ca"><p class="cl-d58bdd38"><span class="cl-d588b7f2">docname</span></p></th><th class="cl-d58bf5d4"><p class="cl-d58bdd42"><span class="cl-d588b7f2">from</span></p></th><th class="cl-d58bf5d4"><p class="cl-d58bdd42"><span class="cl-d588b7f2">to</span></p></th><th class="cl-d58bf5d5"><p class="cl-d58bdd38"><span class="cl-d588b7f2">pre</span></p></th><th class="cl-d58bf5d5"><p class="cl-d58bdd38"><span class="cl-d588b7f2">keyword</span></p></th><th class="cl-d58bf5d5"><p class="cl-d58bdd38"><span class="cl-d588b7f2">post</span></p></th><th class="cl-d58bf5de"><p class="cl-d58bdd38"><span class="cl-d588b7f2">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5df"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">14</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">14</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Wonderland by Lewis Carroll CHAPTER I . Down the Rabbit-Hole</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">was beginning to get very tired of sitting by her</span></p></td><td class="cl-d58bf5e9"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5ea"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5f2"><p class="cl-d58bdd42"><span class="cl-d588b7fc">73</span></p></td><td class="cl-d58bf5f2"><p class="cl-d58bdd42"><span class="cl-d588b7fc">73</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">what is the use of a book , ” thought</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">“ without pictures or conversations ? ” So she was</span></p></td><td class="cl-d58bf5f4"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5df"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">153</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">153</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">was nothing so _very_ remarkable in that ; nor did</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">think it so _very_ much out of the way to</span></p></td><td class="cl-d58bf5e9"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5ea"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5f2"><p class="cl-d58bdd42"><span class="cl-d588b7fc">239</span></p></td><td class="cl-d58bf5f2"><p class="cl-d58bdd42"><span class="cl-d588b7fc">239</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">and looked at it , and then hurried on ,</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">started to her feet , for it flashed across her</span></p></td><td class="cl-d58bf5f4"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5df"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">309</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">309</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">rabbit-hole under the hedge . In another moment down went</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">after it , never once considering how in the world</span></p></td><td class="cl-d58bf5e9"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5ea"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5f2"><p class="cl-d58bdd42"><span class="cl-d588b7fc">348</span></p></td><td class="cl-d58bf5f2"><p class="cl-d58bdd42"><span class="cl-d588b7fc">348</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">, and then dipped suddenly down , so suddenly that</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">had not a moment to think about stopping herself before</span></p></td><td class="cl-d58bf5f4"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5df"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">531</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">531</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">she fell past it . “ Well ! ” thought</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">to herself , “ after such a fall as this</span></p></td><td class="cl-d58bf5e9"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5ea"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5f2"><p class="cl-d58bdd42"><span class="cl-d588b7fc">656</span></p></td><td class="cl-d58bf5f2"><p class="cl-d58bdd42"><span class="cl-d588b7fc">656</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">, I think— ” ( for , you see ,</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5f3"><p class="cl-d58bdd38"><span class="cl-d588b7fc">had learnt several things of this sort in her lessons</span></p></td><td class="cl-d58bf5f4"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5df"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">727</span></p></td><td class="cl-d58bf5e0"><p class="cl-d58bdd42"><span class="cl-d588b7fc">727</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">what Latitude or Longitude I’ve got to ? ” (</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5e8"><p class="cl-d58bdd38"><span class="cl-d588b7fc">had no idea what Latitude was , or Longitude either</span></p></td><td class="cl-d58bf5e9"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d58bf5fc"><p class="cl-d58bdd38"><span class="cl-d588b7fc">text1</span></p></td><td class="cl-d58bf5fd"><p class="cl-d58bdd42"><span class="cl-d588b7fc">916</span></p></td><td class="cl-d58bf5fd"><p class="cl-d58bdd42"><span class="cl-d588b7fc">916</span></p></td><td class="cl-d58bf5fe"><p class="cl-d58bdd38"><span class="cl-d588b7fc">down . There was nothing else to do , so</span></p></td><td class="cl-d58bf5fe"><p class="cl-d58bdd38"><span class="cl-d588b7fc">Alice</span></p></td><td class="cl-d58bf5fe"><p class="cl-d58bdd38"><span class="cl-d588b7fc">soon began talking again . “ Dinah’ll miss me very</span></p></td><td class="cl-d58bf606"><p class="cl-d58bdd38"><span class="cl-d588b7fc">alice</span></p></td></tr></tbody></table></div>
<hr />
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>EXERCISE TIME!</b>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<div class="question">
<p>`</p>
<ol style="list-style-type: decimal">
<li>Extract the first 10 concordances for the word
<em>confused</em>.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_confused &lt;- kwic(x = text, pattern = &quot;confused&quot;)
  # inspect
  kwic_confused %&gt;%
  as.data.frame() %&gt;%
  head(10)</code></pre>
<pre><code>  ##   docname  from    to                    pre  keyword
  ## 1   text1  6211  6211     , calling out in a confused
  ## 2   text1 19095 19095     . ” This answer so confused
  ## 3   text1 19277 19277 said Alice , very much confused
  ## 4   text1 33304 33304      she knew ) to the confused
  ##                                  post  pattern
  ## 1                    way , “ Prizes ! confused
  ## 2               poor Alice , that she confused
  ## 3                  , “ I don’t think— confused
  ## 4 clamour of the busy farm-yard—while confused</code></pre>
</details>
<ol start="2" style="list-style-type: decimal">
<li>How many instances are there of the word
<em>wondering</em>?<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic(x = text, pattern = &quot;wondering&quot;) %&gt;%
  as.data.frame() %&gt;%
  nrow()</code></pre>
<pre><code>  ## [1] 7</code></pre>
</details>
<ol start="3" style="list-style-type: decimal">
<li>Extract concordances for the word <em>strange</em> and show the
first 5 concordance lines.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_strange &lt;- kwic(x = text, pattern = &quot;strange&quot;)
  # inspect
  kwic_strange %&gt;%
  as.data.frame() %&gt;%
  head(5)</code></pre>
<pre><code>  ##   docname  from    to                          pre keyword
  ## 1   text1  3530  3530 her voice sounded hoarse and strange
  ## 2   text1 13124 13124         , that it felt quite strange
  ## 3   text1 32879 32879    remember them , all these strange
  ## 4   text1 33086 33086    her became alive with the strange
  ## 5   text1 33396 33396        and eager with many a strange
  ##                               post pattern
  ## 1              , and the words did strange
  ## 2               at first ; but she strange
  ## 3      Adventures of hers that you strange
  ## 4 creatures of her little sister’s strange
  ## 5         tale , perhaps even with strange</code></pre>
</details>
</div>
<p>`</p>
<hr />
</div>
<div id="exporting-concordances" class="section level2 unnumbered">
<h2 class="unnumbered">Exporting concordances</h2>
<p>To export or save a concordance table as an MS Excel spreadsheet, you
can use the <code>write_xlsx</code> function from the
<code>writexl</code> package as shown below. Be aware that we use the
<code>here</code> function from the <code>here</code> package to define
where we want to save the file (in this case this will be in the current
working directory. If you work with Rproj files in RStudio - as you
should - then the current working directory is the directory or folder
where your Rproj file is).</p>
<pre class="r"><code>write_xlsx(mykwic, here::here(&quot;mykwic.xlsx&quot;))</code></pre>
</div>
<div id="extracting-more-than-single-words"
class="section level2 unnumbered">
<h2 class="unnumbered">Extracting more than single words</h2>
<p>While extracting single words is very common, you may want to extract
more than just one word. To extract phrases, all you need to so is to
specify that the pattern you are looking for is a phrase, as shown
below.</p>
<pre class="r"><code>kwic_pooralice &lt;- kwic(text, pattern = phrase(&quot;poor alice&quot;)) %&gt;%
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-d61b6444{table-layout:auto;width:95%;}.cl-d61306b4{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d61306be{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d6162772{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d616277c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d6163ee2{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163eec{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163eed{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163ef6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163ef7{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163ef8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f00{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f01{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f02{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f0a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f0b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f0c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f14{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f15{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f16{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6163f1e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d61b6444'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the keyphrase *poor alice* in the example text.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d6163ee2"><p class="cl-d6162772"><span class="cl-d61306b4">docname</span></p></th><th class="cl-d6163eec"><p class="cl-d616277c"><span class="cl-d61306b4">from</span></p></th><th class="cl-d6163eec"><p class="cl-d616277c"><span class="cl-d61306b4">to</span></p></th><th class="cl-d6163eed"><p class="cl-d6162772"><span class="cl-d61306b4">pre</span></p></th><th class="cl-d6163eed"><p class="cl-d6162772"><span class="cl-d61306b4">keyword</span></p></th><th class="cl-d6163eed"><p class="cl-d6162772"><span class="cl-d61306b4">post</span></p></th><th class="cl-d6163ef6"><p class="cl-d6162772"><span class="cl-d61306b4">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d6163ef7"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">1,547</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">1,548</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">go through , ” thought</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">, “ it would be</span></p></td><td class="cl-d6163f01"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163f02"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163f0a"><p class="cl-d616277c"><span class="cl-d61306be">2,136</span></p></td><td class="cl-d6163f0a"><p class="cl-d616277c"><span class="cl-d61306be">2,137</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">; but , alas for</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">! when she got to</span></p></td><td class="cl-d6163f0c"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163ef7"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">2,338</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">2,339</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">use now , ” thought</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">, “ to pretend to</span></p></td><td class="cl-d6163f01"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163f02"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163f0a"><p class="cl-d616277c"><span class="cl-d61306be">2,892</span></p></td><td class="cl-d6163f0a"><p class="cl-d616277c"><span class="cl-d61306be">2,893</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">to the garden door .</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">Poor Alice</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">! It was as much</span></p></td><td class="cl-d6163f0c"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163ef7"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">3,607</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">3,608</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">right words , ” said</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">, and her eyes filled</span></p></td><td class="cl-d6163f01"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163f02"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163f0a"><p class="cl-d616277c"><span class="cl-d61306be">6,869</span></p></td><td class="cl-d6163f0a"><p class="cl-d616277c"><span class="cl-d61306be">6,870</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">mean it ! ” pleaded</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">. “ But you’re so</span></p></td><td class="cl-d6163f0c"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163ef7"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">7,283</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">7,284</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">more ! ” And here</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">began to cry again ,</span></p></td><td class="cl-d6163f01"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163f02"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163f0a"><p class="cl-d616277c"><span class="cl-d61306be">8,232</span></p></td><td class="cl-d6163f0a"><p class="cl-d616277c"><span class="cl-d61306be">8,233</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">at home , ” thought</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f0b"><p class="cl-d6162772"><span class="cl-d61306be">, “ when one wasn’t</span></p></td><td class="cl-d6163f0c"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163ef7"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">11,766</span></p></td><td class="cl-d6163ef8"><p class="cl-d616277c"><span class="cl-d61306be">11,767</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">to it ! ” pleaded</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f00"><p class="cl-d6162772"><span class="cl-d61306be">in a piteous tone .</span></p></td><td class="cl-d6163f01"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6163f14"><p class="cl-d6162772"><span class="cl-d61306be">text1</span></p></td><td class="cl-d6163f15"><p class="cl-d616277c"><span class="cl-d61306be">19,096</span></p></td><td class="cl-d6163f15"><p class="cl-d616277c"><span class="cl-d61306be">19,097</span></p></td><td class="cl-d6163f16"><p class="cl-d6162772"><span class="cl-d61306be">” This answer so confused</span></p></td><td class="cl-d6163f16"><p class="cl-d6162772"><span class="cl-d61306be">poor Alice</span></p></td><td class="cl-d6163f16"><p class="cl-d6162772"><span class="cl-d61306be">, that she let the</span></p></td><td class="cl-d6163f1e"><p class="cl-d6162772"><span class="cl-d61306be">poor alice</span></p></td></tr></tbody></table></div>
<p>You may also want to extract more or less fixed patterns rather than
exact words or phrases. To search for patterns that allow variation
rather than specific, exactly-defined words, you need to include regular
expressions in your search pattern.</p>
<hr />
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>EXERCISE TIME!</b>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<div class="question">
<p>`</p>
<ol style="list-style-type: decimal">
<li>Extract the first 10 concordances for the phrase <em>the
hatter</em>.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_thehatter &lt;- kwic(x = text, pattern = phrase(&quot;the hatter&quot;))
  # inspect
  kwic_thehatter %&gt;%
  as.data.frame() %&gt;%
  head(10)</code></pre>
<pre><code>  ##    docname  from    to                    pre    keyword
  ## 1    text1 16541 16542   wish I’d gone to see the Hatter
  ## 2    text1 16572 16573 and the March Hare and the Hatter
  ## 3    text1 16824 16825 wants cutting , ” said the Hatter
  ## 4    text1 16870 16871     it’s very rude . ” The Hatter
  ## 5    text1 17011 17012         a bit ! ” said the Hatter
  ## 6    text1 17136 17137      with you , ” said the Hatter
  ## 7    text1 17171 17172  , which wasn’t much . The Hatter
  ## 8    text1 17249 17250  days wrong ! ” sighed the Hatter
  ## 9    text1 17300 17301         in as well , ” the Hatter
  ## 10   text1 17415 17416 should it ? ” muttered the Hatter
  ##                           post    pattern
  ## 1      instead ! ” CHAPTER VII the hatter
  ## 2        were having tea at it the hatter
  ## 3        . He had been looking the hatter
  ## 4    opened his eyes very wide the hatter
  ## 5           . “ You might just the hatter
  ## 6  , and here the conversation the hatter
  ## 7       was the first to break the hatter
  ## 8               . “ I told you the hatter
  ## 9   grumbled : “ you shouldn’t the hatter
  ## 10       . “ Does _your_ watch the hatter</code></pre>
</details>
<ol start="2" style="list-style-type: decimal">
<li>How many instances are there of the phrase <em>the
hatter</em>?<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_thehatter %&gt;%
  as.data.frame() %&gt;%
  nrow()</code></pre>
<pre><code>  ## [1] 51</code></pre>
</details>
<ol start="3" style="list-style-type: decimal">
<li>Extract concordances for the phrase <em>the cat</em> and show the
first 5 concordance lines.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_thecat &lt;- kwic(x = text, pattern = phrase(&quot;the cat&quot;))
  # inspect
  kwic_thecat %&gt;%
  as.data.frame() %&gt;%
  head(5)</code></pre>
<pre><code>  ##   docname  from    to               pre keyword                     post
  ## 1   text1   938   939   ! ” ( Dinah was the cat             . ) “ I hope
  ## 2   text1 15591 15592 a few yards off . The Cat only grinned when it saw
  ## 3   text1 15716 15717   get to , ” said the Cat         . “ I don’t much
  ## 4   text1 15741 15742   you go , ” said the Cat          . “ —so long as
  ## 5   text1 15770 15771  do that , ” said the Cat          , “ if you only
  ##   pattern
  ## 1 the cat
  ## 2 the cat
  ## 3 the cat
  ## 4 the cat
  ## 5 the cat</code></pre>
</details>
</div>
<p>`</p>
<hr />
</div>
<div id="searches-using-regular-expressions"
class="section level2 unnumbered">
<h2 class="unnumbered">Searches using regular expressions</h2>
<p>Regular expressions allow you to search for abstract patterns rather
than concrete words or phrases which provides you with an extreme
flexibility in what you can retrieve. A regular expression (in short
also called <em>regex</em> or <em>regexp</em>) is a special sequence of
characters that stand for are that describe a pattern. You can think of
regular expressions as very powerful combinations of wildcards or as
wildcards on steroids. For example, the sequence <code>[a-z]{1,3}</code>
is a regular expression that stands for one up to three lower case
characters and if you searched for this regular expression, you would
get, for instance, <em>is</em>, <em>a</em>, <em>an</em>, <em>of</em>,
<em>the</em>, <em>my</em>, <em>our</em>, <em>etc</em>, and many other
short words as results.</p>
<p>There are three basic types of regular expressions:</p>
<ul>
<li><p>regular expressions that stand for individual symbols and
determine frequencies</p></li>
<li><p>regular expressions that stand for classes of symbols</p></li>
<li><p>regular expressions that stand for structural properties</p></li>
</ul>
<p>The regular expressions below show the first type of regular
expressions, i.e. regular expressions that stand for individual symbols
and determine frequencies.</p>
<div class="tabwid"><style>.cl-d675793e{table-layout:auto;width:75%;}.cl-d66c3a18{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d66c3a22{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d66f3c54{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d66f52d4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f52de{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f52e8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f52e9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f52f2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f52f3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f52fc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f52fd{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f52fe{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f5306{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f5307{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d66f5308{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d675793e'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Regular expressions that stand for individual symbols and determine frequencies.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d66f52d4"><p class="cl-d66f3c54"><span class="cl-d66c3a18">RegEx Symbol/Sequence</span></p></th><th class="cl-d66f52de"><p class="cl-d66f3c54"><span class="cl-d66c3a18">Explanation</span></p></th><th class="cl-d66f52e8"><p class="cl-d66f3c54"><span class="cl-d66c3a18">Example</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d66f52e9"><p class="cl-d66f3c54"><span class="cl-d66c3a22">?</span></p></td><td class="cl-d66f52f2"><p class="cl-d66f3c54"><span class="cl-d66c3a22">The preceding item is optional and will be matched at most once</span></p></td><td class="cl-d66f52f3"><p class="cl-d66f3c54"><span class="cl-d66c3a22">walk[a-z]? = walk, walks</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d66f52fc"><p class="cl-d66f3c54"><span class="cl-d66c3a22">*</span></p></td><td class="cl-d66f52fd"><p class="cl-d66f3c54"><span class="cl-d66c3a22">The preceding item will be matched zero or more times</span></p></td><td class="cl-d66f52fe"><p class="cl-d66f3c54"><span class="cl-d66c3a22">walk[a-z]* = walk, walks, walked, walking</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d66f52e9"><p class="cl-d66f3c54"><span class="cl-d66c3a22">+</span></p></td><td class="cl-d66f52f2"><p class="cl-d66f3c54"><span class="cl-d66c3a22">The preceding item will be matched one or more times</span></p></td><td class="cl-d66f52f3"><p class="cl-d66f3c54"><span class="cl-d66c3a22">walk[a-z]+ = walks, walked, walking</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d66f52fc"><p class="cl-d66f3c54"><span class="cl-d66c3a22">{n}</span></p></td><td class="cl-d66f52fd"><p class="cl-d66f3c54"><span class="cl-d66c3a22">The preceding item is matched exactly n times</span></p></td><td class="cl-d66f52fe"><p class="cl-d66f3c54"><span class="cl-d66c3a22">walk[a-z]{2} = walked</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d66f52e9"><p class="cl-d66f3c54"><span class="cl-d66c3a22">{n,}</span></p></td><td class="cl-d66f52f2"><p class="cl-d66f3c54"><span class="cl-d66c3a22">The preceding item is matched n or more times</span></p></td><td class="cl-d66f52f3"><p class="cl-d66f3c54"><span class="cl-d66c3a22">walk[a-z]{2,} = walked, walking</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d66f5306"><p class="cl-d66f3c54"><span class="cl-d66c3a22">{n,m}</span></p></td><td class="cl-d66f5307"><p class="cl-d66f3c54"><span class="cl-d66c3a22">The preceding item is matched at least n times, but not more than m times</span></p></td><td class="cl-d66f5308"><p class="cl-d66f3c54"><span class="cl-d66c3a22">walk[a-z]{2,3} = walked, walking</span></p></td></tr></tbody></table></div>
<p>The regular expressions below show the second type of regular
expressions, i.e. regular expressions that stand for classes of
symbols.</p>
<div class="tabwid"><style>.cl-d68a80c2{table-layout:auto;width:75%;}.cl-d6828778{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d682878c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d685878e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d6859e2c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6859e36{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6859e40{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6859e41{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6859e42{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6859e4a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6859e4b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d6859e4c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d68a80c2'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Regular expressions that stand for classes of symbols.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d6859e2c"><p class="cl-d685878e"><span class="cl-d6828778">RegEx Symbol/Sequence</span></p></th><th class="cl-d6859e36"><p class="cl-d685878e"><span class="cl-d6828778">Explanation</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d6859e40"><p class="cl-d685878e"><span class="cl-d682878c">[ab]</span></p></td><td class="cl-d6859e41"><p class="cl-d685878e"><span class="cl-d682878c">lower case a and b</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e42"><p class="cl-d685878e"><span class="cl-d682878c">[AB]</span></p></td><td class="cl-d6859e4a"><p class="cl-d685878e"><span class="cl-d682878c">upper case a and b</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e40"><p class="cl-d685878e"><span class="cl-d682878c">[12]</span></p></td><td class="cl-d6859e41"><p class="cl-d685878e"><span class="cl-d682878c">digits 1 and 2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e42"><p class="cl-d685878e"><span class="cl-d682878c">[:digit:]</span></p></td><td class="cl-d6859e4a"><p class="cl-d685878e"><span class="cl-d682878c">digits: 0 1 2 3 4 5 6 7 8 9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e40"><p class="cl-d685878e"><span class="cl-d682878c">[:lower:]</span></p></td><td class="cl-d6859e41"><p class="cl-d685878e"><span class="cl-d682878c">lower case characters: a–z</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e42"><p class="cl-d685878e"><span class="cl-d682878c">[:upper:]</span></p></td><td class="cl-d6859e4a"><p class="cl-d685878e"><span class="cl-d682878c">upper case characters: A–Z</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e40"><p class="cl-d685878e"><span class="cl-d682878c">[:alpha:]</span></p></td><td class="cl-d6859e41"><p class="cl-d685878e"><span class="cl-d682878c">alphabetic characters: a–z and A–Z</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e42"><p class="cl-d685878e"><span class="cl-d682878c">[:alnum:]</span></p></td><td class="cl-d6859e4a"><p class="cl-d685878e"><span class="cl-d682878c">digits and alphabetic characters</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e40"><p class="cl-d685878e"><span class="cl-d682878c">[:punct:]</span></p></td><td class="cl-d6859e41"><p class="cl-d685878e"><span class="cl-d682878c">punctuation characters: . , ; etc.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e42"><p class="cl-d685878e"><span class="cl-d682878c">[:graph:]</span></p></td><td class="cl-d6859e4a"><p class="cl-d685878e"><span class="cl-d682878c">graphical characters: [:alnum:] and [:punct:]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e40"><p class="cl-d685878e"><span class="cl-d682878c">[:blank:]</span></p></td><td class="cl-d6859e41"><p class="cl-d685878e"><span class="cl-d682878c">blank characters: Space and tab</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e42"><p class="cl-d685878e"><span class="cl-d682878c">[:space:]</span></p></td><td class="cl-d6859e4a"><p class="cl-d685878e"><span class="cl-d682878c">space characters: Space, tab, newline, and other space characters</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d6859e4b"><p class="cl-d685878e"><span class="cl-d682878c">[:print:]</span></p></td><td class="cl-d6859e4c"><p class="cl-d685878e"><span class="cl-d682878c">printable characters: [:alnum:], [:punct:] and [:space:]</span></p></td></tr></tbody></table></div>
<p>The regular expressions that denote classes of symbols are enclosed
in <code>[]</code> and <code>:</code>. The last type of regular
expressions, i.e. regular expressions that stand for structural
properties are shown below.</p>
<div class="tabwid"><style>.cl-d6a11a26{table-layout:auto;width:50%;}.cl-d6982b28{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d6982b32{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d69b86ec{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d69ba1e0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d69ba1e1{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d69ba1ea{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d69ba1f4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d69ba1f5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d69ba3a2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d69ba3ac{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d69ba3ad{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d6a11a26'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Regular expressions that stand for structural properties.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d69ba1e0"><p class="cl-d69b86ec"><span class="cl-d6982b28">RegEx Symbol/Sequence</span></p></th><th class="cl-d69ba1e1"><p class="cl-d69b86ec"><span class="cl-d6982b28">Explanation</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1ea"><p class="cl-d69b86ec"><span class="cl-d6982b32">\\w</span></p></td><td class="cl-d69ba1f4"><p class="cl-d69b86ec"><span class="cl-d6982b32">Word characters: [[:alnum:]_]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1f5"><p class="cl-d69b86ec"><span class="cl-d6982b32">\\W</span></p></td><td class="cl-d69ba3a2"><p class="cl-d69b86ec"><span class="cl-d6982b32">No word characters: [^[:alnum:]_]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1ea"><p class="cl-d69b86ec"><span class="cl-d6982b32">\\s</span></p></td><td class="cl-d69ba1f4"><p class="cl-d69b86ec"><span class="cl-d6982b32">Space characters: [[:blank:]]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1f5"><p class="cl-d69b86ec"><span class="cl-d6982b32">\\S</span></p></td><td class="cl-d69ba3a2"><p class="cl-d69b86ec"><span class="cl-d6982b32">No space characters: [^[:blank:]]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1ea"><p class="cl-d69b86ec"><span class="cl-d6982b32">\\d</span></p></td><td class="cl-d69ba1f4"><p class="cl-d69b86ec"><span class="cl-d6982b32">Digits: [[:digit:]]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1f5"><p class="cl-d69b86ec"><span class="cl-d6982b32">\\D</span></p></td><td class="cl-d69ba3a2"><p class="cl-d69b86ec"><span class="cl-d6982b32">No digits: [^[:digit:]]</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1ea"><p class="cl-d69b86ec"><span class="cl-d6982b32">\\b</span></p></td><td class="cl-d69ba1f4"><p class="cl-d69b86ec"><span class="cl-d6982b32">Word edge</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1f5"><p class="cl-d69b86ec"><span class="cl-d6982b32">\\B</span></p></td><td class="cl-d69ba3a2"><p class="cl-d69b86ec"><span class="cl-d6982b32">No word edge</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1ea"><p class="cl-d69b86ec"><span class="cl-d6982b32">&lt;</span></p></td><td class="cl-d69ba1f4"><p class="cl-d69b86ec"><span class="cl-d6982b32">Word beginning</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1f5"><p class="cl-d69b86ec"><span class="cl-d6982b32">&gt;</span></p></td><td class="cl-d69ba3a2"><p class="cl-d69b86ec"><span class="cl-d6982b32">Word end</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba1ea"><p class="cl-d69b86ec"><span class="cl-d6982b32">^</span></p></td><td class="cl-d69ba1f4"><p class="cl-d69b86ec"><span class="cl-d6982b32">Beginning of a string</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d69ba3ac"><p class="cl-d69b86ec"><span class="cl-d6982b32">$</span></p></td><td class="cl-d69ba3ad"><p class="cl-d69b86ec"><span class="cl-d6982b32">End of a string</span></p></td></tr></tbody></table></div>
<p>To include regular expressions in your KWIC searches, you include
them in your search pattern and set the argument <code>valuetype</code>
to <code>"regex"</code>. The search pattern
<code>"\\balic.*|\\bhatt.*"</code> retrieves elements that contain
<code>alic</code> and <code>hatt</code> followed by any characters and
where the <code>a</code> in <code>alic</code> and the <code>h</code> in
<code>hatt</code> are at a word boundary, i.e. where they are the first
letters of a word. Hence, our search would not retrieve words like
<em>malice</em> or <em>shatter</em>. The <code>|</code> is an operator
(like <code>+</code>, <code>-</code>, or <code>*</code>) that stands for
<em>or</em>.</p>
<pre class="r"><code># define search patterns
patterns &lt;- c(&quot;\\balic.*|\\bhatt.*&quot;)
kwic_regex &lt;- kwic(
  # define text
  text, 
  # define search pattern
  patterns, 
  # define valuetype
  valuetype = &quot;regex&quot;) %&gt;%
  # make it a data frame
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-d7170308{table-layout:auto;width:95%;}.cl-d70e913c{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d70e9146{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d711b718{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d711b722{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d711cf00{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf0a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf0b{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf14{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf15{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf1e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf1f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf20{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf28{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf29{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf2a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf2b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf32{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf33{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf34{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d711cf3c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d7170308'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for the regular expression \balic.* and \bhatt.*.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d711cf00"><p class="cl-d711b718"><span class="cl-d70e913c">docname</span></p></th><th class="cl-d711cf0a"><p class="cl-d711b722"><span class="cl-d70e913c">from</span></p></th><th class="cl-d711cf0a"><p class="cl-d711b722"><span class="cl-d70e913c">to</span></p></th><th class="cl-d711cf0b"><p class="cl-d711b718"><span class="cl-d70e913c">pre</span></p></th><th class="cl-d711cf0b"><p class="cl-d711b718"><span class="cl-d70e913c">keyword</span></p></th><th class="cl-d711cf0b"><p class="cl-d711b718"><span class="cl-d70e913c">post</span></p></th><th class="cl-d711cf14"><p class="cl-d711b718"><span class="cl-d70e913c">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d711cf15"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">1</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">1</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146"></span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">Alice’s</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">Adventures in Wonderland by Lewis</span></p></td><td class="cl-d711cf20"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf28"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf29"><p class="cl-d711b722"><span class="cl-d70e9146">14</span></p></td><td class="cl-d711cf29"><p class="cl-d711b722"><span class="cl-d70e9146">14</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">I . Down the Rabbit-Hole</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">was beginning to get very</span></p></td><td class="cl-d711cf2b"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf15"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">73</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">73</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">a book , ” thought</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">“ without pictures or conversations</span></p></td><td class="cl-d711cf20"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf28"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf29"><p class="cl-d711b722"><span class="cl-d70e9146">153</span></p></td><td class="cl-d711cf29"><p class="cl-d711b722"><span class="cl-d70e9146">153</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">in that ; nor did</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">think it so _very_ much</span></p></td><td class="cl-d711cf2b"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf15"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">239</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">239</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">and then hurried on ,</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">started to her feet ,</span></p></td><td class="cl-d711cf20"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf28"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf29"><p class="cl-d711b722"><span class="cl-d70e9146">309</span></p></td><td class="cl-d711cf29"><p class="cl-d711b722"><span class="cl-d70e9146">309</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">In another moment down went</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">after it , never once</span></p></td><td class="cl-d711cf2b"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf15"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">348</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">348</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">down , so suddenly that</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">had not a moment to</span></p></td><td class="cl-d711cf20"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf28"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf29"><p class="cl-d711b722"><span class="cl-d70e9146">531</span></p></td><td class="cl-d711cf29"><p class="cl-d711b722"><span class="cl-d70e9146">531</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">“ Well ! ” thought</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf2a"><p class="cl-d711b718"><span class="cl-d70e9146">to herself , “ after</span></p></td><td class="cl-d711cf2b"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf15"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">656</span></p></td><td class="cl-d711cf1e"><p class="cl-d711b722"><span class="cl-d70e9146">656</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">for , you see ,</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf1f"><p class="cl-d711b718"><span class="cl-d70e9146">had learnt several things of</span></p></td><td class="cl-d711cf20"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d711cf32"><p class="cl-d711b718"><span class="cl-d70e9146">text1</span></p></td><td class="cl-d711cf33"><p class="cl-d711b722"><span class="cl-d70e9146">727</span></p></td><td class="cl-d711cf33"><p class="cl-d711b722"><span class="cl-d70e9146">727</span></p></td><td class="cl-d711cf34"><p class="cl-d711b718"><span class="cl-d70e9146">got to ? ” (</span></p></td><td class="cl-d711cf34"><p class="cl-d711b718"><span class="cl-d70e9146">Alice</span></p></td><td class="cl-d711cf34"><p class="cl-d711b718"><span class="cl-d70e9146">had no idea what Latitude</span></p></td><td class="cl-d711cf3c"><p class="cl-d711b718"><span class="cl-d70e9146">\balic.*|\bhatt.*</span></p></td></tr></tbody></table></div>
<hr />
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>EXERCISE TIME!</b>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<div class="question">
<p>`</p>
<ol style="list-style-type: decimal">
<li>Extract the first 10 concordances for words containing
<em>exu</em>.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic_exu &lt;- kwic(x = text, pattern = &quot;.*exu.*&quot;, valuetype = &quot;regex&quot;)
  # inspect
  kwic_exu %&gt;%
  as.data.frame() %&gt;%
  head(10)</code></pre>
<pre><code>  ## [1] docname from    to      pre     keyword post    pattern
  ## &lt;0 rows&gt; (or 0-length row.names)</code></pre>
</details>
<ol start="2" style="list-style-type: decimal">
<li>How many instances are there of words beginning with
<em>pit</em>?<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic(x = text, pattern = &quot;\\bpit.*&quot;, valuetype = &quot;regex&quot;) %&gt;%
  as.data.frame() %&gt;%
  nrow()</code></pre>
<pre><code>  ## [1] 5</code></pre>
</details>
<ol start="3" style="list-style-type: decimal">
<li>Extract concordances for words ending with <em>ption</em> and show
the first 5 concordance lines.<br></li>
</ol>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  kwic(x = text, pattern = &quot;ption\\b&quot;, valuetype = &quot;regex&quot;)  %&gt;%
  as.data.frame() %&gt;%
  head(5)</code></pre>
<pre><code>  ##   docname from   to                         pre  keyword
  ## 1   text1 5770 5770 adjourn , for the immediate adoption
  ##                            post  pattern
  ## 1 of more energetic remedies— ” ption\\b</code></pre>
</details>
</div>
<p>`</p>
<hr />
</div>
<div id="piping-concordances" class="section level2 unnumbered">
<h2 class="unnumbered">Piping concordances</h2>
<p>Quite often, we only want to retrieve patterns if they occur in a
certain context. For instance, we might be interested in instances of
<em>selection</em> but only if the preceding word is <em>natural</em>.
Such conditional concordances could be extracted using regular
expressions but they are easier to retrieve by piping. Piping is done
using the <code>%&gt;%</code> function from the <code>dplyr</code>
package and the piping sequence can be translated as <em>and then</em>.
We can then filter those concordances that contain <em>natural</em>
using the <code>filter</code> function from the <code>dplyr</code>
package. Note the the <code>$</code> stands for the end of a string so
that <em>natural$</em> means that <em>natural</em> is the last element
in the string that is preceding the keyword.</p>
<pre class="r"><code>kwic_pipe &lt;- kwic(x = text, pattern = &quot;alice&quot;) %&gt;%
  as.data.frame() %&gt;%
  dplyr::filter(stringr::str_detect(pre, &quot;poor$|little$&quot;))</code></pre>
<div class="tabwid"><style>.cl-d7d32aba{table-layout:auto;width:95%;}.cl-d7ca668c{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d7ca6696{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d7cda108{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d7cda112{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d7cdbcec{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbced{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbcf6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbcf7{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd00{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd01{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd02{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd0a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd0b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd0c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd14{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd15{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd16{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd1e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd1f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d7cdbd20{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d7d32aba'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for instances of *alice* that are preceeded by *poor* or *little*.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d7cdbcec"><p class="cl-d7cda108"><span class="cl-d7ca668c">docname</span></p></th><th class="cl-d7cdbced"><p class="cl-d7cda112"><span class="cl-d7ca668c">from</span></p></th><th class="cl-d7cdbced"><p class="cl-d7cda112"><span class="cl-d7ca668c">to</span></p></th><th class="cl-d7cdbcf6"><p class="cl-d7cda108"><span class="cl-d7ca668c">pre</span></p></th><th class="cl-d7cdbcf6"><p class="cl-d7cda108"><span class="cl-d7ca668c">keyword</span></p></th><th class="cl-d7cdbcf6"><p class="cl-d7cda108"><span class="cl-d7ca668c">post</span></p></th><th class="cl-d7cdbcf7"><p class="cl-d7cda108"><span class="cl-d7ca668c">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd00"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">1,548</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">1,548</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">through , ” thought poor</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">, “ it would be</span></p></td><td class="cl-d7cdbd0a"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd0b"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd0c"><p class="cl-d7cda112"><span class="cl-d7ca6696">1,731</span></p></td><td class="cl-d7cdbd0c"><p class="cl-d7cda112"><span class="cl-d7ca6696">1,731</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">” but the wise little</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">was not going to do</span></p></td><td class="cl-d7cdbd15"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd00"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">2,137</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">2,137</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">but , alas for poor</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">! when she got to</span></p></td><td class="cl-d7cdbd0a"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd0b"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd0c"><p class="cl-d7cda112"><span class="cl-d7ca6696">2,339</span></p></td><td class="cl-d7cdbd0c"><p class="cl-d7cda112"><span class="cl-d7ca6696">2,339</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">now , ” thought poor</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">, “ to pretend to</span></p></td><td class="cl-d7cdbd15"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd00"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">3,608</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">3,608</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">words , ” said poor</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">, and her eyes filled</span></p></td><td class="cl-d7cdbd0a"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd0b"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd0c"><p class="cl-d7cda112"><span class="cl-d7ca6696">6,870</span></p></td><td class="cl-d7cdbd0c"><p class="cl-d7cda112"><span class="cl-d7ca6696">6,870</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">it ! ” pleaded poor</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">. “ But you’re so</span></p></td><td class="cl-d7cdbd15"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd00"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">7,284</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">7,284</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">! ” And here poor</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">began to cry again ,</span></p></td><td class="cl-d7cdbd0a"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd0b"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd0c"><p class="cl-d7cda112"><span class="cl-d7ca6696">8,233</span></p></td><td class="cl-d7cdbd0c"><p class="cl-d7cda112"><span class="cl-d7ca6696">8,233</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">home , ” thought poor</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd14"><p class="cl-d7cda108"><span class="cl-d7ca6696">, “ when one wasn’t</span></p></td><td class="cl-d7cdbd15"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd00"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">11,767</span></p></td><td class="cl-d7cdbd01"><p class="cl-d7cda112"><span class="cl-d7ca6696">11,767</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">it ! ” pleaded poor</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd02"><p class="cl-d7cda108"><span class="cl-d7ca6696">in a piteous tone .</span></p></td><td class="cl-d7cdbd0a"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d7cdbd16"><p class="cl-d7cda108"><span class="cl-d7ca6696">text1</span></p></td><td class="cl-d7cdbd1e"><p class="cl-d7cda112"><span class="cl-d7ca6696">19,097</span></p></td><td class="cl-d7cdbd1e"><p class="cl-d7cda112"><span class="cl-d7ca6696">19,097</span></p></td><td class="cl-d7cdbd1f"><p class="cl-d7cda108"><span class="cl-d7ca6696">This answer so confused poor</span></p></td><td class="cl-d7cdbd1f"><p class="cl-d7cda108"><span class="cl-d7ca6696">Alice</span></p></td><td class="cl-d7cdbd1f"><p class="cl-d7cda108"><span class="cl-d7ca6696">, that she let the</span></p></td><td class="cl-d7cdbd20"><p class="cl-d7cda108"><span class="cl-d7ca6696">alice</span></p></td></tr></tbody></table></div>
<p>Piping is a very useful helper function and it is very frequently
used in R - not only in the context of text processing but in all data
science related domains.</p>
</div>
<div id="arranging-concordances-and-adding-frequency-information"
class="section level2 unnumbered">
<h2 class="unnumbered">Arranging concordances and adding frequency
information</h2>
<p>When inspecting concordances, it is useful to re-order the
concordances so that they do not appear in the order that they appeared
in the text or texts but by the context. To reorder concordances, we can
use the <code>arrange</code> function from the <code>dplyr</code>
package which takes the column according to which we want to re-arrange
the data as it main argument.</p>
<p>In the example below, we extract all instances of <em>alice</em> and
then arrange the instances according to the content of the
<code>post</code> column in alphabetical.</p>
<pre class="r"><code>kwic_ordered &lt;- kwic(x = text, pattern = &quot;alice&quot;) %&gt;%
  as.data.frame() %&gt;%
  dplyr::arrange(post)</code></pre>
<div class="tabwid"><style>.cl-d82bf212{table-layout:auto;width:95%;}.cl-d822bc2e{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d822bc42{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d8266626{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d8266630{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d8267fe4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8267fe5{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8267fee{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8267fef{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8267ff8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8267ff9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8267ffa{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8268002{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8268003{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8268004{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d826800c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d826800d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d826800e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8268016{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8268017{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d8268020{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d82bf212'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 re-ordered concordances for instances of alice.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d8267fe4"><p class="cl-d8266626"><span class="cl-d822bc2e">docname</span></p></th><th class="cl-d8267fe5"><p class="cl-d8266630"><span class="cl-d822bc2e">from</span></p></th><th class="cl-d8267fe5"><p class="cl-d8266630"><span class="cl-d822bc2e">to</span></p></th><th class="cl-d8267fee"><p class="cl-d8266626"><span class="cl-d822bc2e">pre</span></p></th><th class="cl-d8267fee"><p class="cl-d8266626"><span class="cl-d822bc2e">keyword</span></p></th><th class="cl-d8267fee"><p class="cl-d8266626"><span class="cl-d822bc2e">post</span></p></th><th class="cl-d8267fef"><p class="cl-d8266626"><span class="cl-d822bc2e">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d8267ff8"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">7,747</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">7,747</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">happen : “ ‘ Miss</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">! Come here directly ,</span></p></td><td class="cl-d8268002"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d8268003"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8268004"><p class="cl-d8266630"><span class="cl-d822bc42">2,893</span></p></td><td class="cl-d8268004"><p class="cl-d8266630"><span class="cl-d822bc42">2,893</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">the garden door . Poor</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">! It was as much</span></p></td><td class="cl-d826800d"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d8267ff8"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">2,137</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">2,137</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">but , alas for poor</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">! when she got to</span></p></td><td class="cl-d8268002"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d8268003"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8268004"><p class="cl-d8266630"><span class="cl-d822bc42">30,785</span></p></td><td class="cl-d8268004"><p class="cl-d8266630"><span class="cl-d822bc42">30,785</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">voice , the name “</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">! ” CHAPTER XII .</span></p></td><td class="cl-d826800d"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d8267ff8"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">8,416</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">8,416</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">“ Oh , you foolish</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">! ” she answered herself</span></p></td><td class="cl-d8268002"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d8268003"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8268004"><p class="cl-d8266630"><span class="cl-d822bc42">2,612</span></p></td><td class="cl-d8268004"><p class="cl-d8266630"><span class="cl-d822bc42">2,612</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">and curiouser ! ” cried</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">( she was so much</span></p></td><td class="cl-d826800d"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d8267ff8"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">25,783</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">25,783</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">I haven’t , ” said</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">) — “ and perhaps</span></p></td><td class="cl-d8268002"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d8268003"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8268004"><p class="cl-d8266630"><span class="cl-d822bc42">32,165</span></p></td><td class="cl-d8268004"><p class="cl-d8266630"><span class="cl-d822bc42">32,165</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">explain it , ” said</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d826800c"><p class="cl-d8266626"><span class="cl-d822bc42">, ( she had grown</span></p></td><td class="cl-d826800d"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d8267ff8"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">32,725</span></p></td><td class="cl-d8267ff9"><p class="cl-d8266630"><span class="cl-d822bc42">32,725</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">for you ? ” said</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d8267ffa"><p class="cl-d8266626"><span class="cl-d822bc42">, ( she had grown</span></p></td><td class="cl-d8268002"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d826800e"><p class="cl-d8266626"><span class="cl-d822bc42">text1</span></p></td><td class="cl-d8268016"><p class="cl-d8266630"><span class="cl-d822bc42">1,684</span></p></td><td class="cl-d8268016"><p class="cl-d8266630"><span class="cl-d822bc42">1,684</span></p></td><td class="cl-d8268017"><p class="cl-d8266626"><span class="cl-d822bc42">here before , ” said</span></p></td><td class="cl-d8268017"><p class="cl-d8266626"><span class="cl-d822bc42">Alice</span></p></td><td class="cl-d8268017"><p class="cl-d8266626"><span class="cl-d822bc42">, ) and round the</span></p></td><td class="cl-d8268020"><p class="cl-d8266626"><span class="cl-d822bc42">alice</span></p></td></tr></tbody></table></div>
<p>Arranging concordances according to alphabetical properties may,
however, not be the most useful option. A more useful option may be to
arrange concordances according to the frequency of co-occurring terms or
collocates. In order to do this, we need to extract the co-occurring
words and calculate their frequency. We can do this by combining the
<code>mutate</code>, <code>group_by</code>, <code>n()</code> functions
from the <code>dplyr</code> package with the <code>str_remove_all</code>
function from the <code>stringr</code> package. Then, we arrange the
concordances by the frequency of the collocates in descending order
(that is why we put a <code>-</code> in the arrange function). In order
to do this, we need to</p>
<ol style="list-style-type: decimal">
<li><p>create a new variable or column which represents the word that
co-occurs with, or, as in the example below, immediately follows the
search term. In the example below, we use the <code>mutate</code>
function to create a new column called <code>post_word</code>. We then
use the <code>str_remove_all</code> function to remove everything except
for the word that immediately follows the search term (we simply remove
everything and including a white space).</p></li>
<li><p>group the data by the word that immediately follows the search
term.</p></li>
<li><p>create a new column called <code>post_word_freq</code> which
represents the frequencies of all the words that immediately follow the
search term.</p></li>
<li><p>arrange the concordances by the frequency of the collocates in
descending order.</p></li>
</ol>
<pre class="r"><code>kwic_ordered_coll &lt;- kwic(
  # define text
  x = text, 
  # define search pattern
  pattern = &quot;alice&quot;) %&gt;%
  # make it a data frame
  as.data.frame() %&gt;%
  # extract word following the keyword
  dplyr::mutate(post_word = str_remove_all(post, &quot; .*&quot;)) %&gt;%
  # group following words
  dplyr::group_by(post_word) %&gt;%
  # extract frequencies of the following words
  dplyr::mutate(post_word_freq = n()) %&gt;%
  # arrange/order by the frequency of the following word
  dplyr::arrange(-post_word_freq)</code></pre>
<div class="tabwid"><style>.cl-d8a2268a{table-layout:auto;width:95%;}.cl-d8991e6e{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d8991e78{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d89c7e38{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d89c7e4c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d89c9936{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9940{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9941{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c994a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9954{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9955{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9956{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9957{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c995e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c995f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9960{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9968{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9969{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c996a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9972{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d89c9973{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d8a2268a'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 re-ordered concordances for instances of natural.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d89c9936"><p class="cl-d89c7e38"><span class="cl-d8991e6e">docname</span></p></th><th class="cl-d89c9940"><p class="cl-d89c7e4c"><span class="cl-d8991e6e">from</span></p></th><th class="cl-d89c9940"><p class="cl-d89c7e4c"><span class="cl-d8991e6e">to</span></p></th><th class="cl-d89c9941"><p class="cl-d89c7e38"><span class="cl-d8991e6e">pre</span></p></th><th class="cl-d89c9941"><p class="cl-d89c7e38"><span class="cl-d8991e6e">keyword</span></p></th><th class="cl-d89c9941"><p class="cl-d89c7e38"><span class="cl-d8991e6e">post</span></p></th><th class="cl-d89c9941"><p class="cl-d89c7e38"><span class="cl-d8991e6e">pattern</span></p></th><th class="cl-d89c9941"><p class="cl-d89c7e38"><span class="cl-d8991e6e">post_word</span></p></th><th class="cl-d89c994a"><p class="cl-d89c7e4c"><span class="cl-d8991e6e">post_word_freq</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d89c9954"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">1,548</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">1,548</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">through , ” thought poor</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">, “ it would be</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9957"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c995e"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c995f"><p class="cl-d89c7e4c"><span class="cl-d8991e78">1,684</span></p></td><td class="cl-d89c995f"><p class="cl-d89c7e4c"><span class="cl-d8991e78">1,684</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">here before , ” said</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">, ) and round the</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9968"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c9954"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">2,339</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">2,339</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">now , ” thought poor</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">, “ to pretend to</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9957"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c995e"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c995f"><p class="cl-d89c7e4c"><span class="cl-d8991e78">2,416</span></p></td><td class="cl-d89c995f"><p class="cl-d89c7e4c"><span class="cl-d8991e78">2,416</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">eat it , ” said</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">, “ and if it</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9968"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c9954"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">2,744</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">2,744</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">to them , ” thought</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">, “ or perhaps they</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9957"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c995e"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c995f"><p class="cl-d89c7e4c"><span class="cl-d8991e78">2,950</span></p></td><td class="cl-d89c995f"><p class="cl-d89c7e4c"><span class="cl-d8991e78">2,950</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">of yourself , ” said</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">, “ a great girl</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9968"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c9954"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">3,608</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">3,608</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">words , ” said poor</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">, and her eyes filled</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9957"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c995e"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c995f"><p class="cl-d89c7e4c"><span class="cl-d8991e78">3,751</span></p></td><td class="cl-d89c995f"><p class="cl-d89c7e4c"><span class="cl-d8991e78">3,751</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">oh dear ! ” cried</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">, with a sudden burst</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9960"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9968"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c9954"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">3,918</span></p></td><td class="cl-d89c9955"><p class="cl-d89c7e4c"><span class="cl-d8991e78">3,918</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">narrow escape ! ” said</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">, a good deal frightened</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9956"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9957"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d89c9969"><p class="cl-d89c7e38"><span class="cl-d8991e78">text1</span></p></td><td class="cl-d89c996a"><p class="cl-d89c7e4c"><span class="cl-d8991e78">4,181</span></p></td><td class="cl-d89c996a"><p class="cl-d89c7e4c"><span class="cl-d8991e78">4,181</span></p></td><td class="cl-d89c9972"><p class="cl-d89c7e38"><span class="cl-d8991e78">so much ! ” said</span></p></td><td class="cl-d89c9972"><p class="cl-d89c7e38"><span class="cl-d8991e78">Alice</span></p></td><td class="cl-d89c9972"><p class="cl-d89c7e38"><span class="cl-d8991e78">, as she swam about</span></p></td><td class="cl-d89c9972"><p class="cl-d89c7e38"><span class="cl-d8991e78">alice</span></p></td><td class="cl-d89c9972"><p class="cl-d89c7e38"><span class="cl-d8991e78">,</span></p></td><td class="cl-d89c9973"><p class="cl-d89c7e4c"><span class="cl-d8991e78">78</span></p></td></tr></tbody></table></div>
<p>We add more columns according to which we could arrange the
concordance following the same schema. For example, we could add another
column that represented the frequency of words that immediately preceded
the search term and then arrange according to this column.</p>
</div>
<div id="ordering-by-subsequent-elements"
class="section level2 unnumbered">
<h2 class="unnumbered">Ordering by subsequent elements</h2>
<p>In this section, we will extract the three words following the
keyword (<em>alice</em>) and organize the concordances by the
frequencies of the following words. We begin by inspecting the first 6
lines of the concordance of <em>selection</em>.</p>
<pre class="r"><code>head(mykwic)</code></pre>
<pre><code>##   docname from  to                         pre keyword
## 1   text1   14  14    I . Down the Rabbit-Hole   Alice
## 2   text1   73  73          a book , ” thought   Alice
## 3   text1  153 153           in that ; nor did   Alice
## 4   text1  239 239       and then hurried on ,   Alice
## 5   text1  309 309 In another moment down went   Alice
## 6   text1  348 348     down , so suddenly that   Alice
##                                  post pattern
## 1           was beginning to get very   alice
## 2 “ without pictures or conversations   alice
## 3             think it so _very_ much   alice
## 4               started to her feet ,   alice
## 5               after it , never once   alice
## 6                 had not a moment to   alice</code></pre>
<p>Next, we take the concordances and create a clean post column that is
all in lower case and that does not contain any punctuation.</p>
<pre class="r"><code>mykwic %&gt;%
  # create new CleanPost
  dplyr::mutate(CleanPost = stringr::str_remove_all(post, &quot;[:punct:]&quot;),
                CleanPost = stringr::str_squish(CleanPost),
                CleanPost = tolower(CleanPost))-&gt; mykwic_following
# inspect
head(mykwic_following)</code></pre>
<pre><code>##   docname from  to                         pre keyword
## 1   text1   14  14    I . Down the Rabbit-Hole   Alice
## 2   text1   73  73          a book , ” thought   Alice
## 3   text1  153 153           in that ; nor did   Alice
## 4   text1  239 239       and then hurried on ,   Alice
## 5   text1  309 309 In another moment down went   Alice
## 6   text1  348 348     down , so suddenly that   Alice
##                                  post pattern                         CleanPost
## 1           was beginning to get very   alice         was beginning to get very
## 2 “ without pictures or conversations   alice without pictures or conversations
## 3             think it so _very_ much   alice             think it so very much
## 4               started to her feet ,   alice               started to her feet
## 5               after it , never once   alice               after it never once
## 6                 had not a moment to   alice               had not a moment to</code></pre>
<p>In a next step, we extract the 1<sup>st</sup>, 2<sup>nd</sup>, and
3<sup>rd</sup> words following the keyword.</p>
<pre class="r"><code>mykwic_following %&gt;%
  # extract first element after keyword
  dplyr::mutate(FirstWord = stringr::str_remove_all(CleanPost, &quot; .*&quot;)) %&gt;%
  # extract second element after keyword
  dplyr::mutate(SecWord = stringr::str_remove(CleanPost, &quot;.*? &quot;),
                SecWord = stringr::str_remove_all(SecWord, &quot; .*&quot;)) %&gt;%
  # extract third element after keyword
  dplyr::mutate(ThirdWord = stringr::str_remove(CleanPost, &quot;.*? &quot;),
                ThirdWord = stringr::str_remove(ThirdWord, &quot;.*? &quot;),
                ThirdWord = stringr::str_remove_all(ThirdWord, &quot; .*&quot;)) -&gt; mykwic_following
# inspect
head(mykwic_following)</code></pre>
<pre><code>##   docname from  to                         pre keyword
## 1   text1   14  14    I . Down the Rabbit-Hole   Alice
## 2   text1   73  73          a book , ” thought   Alice
## 3   text1  153 153           in that ; nor did   Alice
## 4   text1  239 239       and then hurried on ,   Alice
## 5   text1  309 309 In another moment down went   Alice
## 6   text1  348 348     down , so suddenly that   Alice
##                                  post pattern                         CleanPost
## 1           was beginning to get very   alice         was beginning to get very
## 2 “ without pictures or conversations   alice without pictures or conversations
## 3             think it so _very_ much   alice             think it so very much
## 4               started to her feet ,   alice               started to her feet
## 5               after it , never once   alice               after it never once
## 6                 had not a moment to   alice               had not a moment to
##   FirstWord   SecWord ThirdWord
## 1       was beginning        to
## 2   without  pictures        or
## 3     think        it        so
## 4   started        to       her
## 5     after        it     never
## 6       had       not         a</code></pre>
<p>Next, we calculate the frequencies of the subsequent words and order
in descending order from the 1<sup>st</sup> to the 3<sup>rd</sup> word
following the keyword.</p>
<pre class="r"><code>mykwic_following %&gt;%
  # calculate frequency of following words
  # 1st word
  dplyr::group_by(FirstWord) %&gt;%
  dplyr::mutate(FreqW1 = n()) %&gt;%
  # 2nd word
  dplyr::group_by(SecWord) %&gt;%
  dplyr::mutate(FreqW2 = n()) %&gt;%
  # 3rd word
  dplyr::group_by(ThirdWord) %&gt;%
  dplyr::mutate(FreqW3 = n()) %&gt;%
  # ungroup
  dplyr::ungroup() %&gt;%
  # arrange by following words
  dplyr::arrange(-FreqW1, -FreqW2, -FreqW3) -&gt; mykwic_following
# inspect results
head(mykwic_following, 10)</code></pre>
<pre><code>## # A tibble: 10 × 14
##    docname  from    to pre     keyword post  pattern CleanPost FirstWord SecWord
##    &lt;chr&gt;   &lt;int&gt; &lt;int&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt; &lt;fct&gt;   &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;  
##  1 text1   15675 15675 so far… Alice   , an… alice   and she … and       she    
##  2 text1   20735 20735 be beh… Alice   , an… alice   and she … and       she    
##  3 text1   25584 25584 quite … Alice   , an… alice   and she … and       she    
##  4 text1   32861 32861 curiou… Alice   , an… alice   and she … and       she    
##  5 text1   32982 32982 , and … Alice   and … alice   and all … and       all    
##  6 text1   16329 16329 said p… Alice   ; “ … alice   and i wi… and       i      
##  7 text1    3608  3608 words … Alice   , an… alice   and her … and       her    
##  8 text1    1684  1684 here b… Alice   , ) … alice   and roun… and       round  
##  9 text1   25692 25692 eyes .… Alice   , an… alice   and trie… and       tried  
## 10 text1    6519  6519 you kn… Alice   , “ … alice   and why … and       why    
## # ℹ 4 more variables: ThirdWord &lt;chr&gt;, FreqW1 &lt;int&gt;, FreqW2 &lt;int&gt;, FreqW3 &lt;int&gt;</code></pre>
<p>The results now show the concordance arranged by the frequency of the
words following the keyword.</p>
</div>
<div id="concordances-from-transcriptions"
class="section level2 unnumbered">
<h2 class="unnumbered">Concordances from transcriptions</h2>
<p>As many analyses use transcripts as their primary data and because
transcripts have features that require additional processing, we will
now perform concordancing based on on transcripts. As a first step, we
load five example transcripts that represent the first five files from
the Irish component of the <a
href="https://www.ice-corpora.uzh.ch/en.html">International Corpus of
English</a>.</p>
<pre class="r"><code># define corpus files
files &lt;- paste(&quot;https://slcladal.github.io/data/ICEIrelandSample/S1A-00&quot;, 1:5, &quot;.txt&quot;, sep = &quot;&quot;)
# load corpus files
transcripts &lt;- sapply(files, function(x){
  x &lt;- readLines(x)
  })</code></pre>
<div class="tabwid"><style>.cl-d9e6a282{table-layout:auto;width:95%;}.cl-d9dc2ece{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d9dc2ee2{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-d9e0349c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-d9e05c2e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d9e05c38{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d9e05c39{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-d9e05c42{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-d9e6a282'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 utterances in the sample transcripts.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-d9e05c2e"><p class="cl-d9e0349c"><span class="cl-d9dc2ece">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c38"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;S1A-001 Riding&gt;</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c39"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c38"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;I&gt;</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c39"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;S1A-001$A&gt; &lt;#&gt; Well how did the riding go tonight</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c38"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;S1A-001$B&gt; &lt;#&gt; It was good so it was &lt;#&gt; Just I I couldn't believe that she was going to let me jump &lt;,&gt; that was only the fourth time you know &lt;#&gt; It was great &lt;&amp;&gt; laughter &lt;/&amp;&gt;</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c39"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;S1A-001$A&gt; &lt;#&gt; What did you call your horse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c38"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;S1A-001$B&gt; &lt;#&gt; I can't remember &lt;#&gt; Oh Mary 's Town &lt;,&gt; oh</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c39"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;S1A-001$A&gt; &lt;#&gt; And how did Mabel do</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c38"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;S1A-001$B&gt; &lt;#&gt; Did you not see her whenever she was going over the jumps &lt;#&gt; There was one time her horse refused and it refused three times &lt;#&gt; And then &lt;,&gt; she got it round and she just lined it up straight and she just kicked it and she hit it with the whip &lt;,&gt; and over it went the last time you know &lt;#&gt; And Stephanie told her she was very determined and very well-ridden &lt;&amp;&gt; laughter &lt;/&amp;&gt; because it had refused the other times you know &lt;#&gt; But Stephanie wouldn't let her give up on it &lt;#&gt; She made her keep coming back and keep coming back &lt;,&gt; until &lt;,&gt; it jumped it you know &lt;#&gt; It was good</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-d9e05c42"><p class="cl-d9e0349c"><span class="cl-d9dc2ee2">&lt;S1A-001$A&gt; &lt;#&gt; Yeah I 'm not so sure her jumping 's improving that much &lt;#&gt; She uh &lt;,&gt; seemed to be holding the reins very tight</span></p></td></tr></tbody></table></div>
<p>The first ten lines shown above let us know that, after the header
(<code>&lt;S1A-001 Riding&gt;</code>) and the symbol which indicates the
start of the transcript (<code>&lt;I&gt;</code>), each utterance is
preceded by a sequence which indicates the section, file, and speaker
(e.g. <code>&lt;S1A-001$A&gt;</code>). The first utterance is thus
uttered by speaker <code>A</code> in file <code>001</code> of section
<code>S1A</code>. In addition, there are several sequences that provide
meta-linguistic information which indicate the beginning of a speech
unit (<code>&lt;#&gt;</code>), pauses (<code>&lt;,&gt;</code>), and
laughter (<code>&lt;&amp;&gt; laughter &lt;/&amp;&gt;</code>).</p>
<p>To perform the concordancing, we need to change the format of the
transcripts because the <code>kwic</code> function only works on
character, corpus, tokens object- in their present form, the transcripts
represent a list which contains vectors of strings. To change the
format, we collapse the individual utterances into a single character
vector for each transcript.</p>
<pre class="r"><code>transcripts_collapsed &lt;- sapply(files, function(x){
  # read-in text
  x &lt;- readLines(x)
  # paste all lines together
  x &lt;- paste0(x, collapse = &quot; &quot;)
  # remove superfluous white spaces
  x &lt;- str_squish(x)
})</code></pre>
<div class="tabwid"><style>.cl-da26fb66{table-layout:auto;width:95%;}.cl-da1f3aa2{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da1f3aac{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da222f5a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-da22453a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da224544{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da22454e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da22454f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-da26fb66'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 500 characters of the collapsed sample transcripts.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-da22453a"><p class="cl-da222f5a"><span class="cl-da1f3aa2">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-da224544"><p class="cl-da222f5a"><span class="cl-da1f3aac">&lt;S1A-001 Riding&gt; &lt;I&gt; &lt;S1A-001$A&gt; &lt;#&gt; Well how did the riding go tonight &lt;S1A-001$B&gt; &lt;#&gt; It was good so it was &lt;#&gt; Just I I couldn't believe that she was going to let me jump &lt;,&gt; that was only the fourth time you know &lt;#&gt; It was great &lt;&amp;&gt; laughter &lt;/&amp;&gt; &lt;S1A-001$A&gt; &lt;#&gt; What did you call your horse &lt;S1A-001$B&gt; &lt;#&gt; I can't remember &lt;#&gt; Oh Mary 's Town &lt;,&gt; oh &lt;S1A-001$A&gt; &lt;#&gt; And how did Mabel do &lt;S1A-001$B&gt; &lt;#&gt; Did you not see her whenever she was going over the jumps &lt;#&gt; There was one time her horse</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da22454e"><p class="cl-da222f5a"><span class="cl-da1f3aac">&lt;S1A-002 Dinner chat 1&gt; &lt;I&gt; &lt;S1A-002$A&gt; &lt;#&gt; He 's been married for three years and is now &lt;{&gt; &lt;[&gt; getting divorced &lt;/[&gt; &lt;S1A-002$B&gt; &lt;#&gt; &lt;[&gt; No no &lt;/[&gt; &lt;/{&gt; he 's got married last year and he 's getting &lt;{&gt; &lt;[&gt; divorced &lt;/[&gt; &lt;S1A-002$A&gt; &lt;#&gt; &lt;[&gt; He 's now &lt;/[&gt; &lt;/{&gt; getting divorced &lt;S1A-002$C&gt; &lt;#&gt; Just right &lt;S1A-002$D&gt; &lt;#&gt; A wee girl of her age like &lt;S1A-002$E&gt; &lt;#&gt; Well there was a guy &lt;S1A-002$C&gt; &lt;#&gt; How long did she try it for &lt;#&gt; An hour a a year &lt;S1A-002$B&gt; &lt;#&gt; Mhm &lt;{&gt; &lt;[&gt; mhm &lt;/[&gt; &lt;S1A-002$E</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da224544"><p class="cl-da222f5a"><span class="cl-da1f3aac">&lt;S1A-003 Dinner chat 2&gt; &lt;I&gt; &lt;S1A-003$A&gt; &lt;#&gt; I &lt;.&gt; wa &lt;/.&gt; I want to go to Peru but uh &lt;S1A-003$B&gt; &lt;#&gt; Do you &lt;S1A-003$A&gt; &lt;#&gt; Oh aye &lt;S1A-003$B&gt; &lt;#&gt; I 'd love to go to Peru &lt;S1A-003$A&gt; &lt;#&gt; I want I want to go up the Machu Picchu before it falls off the edge of the mountain &lt;S1A-003$B&gt; &lt;#&gt; Lima 's supposed to be a bit dodgy &lt;S1A-003$A&gt; &lt;#&gt; Mm &lt;S1A-003$B&gt; &lt;#&gt; Bet it would be &lt;S1A-003$B&gt; &lt;#&gt; Mm &lt;S1A-003$A&gt; &lt;#&gt; But I I just I I would like &lt;,&gt; Machu Picchu is collapsing &lt;S1A-003$B&gt; &lt;#&gt; I don't know wh</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da22454e"><p class="cl-da222f5a"><span class="cl-da1f3aac">&lt;S1A-004 Nursing home 1&gt; &lt;I&gt; &lt;S1A-004$A&gt; &lt;#&gt; Honest to God &lt;,&gt; I think the young ones &lt;#&gt; Sure they 're flying on Monday in I think it 's Shannon &lt;#&gt; This is from Texas &lt;S1A-004$B&gt; &lt;#&gt; This English girl &lt;S1A-004$A&gt; &lt;#&gt; The youngest one &lt;,&gt; the dentist &lt;,&gt; she 's married to the dentist &lt;#&gt; Herself and her husband &lt;,&gt; three children and she 's six months pregnant &lt;S1A-004$C&gt; &lt;#&gt; Oh God &lt;S1A-004$B&gt; &lt;#&gt; And where are they going &lt;S1A-004$A&gt; &lt;#&gt; Coming to Dublin to the mother &lt;{&gt; &lt;[&gt; or &lt;unclear&gt; 3 sy</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da22454f"><p class="cl-da222f5a"><span class="cl-da1f3aac">&lt;S1A-005 Masons&gt; &lt;I&gt; &lt;S1A-005$A&gt; &lt;#&gt; Right shall we risk another beer or shall we try and &lt;,&gt; &lt;{&gt; &lt;[&gt; ride the bikes down there or do something like that &lt;/[&gt; &lt;S1A-005$B&gt; &lt;#&gt; &lt;[&gt; Well &lt;,&gt; what about the &lt;/[&gt; &lt;/{&gt; provisions &lt;#&gt; What time &lt;{&gt; &lt;[&gt; &lt;unclear&gt; 4 sylls &lt;/unclear&gt; &lt;/[&gt; &lt;S1A-005$C&gt; &lt;#&gt; &lt;[&gt; Is is your &lt;/[&gt; &lt;/{&gt; man coming here &lt;S1A-005$B&gt; &lt;#&gt; &lt;{&gt; &lt;[&gt; Yeah &lt;/[&gt; &lt;S1A-005$A&gt; &lt;#&gt; &lt;[&gt; He said &lt;/[&gt; &lt;/{&gt; he would meet us here &lt;S1A-005$B&gt; &lt;#&gt; Just the boat 's arriving you know a few minutes ' wa</span></p></td></tr></tbody></table></div>
<p>We can now extract the concordances.</p>
<pre class="r"><code>kwic_trans &lt;- quanteda::kwic(
  # tokenize transcripts
  quanteda::tokens(transcripts_collapsed), 
  # define search pattern
  pattern = phrase(&quot;you know&quot;)) %&gt;%
  # make it a data frame
  as.data.frame()</code></pre>
<div class="tabwid"><style>.cl-da4a1204{table-layout:auto;width:95%;}.cl-da41a826{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da41a830{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da44cd3a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-da44cd44{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-da44e522{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e52c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e52d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e536{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e537{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e540{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e541{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e542{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e54a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e54b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e554{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e555{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e556{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e55e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e55f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da44e568{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-da4a1204'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for you know in three example transcripts.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-da44e522"><p class="cl-da44cd3a"><span class="cl-da41a826">docname</span></p></th><th class="cl-da44e52c"><p class="cl-da44cd44"><span class="cl-da41a826">from</span></p></th><th class="cl-da44e52c"><p class="cl-da44cd44"><span class="cl-da41a826">to</span></p></th><th class="cl-da44e52d"><p class="cl-da44cd3a"><span class="cl-da41a826">pre</span></p></th><th class="cl-da44e52d"><p class="cl-da44cd3a"><span class="cl-da41a826">keyword</span></p></th><th class="cl-da44e52d"><p class="cl-da44cd3a"><span class="cl-da41a826">post</span></p></th><th class="cl-da44e536"><p class="cl-da44cd3a"><span class="cl-da41a826">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-da44e537"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">62</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">63</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">was only the fourth time</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">&lt; # &gt; It was</span></p></td><td class="cl-da44e542"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e54a"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e54b"><p class="cl-da44cd44"><span class="cl-da41a830">204</span></p></td><td class="cl-da44e54b"><p class="cl-da44cd44"><span class="cl-da41a830">205</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">it went the last time</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">&lt; # &gt; And Stephanie</span></p></td><td class="cl-da44e555"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e537"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">235</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">236</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">had refused the other times</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">&lt; # &gt; But Stephanie</span></p></td><td class="cl-da44e542"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e54a"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e54b"><p class="cl-da44cd44"><span class="cl-da41a830">272</span></p></td><td class="cl-da44e54b"><p class="cl-da44cd44"><span class="cl-da41a830">273</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">, &gt; it jumped it</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">&lt; # &gt; It was</span></p></td><td class="cl-da44e555"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e537"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">602</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">603</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">that one &lt; , &gt;</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">and starting anew fresh &lt;</span></p></td><td class="cl-da44e542"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e54a"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e54b"><p class="cl-da44cd44"><span class="cl-da41a830">665</span></p></td><td class="cl-da44e54b"><p class="cl-da44cd44"><span class="cl-da41a830">666</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">{ &gt; &lt; [ &gt;</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">&lt; / [ &gt; &lt;</span></p></td><td class="cl-da44e555"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e537"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">736</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">737</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">&gt; We didn't discuss it</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">&lt; S1A-001 $ A &gt;</span></p></td><td class="cl-da44e542"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e54a"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e54b"><p class="cl-da44cd44"><span class="cl-da41a830">922</span></p></td><td class="cl-da44e54b"><p class="cl-da44cd44"><span class="cl-da41a830">923</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">on Tuesday &lt; , &gt;</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e554"><p class="cl-da44cd3a"><span class="cl-da41a830">&lt; # &gt; But I</span></p></td><td class="cl-da44e555"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e537"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">1,126</span></p></td><td class="cl-da44e540"><p class="cl-da44cd44"><span class="cl-da41a830">1,127</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">that she could take her</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e541"><p class="cl-da44cd3a"><span class="cl-da41a830">the wee shoulder bag she</span></p></td><td class="cl-da44e542"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da44e556"><p class="cl-da44cd3a"><span class="cl-da41a830">https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt</span></p></td><td class="cl-da44e55e"><p class="cl-da44cd44"><span class="cl-da41a830">1,257</span></p></td><td class="cl-da44e55e"><p class="cl-da44cd44"><span class="cl-da41a830">1,258</span></p></td><td class="cl-da44e55f"><p class="cl-da44cd3a"><span class="cl-da41a830">around &lt; , &gt; uhm</span></p></td><td class="cl-da44e55f"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td><td class="cl-da44e55f"><p class="cl-da44cd3a"><span class="cl-da41a830">their timetable and &lt; ,</span></p></td><td class="cl-da44e568"><p class="cl-da44cd3a"><span class="cl-da41a830">you know</span></p></td></tr></tbody></table></div>
<p>The results show that each non-alphanumeric character is counted as a
single word which reduces the context of the keyword substantially.
Also, the <em>docname</em> column contains the full path to the data
which make it hard to parse the content of the table. To address the
first issue, we specify the tokenizer that we will use to not disrupt
the annotation too much. In addition, we clean the <em>docname</em>
column and extract only the file name. Lastly, we will expand the
context window to 10 so that we have a better understanding of the
context in which the phrase was used.</p>
<pre class="r"><code>kwic_trans &lt;- quanteda::kwic(
  # tokenize transcripts
  quanteda::tokens(transcripts_collapsed, what = &quot;fasterword&quot;), 
  # define search
  pattern = phrase(&quot;you know&quot;),
  # extend context
  window = 10) %&gt;%
  # make it a data frame
  as.data.frame() %&gt;%
  # clean docnames
  dplyr::mutate(docname = str_replace_all(docname, &quot;.*/([A-Z][0-9][A-Z]-[0-9]{1,3}).txt&quot;, &quot;\\1&quot;))</code></pre>
<div class="tabwid"><style>.cl-da684756{table-layout:auto;width:95%;}.cl-da5ff95c{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da5ff970{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da631790{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-da63179a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-da632f14{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f15{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f1e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f1f{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f28{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f29{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f2a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f32{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f33{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f3c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f3d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f3e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f46{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f47{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f50{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da632f51{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-da684756'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for you know in three example transcripts.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-da632f14"><p class="cl-da631790"><span class="cl-da5ff95c">docname</span></p></th><th class="cl-da632f15"><p class="cl-da63179a"><span class="cl-da5ff95c">from</span></p></th><th class="cl-da632f15"><p class="cl-da63179a"><span class="cl-da5ff95c">to</span></p></th><th class="cl-da632f1e"><p class="cl-da631790"><span class="cl-da5ff95c">pre</span></p></th><th class="cl-da632f1e"><p class="cl-da631790"><span class="cl-da5ff95c">keyword</span></p></th><th class="cl-da632f1e"><p class="cl-da631790"><span class="cl-da5ff95c">post</span></p></th><th class="cl-da632f1f"><p class="cl-da631790"><span class="cl-da5ff95c">pattern</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-da632f28"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">42</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">43</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">let me jump &lt;,&gt; that was only the fourth time</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">&lt;#&gt; It was great &lt;&amp;&gt; laughter &lt;/&amp;&gt; &lt;S1A-001$A&gt; &lt;#&gt; What</span></p></td><td class="cl-da632f32"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f33"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f3c"><p class="cl-da63179a"><span class="cl-da5ff970">140</span></p></td><td class="cl-da632f3c"><p class="cl-da63179a"><span class="cl-da5ff970">141</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">the whip &lt;,&gt; and over it went the last time</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">&lt;#&gt; And Stephanie told her she was very determined and</span></p></td><td class="cl-da632f3e"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f28"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">164</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">165</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">&lt;&amp;&gt; laughter &lt;/&amp;&gt; because it had refused the other times</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">&lt;#&gt; But Stephanie wouldn't let her give up on it</span></p></td><td class="cl-da632f32"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f33"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f3c"><p class="cl-da63179a"><span class="cl-da5ff970">193</span></p></td><td class="cl-da632f3c"><p class="cl-da63179a"><span class="cl-da5ff970">194</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">and keep coming back &lt;,&gt; until &lt;,&gt; it jumped it</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">&lt;#&gt; It was good &lt;S1A-001$A&gt; &lt;#&gt; Yeah I 'm not</span></p></td><td class="cl-da632f3e"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f28"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">402</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">403</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">'d be far better waiting &lt;,&gt; for that one &lt;,&gt;</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">and starting anew fresh &lt;S1A-001$A&gt; &lt;#&gt; Yeah but I mean</span></p></td><td class="cl-da632f32"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f33"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f3c"><p class="cl-da63179a"><span class="cl-da5ff970">443</span></p></td><td class="cl-da632f3c"><p class="cl-da63179a"><span class="cl-da5ff970">444</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">the best goes top of the league &lt;,&gt; &lt;{&gt; &lt;[&gt;</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">&lt;/[&gt; &lt;S1A-001$A&gt; &lt;#&gt; &lt;[&gt; So &lt;/[&gt; &lt;/{&gt; it 's like</span></p></td><td class="cl-da632f3e"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f28"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">484</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">485</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">I 'm not sure now &lt;#&gt; We didn't discuss it</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">&lt;S1A-001$A&gt; &lt;#&gt; Well it sounds like more money &lt;S1A-001$B&gt; &lt;#&gt;</span></p></td><td class="cl-da632f32"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f33"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f3c"><p class="cl-da63179a"><span class="cl-da5ff970">598</span></p></td><td class="cl-da632f3c"><p class="cl-da63179a"><span class="cl-da5ff970">599</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">on Monday and do without her lesson on Tuesday &lt;,&gt;</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f3d"><p class="cl-da631790"><span class="cl-da5ff970">&lt;#&gt; But I was keeping her going cos I says</span></p></td><td class="cl-da632f3e"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f28"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">727</span></p></td><td class="cl-da632f29"><p class="cl-da63179a"><span class="cl-da5ff970">728</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">to take it tomorrow &lt;,&gt; that she could take her</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f2a"><p class="cl-da631790"><span class="cl-da5ff970">the wee shoulder bag she has &lt;S1A-001$A&gt; &lt;#&gt; Mhm &lt;S1A-001$B&gt;</span></p></td><td class="cl-da632f32"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da632f46"><p class="cl-da631790"><span class="cl-da5ff970">S1A-001</span></p></td><td class="cl-da632f47"><p class="cl-da63179a"><span class="cl-da5ff970">808</span></p></td><td class="cl-da632f47"><p class="cl-da63179a"><span class="cl-da5ff970">809</span></p></td><td class="cl-da632f50"><p class="cl-da631790"><span class="cl-da5ff970">&lt;,&gt; and &lt;,&gt; sort of show them around &lt;,&gt; uhm</span></p></td><td class="cl-da632f50"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td><td class="cl-da632f50"><p class="cl-da631790"><span class="cl-da5ff970">their timetable and &lt;,&gt; give them their timetable and show</span></p></td><td class="cl-da632f51"><p class="cl-da631790"><span class="cl-da5ff970">you know</span></p></td></tr></tbody></table></div>
<p>Extending the context can also be used to identify the speaker that
has uttered the search pattern that we are interested in. We will do
just that as this is a common task in linguistics analyses.</p>
<p>To extract speakers, we need to follow these steps:</p>
<ol style="list-style-type: decimal">
<li><p>Create normal concordances of the pattern that we are interested
in.</p></li>
<li><p>Generate concordances of the pattern that we are interested in
with a substantially enlarged context window size.</p></li>
<li><p>Extract the speakers from the enlarged context window
size.</p></li>
<li><p>Add the speakers to the normal concordances using the
<code>left-join</code> function from the <code>dplyr</code>
package.</p></li>
</ol>
<pre class="r"><code>kwic_normal &lt;- quanteda::kwic(
  # tokenize transcripts
  quanteda::tokens(transcripts_collapsed, what = &quot;fasterword&quot;), 
  # define search
  pattern = phrase(&quot;you know&quot;)) %&gt;%
  as.data.frame()
kwic_speaker &lt;- quanteda::kwic(
    # tokenize transcripts
  quanteda::tokens(transcripts_collapsed, what = &quot;fasterword&quot;), 
  # define search
  pattern = phrase(&quot;you know&quot;), 
  # extend search window
  window = 500) %&gt;%
  # convert to data frame
  as.data.frame() %&gt;%
  # extract speaker (comes after $ and before &gt;)
  dplyr::mutate(speaker = stringr::str_replace_all(pre, &quot;.*\\$(.*?)&gt;.*&quot;, &quot;\\1&quot;)) %&gt;%
  # extract speaker
  dplyr::pull(speaker)
# add speaker to normal kwic
kwic_combined &lt;- kwic_normal %&gt;%
  # add speaker
  dplyr::mutate(speaker = kwic_speaker) %&gt;%
  # simplify docname
  dplyr::mutate(docname = stringr::str_replace_all(docname, &quot;.*/([A-Z][0-9][A-Z]-[0-9]{1,3}).txt&quot;, &quot;\\1&quot;)) %&gt;%
  # remove superfluous columns
  dplyr::select(-to, -from, -pattern)</code></pre>
<div class="tabwid"><style>.cl-da8a9702{table-layout:auto;width:95%;}.cl-da8259d4{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da8259de{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da857bc8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-da85940a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da859414{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da859415{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da85941e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da85941f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da859420{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da859428{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da859429{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da859432{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da859433{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da859434{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-da85943c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-da8a9702'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances for you know in three example transcripts with speakers that uttered them..</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-da85940a"><p class="cl-da857bc8"><span class="cl-da8259d4">docname</span></p></th><th class="cl-da859414"><p class="cl-da857bc8"><span class="cl-da8259d4">pre</span></p></th><th class="cl-da859414"><p class="cl-da857bc8"><span class="cl-da8259d4">keyword</span></p></th><th class="cl-da859414"><p class="cl-da857bc8"><span class="cl-da8259d4">post</span></p></th><th class="cl-da859415"><p class="cl-da857bc8"><span class="cl-da8259d4">speaker</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-da85941e"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">was only the fourth time</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;#&gt; It was great &lt;&amp;&gt;</span></p></td><td class="cl-da859420"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da859428"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">it went the last time</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;#&gt; And Stephanie told her</span></p></td><td class="cl-da859432"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da85941e"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">had refused the other times</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;#&gt; But Stephanie wouldn't let</span></p></td><td class="cl-da859420"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da859428"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">until &lt;,&gt; it jumped it</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;#&gt; It was good &lt;S1A-001$A&gt;</span></p></td><td class="cl-da859432"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da85941e"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;,&gt; for that one &lt;,&gt;</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">and starting anew fresh &lt;S1A-001$A&gt;</span></p></td><td class="cl-da859420"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da859428"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">the league &lt;,&gt; &lt;{&gt; &lt;[&gt;</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;/[&gt; &lt;S1A-001$A&gt; &lt;#&gt; &lt;[&gt; So</span></p></td><td class="cl-da859432"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da85941e"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;#&gt; We didn't discuss it</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;S1A-001$A&gt; &lt;#&gt; Well it sounds</span></p></td><td class="cl-da859420"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da859428"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">her lesson on Tuesday &lt;,&gt;</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da859429"><p class="cl-da857bc8"><span class="cl-da8259de">&lt;#&gt; But I was keeping</span></p></td><td class="cl-da859432"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da85941e"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">that she could take her</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da85941f"><p class="cl-da857bc8"><span class="cl-da8259de">the wee shoulder bag she</span></p></td><td class="cl-da859420"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-da859433"><p class="cl-da857bc8"><span class="cl-da8259de">S1A-001</span></p></td><td class="cl-da859434"><p class="cl-da857bc8"><span class="cl-da8259de">show them around &lt;,&gt; uhm</span></p></td><td class="cl-da859434"><p class="cl-da857bc8"><span class="cl-da8259de">you know</span></p></td><td class="cl-da859434"><p class="cl-da857bc8"><span class="cl-da8259de">their timetable and &lt;,&gt; give</span></p></td><td class="cl-da85943c"><p class="cl-da857bc8"><span class="cl-da8259de">B</span></p></td></tr></tbody></table></div>
<p>The resulting table shows that we have successfully extracted the
speakers (identified by the letters in the <code>speaker</code> column)
and cleaned the file names (in the <code>docnames</code> column).</p>
</div>
<div id="customizing-concordances" class="section level2 unnumbered">
<h2 class="unnumbered">Customizing concordances</h2>
<p>As R represents a fully-fledged programming environment, we can, of
course, also write our own, customized concordance function. The code
below shows how you could go about doing so. Note, however, that this
function only works if you enter more than a single file.</p>
<pre class="r"><code>mykwic &lt;- function(txts, pattern, context) {
  # activate packages
  require(stringr)
  # list files
  txts &lt;- txts[stringr::str_detect(txts, pattern)]
  conc &lt;- sapply(txts, function(x) {
    # determine length of text
        lngth &lt;- as.vector(unlist(nchar(x)))
    # determine position of hits
    idx &lt;- str_locate_all(x, pattern)
    idx &lt;- idx[[1]]
    ifelse(nrow(idx) &gt;= 1, idx &lt;- idx, return(NA))
    # define start position of hit
    token.start &lt;- idx[,1]
    # define end position of hit
    token.end &lt;- idx[,2]
    # define start position of preceding context
    pre.start &lt;- ifelse(token.start-context &lt; 1, 1, token.start-context)
    # define end position of preceding context
    pre.end &lt;- token.start-1
    # define start position of subsequent context
    post.start &lt;- token.end+1
    # define end position of subsequent context
    post.end &lt;- ifelse(token.end+context &gt; lngth, lngth, token.end+context)
    # extract the texts defined by the positions
    PreceedingContext &lt;- substring(x, pre.start, pre.end)
    Token &lt;- substring(x, token.start, token.end)
    SubsequentContext &lt;- substring(x, post.start, post.end)
    Id &lt;- 1:length(Token)
    conc &lt;- cbind(Id, PreceedingContext, Token, SubsequentContext)
    # return concordance
    return(conc)
    })
  concdf &lt;- do.call(rbind, conc) %&gt;%
    as.data.frame()
  return(concdf)
}</code></pre>
<p>We can now try if this function works by searching for the sequence
<em>you know</em> in the transcripts that we have loaded earlier. One
difference between the <code>kwic</code> function provided by the
<code>quanteda</code> package and the customized concordance function
used here is that the <code>kwic</code> function uses the number of
words to define the context window, while the <code>mykwic</code>
function uses the number of characters or symbols instead (which is why
we use a notably higher number to define the context window).</p>
<pre class="r"><code>kwic_youknow &lt;- mykwic(transcripts_collapsed, &quot;you know&quot;, 50)</code></pre>
<div class="tabwid"><style>.cl-daa8f4b8{table-layout:auto;width:95%;}.cl-da9dde8e{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-da9dde98{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-daa12954{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-daa14948{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa14952{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa1495c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa1495d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa1495e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa14966{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa14967{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa14970{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa14971{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa14972{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa1497a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-daa1497b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-daa8f4b8'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 6 concordances for *you know* extracted using the mykwic function.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-daa14948"><p class="cl-daa12954"><span class="cl-da9dde8e">Id</span></p></th><th class="cl-daa14952"><p class="cl-daa12954"><span class="cl-da9dde8e">PreceedingContext</span></p></th><th class="cl-daa14952"><p class="cl-daa12954"><span class="cl-da9dde8e">Token</span></p></th><th class="cl-daa1495c"><p class="cl-daa12954"><span class="cl-da9dde8e">SubsequentContext</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-daa1495d"><p class="cl-daa12954"><span class="cl-da9dde98">1</span></p></td><td class="cl-daa1495e"><p class="cl-daa12954"><span class="cl-da9dde98"> to let me jump &lt;,&gt; that was only the fourth time </span></p></td><td class="cl-daa1495e"><p class="cl-daa12954"><span class="cl-da9dde98">you know</span></p></td><td class="cl-daa14966"><p class="cl-daa12954"><span class="cl-da9dde98"> &lt;#&gt; It was great &lt;&amp;&gt; laughter &lt;/&amp;&gt; &lt;S1A-001$A&gt; &lt;#</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-daa14967"><p class="cl-daa12954"><span class="cl-da9dde98">2</span></p></td><td class="cl-daa14970"><p class="cl-daa12954"><span class="cl-da9dde98"> with the whip &lt;,&gt; and over it went the last time </span></p></td><td class="cl-daa14970"><p class="cl-daa12954"><span class="cl-da9dde98">you know</span></p></td><td class="cl-daa14971"><p class="cl-daa12954"><span class="cl-da9dde98"> &lt;#&gt; And Stephanie told her she was very determine</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-daa1495d"><p class="cl-daa12954"><span class="cl-da9dde98">3</span></p></td><td class="cl-daa1495e"><p class="cl-daa12954"><span class="cl-da9dde98">ghter &lt;/&amp;&gt; because it had refused the other times </span></p></td><td class="cl-daa1495e"><p class="cl-daa12954"><span class="cl-da9dde98">you know</span></p></td><td class="cl-daa14966"><p class="cl-daa12954"><span class="cl-da9dde98"> &lt;#&gt; But Stephanie wouldn't let her give up on it </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-daa14967"><p class="cl-daa12954"><span class="cl-da9dde98">4</span></p></td><td class="cl-daa14970"><p class="cl-daa12954"><span class="cl-da9dde98">k and keep coming back &lt;,&gt; until &lt;,&gt; it jumped it </span></p></td><td class="cl-daa14970"><p class="cl-daa12954"><span class="cl-da9dde98">you know</span></p></td><td class="cl-daa14971"><p class="cl-daa12954"><span class="cl-da9dde98"> &lt;#&gt; It was good &lt;S1A-001$A&gt; &lt;#&gt; Yeah I 'm not so </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-daa1495d"><p class="cl-daa12954"><span class="cl-da9dde98">5</span></p></td><td class="cl-daa1495e"><p class="cl-daa12954"><span class="cl-da9dde98">she 'd be far better waiting &lt;,&gt; for that one &lt;,&gt; </span></p></td><td class="cl-daa1495e"><p class="cl-daa12954"><span class="cl-da9dde98">you know</span></p></td><td class="cl-daa14966"><p class="cl-daa12954"><span class="cl-da9dde98"> and starting anew fresh &lt;S1A-001$A&gt; &lt;#&gt; Yeah but </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-daa14972"><p class="cl-daa12954"><span class="cl-da9dde98">6</span></p></td><td class="cl-daa1497a"><p class="cl-daa12954"><span class="cl-da9dde98">er 's the best goes top of the league &lt;,&gt; &lt;{&gt; &lt;[&gt; </span></p></td><td class="cl-daa1497a"><p class="cl-daa12954"><span class="cl-da9dde98">you know</span></p></td><td class="cl-daa1497b"><p class="cl-daa12954"><span class="cl-da9dde98"> &lt;/[&gt; &lt;S1A-001$A&gt; &lt;#&gt; &lt;[&gt; So &lt;/[&gt; &lt;/{&gt; it 's like </span></p></td></tr></tbody></table></div>
<p>As this concordance function only works for more than one text, we
split the text into chapters and assign each section a name.</p>
<pre class="r"><code># read in text
text_split &lt;- text %&gt;%
  stringr::str_squish() %&gt;%
  stringr::str_split(&quot;[CHAPTER]{7,7} [XVI]{1,7}\\. &quot;) %&gt;%
  unlist()
text_split &lt;- text_split[which(nchar(text_split) &gt; 2000)]
# add names
names(text_split) &lt;- paste0(&quot;text&quot;, 1:length(text_split))
# inspect data
nchar(text_split)</code></pre>
<pre><code>##  text1  text2  text3  text4  text5  text6  text7  text8  text9 text10 text11 
##  11331  10888   9137  13830  11767  13730  12564  13585  12527  11287  10292 
## text12 
##  11518</code></pre>
<p>Now that we have named elements, we can search for the pattern
<em>poor alice</em>. We also need to clean the concordance as some
sections do not contain any instances of the search pattern. To clean
the data, we select only the columns <code>File</code>,
<code>PreceedingContext</code>, <code>Token</code>, and
<code>SubsequentContext</code> and then remove all rows where
information is missing.</p>
<pre class="r"><code>mykwic_pooralice &lt;- mykwic(text_split, &quot;poor Alice&quot;, 50)</code></pre>
<div class="tabwid"><style>.cl-dacc7ff0{table-layout:auto;width:95%;}.cl-dac1f314{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-dac1f328{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-dac5f734{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-dac6162e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac6162f{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac61638{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac61642{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac61643{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac61644{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac6164c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac6164d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac61656{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac61657{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac61660{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-dac61661{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-dacc7ff0'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 6 concordances of *poor alice* extracted using the mykwic function.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-dac6162e"><p class="cl-dac5f734"><span class="cl-dac1f314">Id</span></p></th><th class="cl-dac6162f"><p class="cl-dac5f734"><span class="cl-dac1f314">PreceedingContext</span></p></th><th class="cl-dac6162f"><p class="cl-dac5f734"><span class="cl-dac1f314">Token</span></p></th><th class="cl-dac61638"><p class="cl-dac5f734"><span class="cl-dac1f314">SubsequentContext</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-dac61642"><p class="cl-dac5f734"><span class="cl-dac1f328">1</span></p></td><td class="cl-dac61643"><p class="cl-dac5f734"><span class="cl-dac1f328">; “and even if my head would go through,” thought </span></p></td><td class="cl-dac61643"><p class="cl-dac5f734"><span class="cl-dac1f328">poor Alice</span></p></td><td class="cl-dac61644"><p class="cl-dac5f734"><span class="cl-dac1f328">, “it would be of very little use without my shoul</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-dac6164c"><p class="cl-dac5f734"><span class="cl-dac1f328">2</span></p></td><td class="cl-dac6164d"><p class="cl-dac5f734"><span class="cl-dac1f328">d on going into the garden at once; but, alas for </span></p></td><td class="cl-dac6164d"><p class="cl-dac5f734"><span class="cl-dac1f328">poor Alice</span></p></td><td class="cl-dac61656"><p class="cl-dac5f734"><span class="cl-dac1f328">! when she got to the door, she found she had forg</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-dac61642"><p class="cl-dac5f734"><span class="cl-dac1f328">3</span></p></td><td class="cl-dac61643"><p class="cl-dac5f734"><span class="cl-dac1f328"> to be two people. “But it’s no use now,” thought </span></p></td><td class="cl-dac61643"><p class="cl-dac5f734"><span class="cl-dac1f328">poor Alice</span></p></td><td class="cl-dac61644"><p class="cl-dac5f734"><span class="cl-dac1f328">, “to pretend to be two people! Why, there’s hardl</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-dac6164c"><p class="cl-dac5f734"><span class="cl-dac1f328">1</span></p></td><td class="cl-dac6164d"><p class="cl-dac5f734"><span class="cl-dac1f328">!” “I’m sure those are not the right words,” said </span></p></td><td class="cl-dac6164d"><p class="cl-dac5f734"><span class="cl-dac1f328">poor Alice</span></p></td><td class="cl-dac61656"><p class="cl-dac5f734"><span class="cl-dac1f328">, and her eyes filled with tears again as she went</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-dac61642"><p class="cl-dac5f734"><span class="cl-dac1f328">1</span></p></td><td class="cl-dac61643"><p class="cl-dac5f734"><span class="cl-dac1f328">lking such nonsense!” “I didn’t mean it!” pleaded </span></p></td><td class="cl-dac61643"><p class="cl-dac5f734"><span class="cl-dac1f328">poor Alice</span></p></td><td class="cl-dac61644"><p class="cl-dac5f734"><span class="cl-dac1f328">. “But you’re so easily offended, you know!” The M</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-dac61657"><p class="cl-dac5f734"><span class="cl-dac1f328">2</span></p></td><td class="cl-dac61660"><p class="cl-dac5f734"><span class="cl-dac1f328">onder if I shall ever see you any more!” And here </span></p></td><td class="cl-dac61660"><p class="cl-dac5f734"><span class="cl-dac1f328">poor Alice</span></p></td><td class="cl-dac61661"><p class="cl-dac5f734"><span class="cl-dac1f328"> began to cry again, for she felt very lonely and </span></p></td></tr></tbody></table></div>
<p>You can go ahead and modify the customized concordance function to
suit your needs.</p>
</div>
</div>
<div id="citation-session-info" class="section level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2023. <em>Concordancing with R</em>. Brisbane:
The Language Technology and Data Analysis Laboratory (LADAL). url: <a
href="https://ladal.edu.au/kwics.html"
class="uri">https://ladal.edu.au/kwics.html</a> (Version
2023.09.23).</p>
<pre><code>@manual{schweinberger2023kwics,
  author = {Schweinberger, Martin},
  title = {Concordancing with R},
  note = {https://ladal.edu.au/kwics.html},
  year = {2023},
  organization = {The Language Technology and Data Analysis Laboratory (LADAL)},
  address = {Brisbane},
  edition = {2023.09.23}
}</code></pre>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.3.2 (2023-10-31 ucrt)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 11 x64 (build 22621)
## 
## Matrix products: default
## 
## 
## locale:
## [1] LC_COLLATE=English_Australia.utf8  LC_CTYPE=English_Australia.utf8   
## [3] LC_MONETARY=English_Australia.utf8 LC_NUMERIC=C                      
## [5] LC_TIME=English_Australia.utf8    
## 
## time zone: Australia/Brisbane
## tzcode source: internal
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] flextable_0.9.4 here_1.0.1      writexl_1.5.0   stringr_1.5.1  
## [5] dplyr_1.1.4     quanteda_3.3.1 
## 
## loaded via a namespace (and not attached):
##  [1] fastmatch_1.1-4         xfun_0.42               bslib_0.6.1            
##  [4] lattice_0.21-9          vctrs_0.6.5             tools_4.3.2            
##  [7] generics_0.1.3          curl_5.2.0              tibble_3.2.1           
## [10] klippy_0.0.0.9500       fansi_1.0.6             highr_0.10             
## [13] pkgconfig_2.0.3         Matrix_1.6-5            data.table_1.15.2      
## [16] RcppParallel_5.1.7      assertthat_0.2.1        uuid_1.2-0             
## [19] lifecycle_1.0.4         compiler_4.3.2          textshaping_0.3.7      
## [22] httpuv_1.6.14           fontquiver_0.2.1        fontLiberation_0.1.0   
## [25] htmltools_0.5.7         sass_0.4.8              yaml_2.3.8             
## [28] pillar_1.9.0            later_1.3.2             crayon_1.5.2           
## [31] jquerylib_0.1.4         gfonts_0.2.0            ellipsis_0.3.2         
## [34] openssl_2.1.1           cachem_1.0.8            mime_0.12              
## [37] fontBitstreamVera_0.1.1 stopwords_2.3           tidyselect_1.2.0       
## [40] zip_2.3.1               digest_0.6.34           stringi_1.8.3          
## [43] rprojroot_2.0.4         fastmap_1.1.1           grid_4.3.2             
## [46] cli_3.6.2               magrittr_2.0.3          crul_1.4.0             
## [49] utf8_1.2.4              withr_3.0.0             gdtools_0.3.6          
## [52] promises_1.2.1          rmarkdown_2.25          officer_0.6.5          
## [55] askpass_1.2.0           ragg_1.2.7              shiny_1.8.0            
## [58] evaluate_0.23           knitr_1.45              rlang_1.1.3            
## [61] Rcpp_1.0.12             xtable_1.8-4            glue_1.7.0             
## [64] httpcode_0.3.0          xml2_1.3.6              rstudioapi_0.15.0      
## [67] jsonlite_1.8.8          R6_2.5.1                systemfonts_1.0.5</code></pre>
<hr />
<p><a href="#introduction">Back to top</a></p>
<p><a href="https://ladal.edu.au">Back to HOME</a></p>
<hr />
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-anthony2004antconc" class="csl-entry">
Anthony, Laurence. 2004. <span>“AntConc: A Learner and Classroom
Friendly, Multi-Platform Corpus Analysis Toolkit.”</span>
<em>Proceedings of IWLeL</em>, 7–13.
</div>
<div id="ref-fivethirtyeight2018replication" class="csl-entry">
Aschwanden, Christie. 2018. <span>“Psychology’s Replication Crisis Has
Made the Field Better.”</span> <a
href="https://fivethirtyeight.com/features/psychologys-replication-crisis-has-made-the-field-better/">https://fivethirtyeight.com/features/psychologys-replication-crisis-has-made-the-field-better/</a>.
</div>
<div id="ref-barlow1999monoconc" class="csl-entry">
Barlow, Michael. 1999. <span>“Monoconc 1.5 and Paraconc.”</span>
<em>International Journal of Corpus Linguistics</em> 4 (1): 173–84.
</div>
<div id="ref-barlow2002paraconc" class="csl-entry">
———. 2002. <span>“ParaConc: Concordance Software for Multilingual
Parallel Corpora.”</span> In <em>Proceedings of the Third International
Conference on Language Resources and Evaluation. Workshop on Language
Resources in Translation Work and Research</em>, 20–24.
</div>
<div id="ref-noba2019replication" class="csl-entry">
Diener, Edward, and Robert Biswas-Diener. 2019. <span>“The Replication
Crisis in Psychology.”</span> <a
href="https://nobaproject.com/modules/the-replication-crisis-in-psychology">https://nobaproject.com/modules/the-replication-crisis-in-psychology</a>.
</div>
<div id="ref-fanelli2009fraud" class="csl-entry">
Fanelli, Daniele. 2009. <span>“How Many Scientists Fabricate and Falsify
Research? A Systematic Review and Meta-Analysis of Survey Data.”</span>
<em>PLoS One</em> 4: e5738.
</div>
<div id="ref-kilgarriff2004itri" class="csl-entry">
Kilgarriff, Adam, Pavel Rychly, Pavel Smrz, and David Tugwell. 2004.
<span>“Itri-04-08 the Sketch Engine.”</span> <em>Information
Technology</em> 105: 116.
</div>
<div id="ref-lindquist2009corpus" class="csl-entry">
Lindquist, Hans. 2009. <em>Corpus Linguistics and the Description of
English</em>. Edinburgh: Edinburgh University Press.
</div>
<div id="ref-sciencealert2018replication" class="csl-entry">
McRae, Mike. 2018. <span>“Science’s ’Replication Crisis’ Has Reached
Even the Most Respectable Journals, Report Shows.”</span> <a
href="https://www.sciencealert.com/replication-results-reproducibility-crisis-science-nature-journals">https://www.sciencealert.com/replication-results-reproducibility-crisis-science-nature-journals</a>.
</div>
<div id="ref-stafanowitsch2020corpus" class="csl-entry">
Stefanowitsch, Anatol. 2020. <em>Corpus Linguistics. A Guide to the
Methodology</em>. Textbooks in Language Sciences. Berlin: Language
Science Press.
</div>
<div id="ref-physorg2018replication" class="csl-entry">
Velasco, Emily. 2019. <span>“Researcher Discusses the the Science
Replication Crisis.”</span> <a
href="https://phys.org/news/2018-11-discusses-science-replication-crisis.html">https://phys.org/news/2018-11-discusses-science-replication-crisis.html</a>.
</div>
<div id="ref-atlantic2018psychology" class="csl-entry">
Yong, Ed. 2018. <span>“Psychology’s Replication Crisis Is Running Out of
Excuses. Another Big Project Has Found That Only Half of Studies Can Be
Repeated. And This Time, the Usual Explanations Fall Flat.”</span> <a
href="https://www.theatlantic.com/science/archive/2018/11/psychologys-replication-crisis-real/576223/">https://www.theatlantic.com/science/archive/2018/11/psychologys-replication-crisis-real/576223/</a>.
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>If you want to render the R Notebook on your machine,
i.e. knitting the document to html or a pdf, you need to make sure that
you have R and RStudio installed and you also need to download the <a
href="https://slcladal.github.io/content/bibliography.bib"><strong>bibliography
file</strong></a> and store it in the same folder where you store the
Rmd file.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
