<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Martin Schweinberger" />


<title>Practical Overview of Selected Text Analytics Methods</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/tabwid-1.1.3/tabwid.css" rel="stylesheet" />
<script src="site_libs/tabwid-1.1.3/tabwid.js"></script>
<link rel="stylesheet" href="styles.css" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VSGK4KYDQZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VSGK4KYDQZ');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  
  <!-- Added by SKC - LADAL image and thicker top with   -->
  <div class="container-fluid navbar-top" >
    <a href="index.html"> <!-- Make entire top row and text clickable home link  -->
        <div class="row">
            <div class="navbar-brand col-md-12">
              <img src="/content/ladal_icon_cas_tran_white_trimed.png" class="navbar-icon" alt="LADAL"/>
              <span class="navbar-title-note navbar-collapse collapse" >Language Technology and Data Analysis Laboratory</span>
            </div>
        </div>
    </a>
  </div>
  
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- SKC removed  navbar brand -->
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">HOME</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    ABOUT LADAL
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="people.html">People | Collabs</a>
    </li>
    <li>
      <a href="news.html">News</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    EVENTS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="workshops.html">Workshops</a>
    </li>
    <li>
      <a href="compthinking.html">Computational Thinking in HASS</a>
    </li>
    <li>
      <a href="webinars2022.html">LADAL Webinar Series 2022</a>
    </li>
    <li>
      <a href="opening.html">LADAL Webinar Series 2021</a>
    </li>
    <li>
      <a href="atapevents.html">ATAP Events</a>
    </li>
  </ul>
</li>
<li>
  <a href="tutorials.html">TUTORIALS</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    RESOURCES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="links.html">Links</a>
    </li>
    <li>
      <a href="base.html">Tutorial stylesheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="contact.html">CONTACT</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Practical Overview of Selected Text
Analytics Methods</h1>
<h4 class="author">Martin Schweinberger</h4>

</div>


<p><img src="https://slcladal.github.io/images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p><img src="https://slcladal.github.io/images/gy_chili.jpg" width="15%" style="float:right; padding:10px" /></p>
<p>This tutorial introduces Text Analysis <span class="citation">(see <a
href="#ref-bernard1998text">Bernard and Ryan 1998</a>; <a
href="#ref-kabanoff1997introduction">Kabanoff 1997</a>; <a
href="#ref-popping2000computer">Popping 2000</a>)</span>,
i.e. computer-based analysis of language data or the (semi-)automated
extraction of information from text.</p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
Please cite as: <br>Schweinberger, Martin. 2023. <em>Practical Overview
of Selected Text Analytics Methods</em>. Brisbane: The Language
Technology and Data Analysis Laboratory (LADAL). url: <a
href="https://ladal.edu.au/textanalysis.html"
class="uri">https://ladal.edu.au/textanalysis.html</a> (Version
2023.09.24).<br>
</p>
<p></span></p>
</div>
<p><br></p>
<p>Most of the applications of Text Analysis are based upon a relatively
limited number of key procedures or concepts (e.g. concordancing, word
frequencies, annotation or tagging, collocation, text classification,
Sentiment Analysis, Entity Extraction, Topic Modeling, etc.). In the
following, we will explore these procedures and introduce some basic
tools that help you perform the introduced tasks.</p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
To be able to follow this tutorial, we suggest you check out and
familiarize yourself with the content of the following <strong>R
Basics</strong> tutorials:<br>
</p>
<p style="margin-top:1em; text-align:left">
<ul>
<li>
<a href="https://ladal.edu.au/intror.html">Getting started with R</a>
</li>
<li>
<a href="https://ladal.edu.au/load.html">Loading, saving, and generating
data in R</a>
</li>
<li>
<a href="https://ladal.edu.au/string.html">String Processing in R</a>
</li>
<li>
<a href="https://ladal.edu.au/regex.html">Regular Expressions in R</a>
</li>
</ul>
</p>
<p style="margin-top:1em; text-align:center">
Click <a
href="https://ladal.edu.au/content/kwics.Rmd"><strong>here</strong></a><a
href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> to
download the <strong>entire R Notebook</strong> for this
tutorial.<br><br> <a
href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Ftextanalysis_cb.ipynb%26branch%3Dmain"><img
src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a><br> Click
<a
href="https://binderhub.atap-binder.cloud.edu.au/v2/gh/SLCLADAL/interactive-notebooks-environment/main?urlpath=git-pull%3Frepo%3Dhttps%253A%252F%252Fgithub.com%252FSLCLADAL%252Finteractive-notebooks%26urlpath%3Dlab%252Ftree%252Finteractive-notebooks%252Fnotebooks%252Ftextanalysis_cb.ipynb%26branch%3Dmain"><strong>here</strong></a>
to open an interactive Jupyter notebook that allows you to execute,
change, and edit the code as well as to upload your own data. <br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p><strong>Preparation and session set up</strong></p>
<p>This tutorial is based on R. If you’re new to R or haven’t installed
it yet, you can find an introduction and installation instructions <a
href="https://ladal.edu.au/intror.html">here</a>. To ensure the scripts
below run smoothly, we need to install specific R packages from a
library. If you’ve already installed these packages, you can skip this
section. To install them, run the code below (which may take 1 to 5
minutes).</p>
<pre class="r"><code># install packages
install.packages(&quot;quanteda&quot;)
install.packages(&quot;dplyr&quot;)
install.packages(&quot;stringr&quot;)
install.packages(&quot;ggplot2&quot;)
install.packages(&quot;tm&quot;)
install.packages(&quot;udpipe&quot;)
install.packages(&quot;tidytext&quot;)
install.packages(&quot;wordcloud2&quot;)
install.packages(&quot;quanteda.textstats&quot;)
install.packages(&quot;quanteda.textplots&quot;)
install.packages(&quot;ggraph&quot;)
install.packages(&quot;flextable&quot;)
# install klippy for copy-to-clipboard button in code chunks
install.packages(&quot;remotes&quot;)
remotes::install_github(&quot;rlesur/klippy&quot;)</code></pre>
<p>Once all packages are installed, you can activate them bu executing
(running) the code chunk below.</p>
<pre class="r"><code># load packages
library(dplyr)
library(stringr)
library(ggplot2)
library(flextable)
library(quanteda)
library(tm)
library(udpipe)
library(tidytext)
library(wordcloud2)
library(flextable)
library(quanteda.textstats)
library(quanteda.textplots)
library(ggraph)
library(tidyr)
# activate klippy for copy-to-clipboard button
klippy::klippy()</code></pre>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<p>Once you have initiated the session by executing the code shown
above, you are good to go.</p>
</div>
<div id="concordancing" class="section level1 unnumbered">
<h1 class="unnumbered">Concordancing</h1>
<p>In Text Analysis, concordancing refers to the extraction of words
from a given text or texts <span class="citation">(<a
href="#ref-lindquist2009corpus">Lindquist 2009</a>)</span>. Commonly,
concordances are displayed in the form of key-word in contexts (KWIC)
where the search term is shown with some preceding and following
context. Thus, such displays are referred to as key word in context
concordances. A more elaborate tutorial on how to perform concordancing
with R is available <a
href="https://ladal.edu.au/kwics.html">here</a>.</p>
<p><br></p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
<b>Concordancing is a text analysis technique that retrieves and
displays occurrences of a chosen word or phrase within a text or
dataset, showing the surrounding context. It’s used to examine word
usage, context, and linguistic patterns for research and language
analysis purposes.</b><br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p><img src="https://slcladal.github.io/images/AntConcConcordance.png" width="60%" style="float:right; padding:10px" /></p>
<p>Concordancing is a valuable tool that helps us understand how a term
is used in the data, examine word frequency, extract examples, and
serves as a fundamental step for more advanced language data
analyses.</p>
<p>In the following section, we’ll use R to explore text, using Lewis
Carroll’s <em>Alice’s Adventures in Wonderland</em> as our example text.
We’ll start by loading the text data, which is available from the LADAL
GitHub repository for this tutorial. If you’re interested in loading
your own data, you can refer to <a
href="https://ladal.edu.au/intror.html#Working_with_text">this
tutorial</a>.</p>
<p>We start by loading our example text.</p>
<pre class="r"><code># load text
text &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/alice.rda&quot;, &quot;rb&quot;))</code></pre>
<div class="tabwid"><style>.cl-e6c5fe6e{table-layout:auto;width:75%;}.cl-e6ba5c26{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e6ba5c62{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e6bf20f8{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e6bf3df4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e6bf3dfe{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e6bf3e08{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e6bf3e12{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-e6c5fe6e'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First text elements of the example text</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-e6bf3df4"><p class="cl-e6bf20f8"><span class="cl-e6ba5c26">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e6bf3dfe"><p class="cl-e6bf20f8"><span class="cl-e6ba5c62">Alice’s Adventures in Wonderland</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6bf3e08"><p class="cl-e6bf20f8"><span class="cl-e6ba5c62">by Lewis Carroll</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6bf3dfe"><p class="cl-e6bf20f8"><span class="cl-e6ba5c62">CHAPTER I.</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6bf3e08"><p class="cl-e6bf20f8"><span class="cl-e6ba5c62">Down the Rabbit-Hole</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6bf3dfe"><p class="cl-e6bf20f8"><span class="cl-e6ba5c62">Alice was beginning to get very tired of sitting by her sister on the</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6bf3e12"><p class="cl-e6bf20f8"><span class="cl-e6ba5c62">bank, and of having nothing to do: once or twice she had peeped into</span></p></td></tr></tbody></table></div>
<p>The data still consists of short text snippets which is why we
collapse these snippets and then split the collapsed data into
chapters.</p>
<pre class="r"><code># combine and split into chapters
text_chapters &lt;- text %&gt;%
  # paste all texts together into one long text
  paste0(collapse = &quot; &quot;) %&gt;%
  # replace Chapter I to Chapter XVI with qwertz 
  stringr::str_replace_all(&quot;(CHAPTER [XVI]{1,7}\\.{0,1}) &quot;, &quot;qwertz\\1&quot;) %&gt;%
  # convert text to lower case
  tolower() %&gt;%  
  # split the long text into chapters
  stringr::str_split(&quot;qwertz&quot;) %&gt;%
  # unlist the result (convert into simple vector)
  unlist()</code></pre>
<div class="tabwid"><style>.cl-e6e785c0{table-layout:auto;width:95%;}.cl-e6dc67f8{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e6dc6802{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e6e091c0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e6e0ae76{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e6e0ae80{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e6e0ae8a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e6e0ae8b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-e6e785c0'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 500 characters of the first 6 chapters of  the example text</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-e6e0ae76"><p class="cl-e6e091c0"><span class="cl-e6dc67f8">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e6e0ae80"><p class="cl-e6e091c0"><span class="cl-e6dc6802">alice’s adventures in wonderland by lewis carroll </span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6e0ae8a"><p class="cl-e6e091c0"><span class="cl-e6dc6802">chapter i.down the rabbit-hole alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice she had peeped into the book her sister was reading, but it had no pictures or conversations in it, “and what is the use of a book,” thought alice “without pictures or conversations?” so she was considering in her own mind (as well as she could, for the hot day made her feel very sleepy and stupid), whether the pleasure of making a daisy-chain woul</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6e0ae80"><p class="cl-e6e091c0"><span class="cl-e6dc6802">chapter ii.the pool of tears “curiouser and curiouser!” cried alice (she was so much surprised, that for the moment she quite forgot how to speak good english); “now i’m opening out like the largest telescope that ever was! good-bye, feet!” (for when she looked down at her feet, they seemed to be almost out of sight, they were getting so far off). “oh, my poor little feet, i wonder who will put on your shoes and stockings for you now, dears? i’m sure _i_ shan’t be able! i shall be a great deal t</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6e0ae8a"><p class="cl-e6e091c0"><span class="cl-e6dc6802">chapter iii.a caucus-race and a long tale they were indeed a queer-looking party that assembled on the bank—the birds with draggled feathers, the animals with their fur clinging close to them, and all dripping wet, cross, and uncomfortable. the first question of course was, how to get dry again: they had a consultation about this, and after a few minutes it seemed quite natural to alice to find herself talking familiarly with them, as if she had known them all her life. indeed, she had quite a l</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6e0ae80"><p class="cl-e6e091c0"><span class="cl-e6dc6802">chapter iv.the rabbit sends in a little bill it was the white rabbit, trotting slowly back again, and looking anxiously about as it went, as if it had lost something; and she heard it muttering to itself “the duchess! the duchess! oh my dear paws! oh my fur and whiskers! she’ll get me executed, as sure as ferrets are ferrets! where _can_ i have dropped them, i wonder?” alice guessed in a moment that it was looking for the fan and the pair of white kid gloves, and she very good-naturedly began hu</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e6e0ae8b"><p class="cl-e6e091c0"><span class="cl-e6dc6802">chapter v.advice from a caterpillar the caterpillar and alice looked at each other for some time in silence: at last the caterpillar took the hookah out of its mouth, and addressed her in a languid, sleepy voice. “who are _you?_” said the caterpillar. this was not an encouraging opening for a conversation. alice replied, rather shyly, “i—i hardly know, sir, just at present—at least i know who i _was_ when i got up this morning, but i think i must have been changed several times since then.” “wha</span></p></td></tr></tbody></table></div>
<p>After dividing the data into chapters, we conduct concordancing and
extract KWICs (<strong>K</strong>ey<strong>W</strong>ord
<strong>I</strong>n <strong>C</strong>ontext). This is accomplished
using the <code>kwic</code> function from the <code>quanteda</code>
package, which requires three main arguments: the data (x), the search
pattern (pattern), and the window size.</p>
<p>To begin, we’ll create KWICs for the term <em>alice</em> using the
<code>kwic</code> function from the <code>quanteda</code> package, as
demonstrated below.</p>
<p><br></p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
The <code>kwic</code> function in the <code>quanteda</code> package
extracts <b>K</b>ey<b>W</b>ord <b>I</b>n <b>C</b>ontext (KWIC)
information. Its main arguments are <code>x</code> (text data),
<code>pattern</code> (search term), and <code>window</code> (context
size) to display words around the pattern.<br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<pre class="r"><code># create kwic
kwic_alice &lt;- quanteda::kwic(x = text_chapters, # define text(s) 
                             # define pattern
                             pattern = &quot;alice&quot;,
                             # define window size
                             window = 5) %&gt;%
  # convert into a data frame
  as.data.frame() %&gt;%
  # remove superfluous columns
  dplyr::select(-to, -from, -pattern)</code></pre>
<div class="tabwid"><style>.cl-e71f6c56{table-layout:auto;width:95%;}.cl-e713a2ea{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e713a2fe{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e717e274{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e717fdd6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fde0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fdea{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fdf4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fdf5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fdf6{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fdfe{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fdff{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fe08{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fe09{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fe12{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e717fe13{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-e71f6c56'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 concordances of *alice*  in the example text</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-e717fdd6"><p class="cl-e717e274"><span class="cl-e713a2ea">docname</span></p></th><th class="cl-e717fde0"><p class="cl-e717e274"><span class="cl-e713a2ea">pre</span></p></th><th class="cl-e717fde0"><p class="cl-e717e274"><span class="cl-e713a2ea">keyword</span></p></th><th class="cl-e717fdea"><p class="cl-e717e274"><span class="cl-e713a2ea">post</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e717fdf4"><p class="cl-e717e274"><span class="cl-e713a2fe">text2</span></p></td><td class="cl-e717fdf5"><p class="cl-e717e274"><span class="cl-e713a2fe">chapter i.down the rabbit-hole</span></p></td><td class="cl-e717fdf5"><p class="cl-e717e274"><span class="cl-e713a2fe">alice</span></p></td><td class="cl-e717fdf6"><p class="cl-e717e274"><span class="cl-e713a2fe">was beginning to get very</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e717fdfe"><p class="cl-e717e274"><span class="cl-e713a2fe">text2</span></p></td><td class="cl-e717fdff"><p class="cl-e717e274"><span class="cl-e713a2fe">a book , ” thought</span></p></td><td class="cl-e717fdff"><p class="cl-e717e274"><span class="cl-e713a2fe">alice</span></p></td><td class="cl-e717fe08"><p class="cl-e717e274"><span class="cl-e713a2fe">“ without pictures or conversations</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e717fdf4"><p class="cl-e717e274"><span class="cl-e713a2fe">text2</span></p></td><td class="cl-e717fdf5"><p class="cl-e717e274"><span class="cl-e713a2fe">in that ; nor did</span></p></td><td class="cl-e717fdf5"><p class="cl-e717e274"><span class="cl-e713a2fe">alice</span></p></td><td class="cl-e717fdf6"><p class="cl-e717e274"><span class="cl-e713a2fe">think it so _very_ much</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e717fdfe"><p class="cl-e717e274"><span class="cl-e713a2fe">text2</span></p></td><td class="cl-e717fdff"><p class="cl-e717e274"><span class="cl-e713a2fe">and then hurried on ,</span></p></td><td class="cl-e717fdff"><p class="cl-e717e274"><span class="cl-e713a2fe">alice</span></p></td><td class="cl-e717fe08"><p class="cl-e717e274"><span class="cl-e713a2fe">started to her feet ,</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e717fdf4"><p class="cl-e717e274"><span class="cl-e713a2fe">text2</span></p></td><td class="cl-e717fdf5"><p class="cl-e717e274"><span class="cl-e713a2fe">in another moment down went</span></p></td><td class="cl-e717fdf5"><p class="cl-e717e274"><span class="cl-e713a2fe">alice</span></p></td><td class="cl-e717fdf6"><p class="cl-e717e274"><span class="cl-e713a2fe">after it , never once</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e717fe09"><p class="cl-e717e274"><span class="cl-e713a2fe">text2</span></p></td><td class="cl-e717fe12"><p class="cl-e717e274"><span class="cl-e713a2fe">down , so suddenly that</span></p></td><td class="cl-e717fe12"><p class="cl-e717e274"><span class="cl-e713a2fe">alice</span></p></td><td class="cl-e717fe13"><p class="cl-e717e274"><span class="cl-e713a2fe">had not a moment to</span></p></td></tr></tbody></table></div>
<p>In our search, we have the flexibility to utilize regular
expressions, allowing us to extract not only straightforward terms like
<em>alice</em> but also more intricate and even abstract patterns. An
abstract pattern may involve only a part of the term being specified.
For example, if we specify <em>walk</em>, we can retrieve words like
<em>walking</em>, <em>walker,</em> <em>walked</em>, and <em>walks</em>
that contain this sequence. To effectively capture such abstract
patterns, we employ what are known as <em>regular expressions</em>.</p>
<p>When incorporating a regular expression in the <code>pattern</code>
argument, it’s crucial to specify the <code>valuetype</code> as
<code>regex</code>, as illustrated below.</p>
<pre class="r"><code># create kwic
kwic_walk &lt;- quanteda::kwic(x = text_chapters, 
                          pattern = &quot;walk.*&quot;,
                          window = 5,
                          valuetype = &quot;regex&quot;) %&gt;%
  # convert into a data frame
  as.data.frame() %&gt;%
  # remove superfluous columns
  dplyr::select(-to, -from, -pattern)</code></pre>
<div class="tabwid"><style>.cl-e74a6d52{table-layout:auto;width:95%;}.cl-e73f12b8{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e73f12cc{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e7437af6{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e74395d6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e74395e0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e74395ea{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e74395eb{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e74395f4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e74395f5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e74395fe{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e74395ff{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7439600{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7439608{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7439612{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7439613{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-e74a6d52'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 cleaned Concordances of *walk* in the example text</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-e74395d6"><p class="cl-e7437af6"><span class="cl-e73f12b8">docname</span></p></th><th class="cl-e74395e0"><p class="cl-e7437af6"><span class="cl-e73f12b8">pre</span></p></th><th class="cl-e74395e0"><p class="cl-e7437af6"><span class="cl-e73f12b8">keyword</span></p></th><th class="cl-e74395ea"><p class="cl-e7437af6"><span class="cl-e73f12b8">post</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e74395eb"><p class="cl-e7437af6"><span class="cl-e73f12cc">text2</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">out among the people that</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">walk</span></p></td><td class="cl-e74395f5"><p class="cl-e7437af6"><span class="cl-e73f12cc">with their heads downward !</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e74395fe"><p class="cl-e7437af6"><span class="cl-e73f12cc">text2</span></p></td><td class="cl-e74395ff"><p class="cl-e7437af6"><span class="cl-e73f12cc">to dream that she was</span></p></td><td class="cl-e74395ff"><p class="cl-e7437af6"><span class="cl-e73f12cc">walking</span></p></td><td class="cl-e7439600"><p class="cl-e7437af6"><span class="cl-e73f12cc">hand in hand with dinah</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e74395eb"><p class="cl-e7437af6"><span class="cl-e73f12cc">text2</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">trying every door , she</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">walked</span></p></td><td class="cl-e74395f5"><p class="cl-e7437af6"><span class="cl-e73f12cc">sadly down the middle ,</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e74395fe"><p class="cl-e7437af6"><span class="cl-e73f12cc">text3</span></p></td><td class="cl-e74395ff"><p class="cl-e7437af6"><span class="cl-e73f12cc">“ or perhaps they won’t</span></p></td><td class="cl-e74395ff"><p class="cl-e7437af6"><span class="cl-e73f12cc">walk</span></p></td><td class="cl-e7439600"><p class="cl-e7437af6"><span class="cl-e73f12cc">the way i want to</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e74395eb"><p class="cl-e7437af6"><span class="cl-e73f12cc">text4</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">mouse , getting up and</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">walking</span></p></td><td class="cl-e74395f5"><p class="cl-e7437af6"><span class="cl-e73f12cc">away . “ you insult</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e74395fe"><p class="cl-e7437af6"><span class="cl-e73f12cc">text4</span></p></td><td class="cl-e74395ff"><p class="cl-e7437af6"><span class="cl-e73f12cc">its head impatiently , and</span></p></td><td class="cl-e74395ff"><p class="cl-e7437af6"><span class="cl-e73f12cc">walked</span></p></td><td class="cl-e7439600"><p class="cl-e7437af6"><span class="cl-e73f12cc">a little quicker . “</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e74395eb"><p class="cl-e7437af6"><span class="cl-e73f12cc">text5</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">and get ready for your</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">walk</span></p></td><td class="cl-e74395f5"><p class="cl-e7437af6"><span class="cl-e73f12cc">! ’ ‘ coming in</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e74395fe"><p class="cl-e7437af6"><span class="cl-e73f12cc">text7</span></p></td><td class="cl-e74395ff"><p class="cl-e7437af6"><span class="cl-e73f12cc">, “ if you only</span></p></td><td class="cl-e74395ff"><p class="cl-e7437af6"><span class="cl-e73f12cc">walk</span></p></td><td class="cl-e7439600"><p class="cl-e7437af6"><span class="cl-e73f12cc">long enough . ” alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e74395eb"><p class="cl-e7437af6"><span class="cl-e73f12cc">text7</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">a minute or two she</span></p></td><td class="cl-e74395f4"><p class="cl-e7437af6"><span class="cl-e73f12cc">walked</span></p></td><td class="cl-e74395f5"><p class="cl-e7437af6"><span class="cl-e73f12cc">on in the direction in</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7439608"><p class="cl-e7437af6"><span class="cl-e73f12cc">text7</span></p></td><td class="cl-e7439612"><p class="cl-e7437af6"><span class="cl-e73f12cc">high : even then she</span></p></td><td class="cl-e7439612"><p class="cl-e7437af6"><span class="cl-e73f12cc">walked</span></p></td><td class="cl-e7439613"><p class="cl-e7437af6"><span class="cl-e73f12cc">up towards it rather timidly</span></p></td></tr></tbody></table></div>
<p>When searching for expressions that represent phrases consisting of
multiple elements, like <em>poor alice</em>, it’s essential to
explicitly specify in the <code>pattern</code> argument that we are
searching for a <code>phrase</code>.</p>
<pre class="r"><code># create kwic
kwic_pooralice &lt;- quanteda::kwic(x = text_chapters, 
                          pattern = quanteda::phrase(&quot;poor alice&quot;),
                          window = 5) %&gt;%
  # convert into a data frame
  as.data.frame() %&gt;%
  # remove superfluous columns
  dplyr::select(-to, -from, -pattern)</code></pre>
<div class="tabwid"><style>.cl-e7742e76{table-layout:auto;width:95%;}.cl-e7694812{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e769481c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e76d60b4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e76d7c84{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7c8e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7c98{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7c99{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7ca2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7cac{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7cad{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7cb6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7cb7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7cc0{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7cc1{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e76d7cca{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-e7742e76'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First cleaned concordances of the phrase *poor alice* in the example text</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-e76d7c84"><p class="cl-e76d60b4"><span class="cl-e7694812">docname</span></p></th><th class="cl-e76d7c8e"><p class="cl-e76d60b4"><span class="cl-e7694812">pre</span></p></th><th class="cl-e76d7c8e"><p class="cl-e76d60b4"><span class="cl-e7694812">keyword</span></p></th><th class="cl-e76d7c98"><p class="cl-e76d60b4"><span class="cl-e7694812">post</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e76d7c99"><p class="cl-e76d60b4"><span class="cl-e769481c">text2</span></p></td><td class="cl-e76d7ca2"><p class="cl-e76d60b4"><span class="cl-e769481c">go through , ” thought</span></p></td><td class="cl-e76d7ca2"><p class="cl-e76d60b4"><span class="cl-e769481c">poor alice</span></p></td><td class="cl-e76d7cac"><p class="cl-e76d60b4"><span class="cl-e769481c">, “ it would be</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e76d7cad"><p class="cl-e76d60b4"><span class="cl-e769481c">text2</span></p></td><td class="cl-e76d7cb6"><p class="cl-e76d60b4"><span class="cl-e769481c">; but , alas for</span></p></td><td class="cl-e76d7cb6"><p class="cl-e76d60b4"><span class="cl-e769481c">poor alice</span></p></td><td class="cl-e76d7cb7"><p class="cl-e76d60b4"><span class="cl-e769481c">! when she got to</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e76d7c99"><p class="cl-e76d60b4"><span class="cl-e769481c">text2</span></p></td><td class="cl-e76d7ca2"><p class="cl-e76d60b4"><span class="cl-e769481c">use now , ” thought</span></p></td><td class="cl-e76d7ca2"><p class="cl-e76d60b4"><span class="cl-e769481c">poor alice</span></p></td><td class="cl-e76d7cac"><p class="cl-e76d60b4"><span class="cl-e769481c">, “ to pretend to</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e76d7cad"><p class="cl-e76d60b4"><span class="cl-e769481c">text3</span></p></td><td class="cl-e76d7cb6"><p class="cl-e76d60b4"><span class="cl-e769481c">to the garden door .</span></p></td><td class="cl-e76d7cb6"><p class="cl-e76d60b4"><span class="cl-e769481c">poor alice</span></p></td><td class="cl-e76d7cb7"><p class="cl-e76d60b4"><span class="cl-e769481c">! it was as much</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e76d7c99"><p class="cl-e76d60b4"><span class="cl-e769481c">text3</span></p></td><td class="cl-e76d7ca2"><p class="cl-e76d60b4"><span class="cl-e769481c">right words , ” said</span></p></td><td class="cl-e76d7ca2"><p class="cl-e76d60b4"><span class="cl-e769481c">poor alice</span></p></td><td class="cl-e76d7cac"><p class="cl-e76d60b4"><span class="cl-e769481c">, and her eyes filled</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e76d7cc0"><p class="cl-e76d60b4"><span class="cl-e769481c">text4</span></p></td><td class="cl-e76d7cc1"><p class="cl-e76d60b4"><span class="cl-e769481c">mean it ! ” pleaded</span></p></td><td class="cl-e76d7cc1"><p class="cl-e76d60b4"><span class="cl-e769481c">poor alice</span></p></td><td class="cl-e76d7cca"><p class="cl-e76d60b4"><span class="cl-e769481c">. “ but you’re so</span></p></td></tr></tbody></table></div>
<p>We could continue our analysis by exploring in greater detail how the
phrase <em>poor alice</em> is used in context, perhaps by adjusting the
context window size or conducting similar investigations. However, for
now, we’ll shift our focus to learning how to extract and work with word
frequencies.</p>
</div>
<div id="word-frequency" class="section level1 unnumbered">
<h1 class="unnumbered">Word Frequency</h1>
<p>Frequency information is a cornerstone of text analytics,
underpinning nearly all analytical methods. Identifying the most common
words within a text is a fundamental technique in text analytics,
serving as the bedrock of text analysis. This frequency data is
typically organized into word frequency lists, which consist of word
forms and their corresponding frequencies within a given text or
collection of texts.</p>
<p>Given the paramount importance of extracting word frequency lists, we
will proceed to demonstrate how to do so. In the first step, we’ll
continue with our example text, convert the chapters to lowercase,
eliminate non-word symbols (including punctuation), and then break down
the text (the chapters) into individual words.</p>
<pre class="r"><code># process the text and save result in &quot;text_words&quot;
text_words &lt;- text  %&gt;%
  # convert all text to lowercase
  tolower() %&gt;%
  # remove non-word characters, keeping spaces
  str_replace_all(&quot;[^[:alpha:][:space:]]*&quot;, &quot;&quot;)  %&gt;%
  # remove punctuation
  tm::removePunctuation() %&gt;%
  # squish consecutive spaces into a single space
  stringr::str_squish() %&gt;%
  # split the text into individual words, separated by spaces
  stringr::str_split(&quot; &quot;) %&gt;%
  # unlist the result into a single vector of words
  unlist()</code></pre>
<div class="tabwid"><style>.cl-e795ae66{table-layout:auto;width:50%;}.cl-e78a6bb4{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e78a6bc8{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e78e8e56{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e78ea95e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e78ea968{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e78ea972{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e78ea973{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-e795ae66'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 15 words in the example text</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-e78ea95e"><p class="cl-e78e8e56"><span class="cl-e78a6bb4">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e78ea968"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">alices</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea972"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">adventures</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea968"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">in</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea972"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">wonderland</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea968"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">by</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea972"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">lewis</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea968"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">carroll</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea972"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">chapter</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea968"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">i</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea972"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">down</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea968"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">the</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea972"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">rabbithole</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea968"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">alice</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea972"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">was</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e78ea973"><p class="cl-e78e8e56"><span class="cl-e78a6bc8">beginning</span></p></td></tr></tbody></table></div>
<p>With our word vector in hand, let’s effortlessly construct a table
that showcases a word frequency list, as demonstrated below.</p>
<pre class="r"><code># Create a word frequency table from the &#39;text_words&#39; data
wfreq &lt;- text_words %&gt;%
  # count the frequency of each unique word
  table() %&gt;%
  # convert the frequency table into a data frame
  as.data.frame() %&gt;%
  # arrange the data frame rows in descending order of word frequency
  arrange(desc(Freq)) %&gt;%
  # rename the columns for clarity
  dplyr::rename(word = 1,
                frequency = 2)</code></pre>
<div class="tabwid"><style>.cl-e7b71894{table-layout:auto;width:50%;}.cl-e7abb9d6{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e7abb9e0{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e7b01f8a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e7b01f94{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e7b03f1a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7b03f24{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7b03f2e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7b03f2f{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7b03f38{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7b03f39{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7b03f42{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7b03f43{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-e7b71894'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Top 15 words in the example text by frequency.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-e7b03f1a"><p class="cl-e7b01f8a"><span class="cl-e7abb9d6">word</span></p></th><th class="cl-e7b03f24"><p class="cl-e7b01f94"><span class="cl-e7abb9d6">frequency</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f2e"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">the</span></p></td><td class="cl-e7b03f2f"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">1,630</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f38"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">and</span></p></td><td class="cl-e7b03f39"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">844</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f2e"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">to</span></p></td><td class="cl-e7b03f2f"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">721</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f38"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">a</span></p></td><td class="cl-e7b03f39"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">627</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f2e"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">she</span></p></td><td class="cl-e7b03f2f"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">537</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f38"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">it</span></p></td><td class="cl-e7b03f39"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">526</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f2e"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">of</span></p></td><td class="cl-e7b03f2f"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">508</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f38"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">said</span></p></td><td class="cl-e7b03f39"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">462</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f2e"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">i</span></p></td><td class="cl-e7b03f2f"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">400</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f38"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">alice</span></p></td><td class="cl-e7b03f39"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">385</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f2e"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">in</span></p></td><td class="cl-e7b03f2f"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">366</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f38"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">you</span></p></td><td class="cl-e7b03f39"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">360</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f2e"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">was</span></p></td><td class="cl-e7b03f2f"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">357</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f38"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">that</span></p></td><td class="cl-e7b03f39"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">276</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7b03f42"><p class="cl-e7b01f8a"><span class="cl-e7abb9e0">as</span></p></td><td class="cl-e7b03f43"><p class="cl-e7b01f94"><span class="cl-e7abb9e0">262</span></p></td></tr></tbody></table></div>
<p>The most common words often consist of function words that may lack
significance. To enhance our analysis, we’ll eliminate these function
words, often referred to as <em>stopwords</em>, from the frequency list.
Let’s take a look at the refined list without stopwords.</p>
<pre class="r"><code># create table wo stopwords
wfreq_wostop &lt;- wfreq %&gt;%
  anti_join(tidytext::stop_words, by = &quot;word&quot;) %&gt;%
  dplyr::filter(word != &quot;&quot;)</code></pre>
<div class="tabwid"><style>.cl-e7d77346{table-layout:auto;width:50%;}.cl-e7cb624a{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e7cb625e{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e7cff8b4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e7cff8c8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e7d015d8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7d015e2{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7d015ec{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7d015ed{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7d015f6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7d01600{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7d01601{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e7d0160a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-e7d77346'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Top 15 lexical words in the example text by frequency.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-e7d015d8"><p class="cl-e7cff8b4"><span class="cl-e7cb624a">word</span></p></th><th class="cl-e7d015e2"><p class="cl-e7cff8c8"><span class="cl-e7cb624a">frequency</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e7d015ec"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">alice</span></p></td><td class="cl-e7d015ed"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">385</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015f6"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">queen</span></p></td><td class="cl-e7d01600"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">68</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015ec"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">time</span></p></td><td class="cl-e7d015ed"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">68</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015f6"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">king</span></p></td><td class="cl-e7d01600"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">61</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015ec"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">dont</span></p></td><td class="cl-e7d015ed"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">60</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015f6"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">im</span></p></td><td class="cl-e7d01600"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">57</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015ec"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">mock</span></p></td><td class="cl-e7d015ed"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">56</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015f6"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">turtle</span></p></td><td class="cl-e7d01600"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">56</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015ec"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">gryphon</span></p></td><td class="cl-e7d015ed"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">55</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015f6"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">hatter</span></p></td><td class="cl-e7d01600"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">55</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015ec"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">head</span></p></td><td class="cl-e7d015ed"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">48</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015f6"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">voice</span></p></td><td class="cl-e7d01600"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">47</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015ec"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">looked</span></p></td><td class="cl-e7d015ed"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">45</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d015f6"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">rabbit</span></p></td><td class="cl-e7d01600"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">43</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e7d01601"><p class="cl-e7cff8b4"><span class="cl-e7cb625e">round</span></p></td><td class="cl-e7d0160a"><p class="cl-e7cff8c8"><span class="cl-e7cb625e">41</span></p></td></tr></tbody></table></div>
<p>Word frequency lists can be presented visually in several ways, with
bar graphs being the most common and intuitive choice for
visualization.</p>
<pre class="r"><code>wfreq_wostop %&gt;%
  head(10) %&gt;%
  ggplot(aes(x = reorder(word, -frequency, mean), y = frequency)) +
  geom_bar(stat = &quot;identity&quot;) +
  labs(title = &quot;10 most frequent non-stop words \nin the example text&quot;,
       x = &quot;&quot;) +
  theme(axis.text.x = element_text(angle = 45, size = 12, hjust = 1))</code></pre>
<p><img src="textanalysis_files/figure-html/wf6-1.png" width="672" /></p>
<div id="wordclouds" class="section level2 unnumbered">
<h2 class="unnumbered">Wordclouds</h2>
<p>Alternatively, word frequency lists can be visually represented as
word clouds, though they provide less detailed information. Word clouds
are visual representations where words appear larger based on their
frequency, offering a quick visual summary of word importance in a
dataset.</p>
<pre class="r"><code># create a word cloud visualization
text %&gt;%
  # Convert text data to a quanteda corpus
  quanteda::corpus() %&gt;%
  # tokenize the corpus, removing punctuation
  quanteda::tokens(remove_punct = TRUE) %&gt;%
  # remove English stopwords
  quanteda::tokens_remove(stopwords(&quot;english&quot;)) %&gt;%
  # create a document-feature matrix (DFM)
  quanteda::dfm() %&gt;%
  # generate a word cloud using textplot_wordcloud
  quanteda.textplots::textplot_wordcloud(
    # maximum words to display in the word cloud
    max_words = 150,
    # determine the maximum size of words
    max_size = 10,
    # determine the minimum size of words
    min_size = 1.5,
    # Define a color palette for the word cloud
    color = scales::viridis_pal(option = &quot;A&quot;)(10))  </code></pre>
<p><img src="textanalysis_files/figure-html/wc1-1.png" width="672" /></p>
<p><br></p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
The <code>textplot_wordcloud</code> function creates a word cloud
visualization of text data in R. Its main arguments are <code>x</code>
(a Document-Feature Matrix or DFM), <code>max_words</code> (maximum
words to display), and <code>color</code> (color palette for the word
cloud).<br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>Another form of word clouds, known as <em>comparison clouds</em>, is
helpful in discerning disparities between texts. For instance, we can
load various texts and assess how they vary in terms of word
frequencies. To illustrate this, we’ll load Herman Melville’s <em>Moby
Dick</em>, George Orwell’s <em>1984</em>, and Charles Darwin’s
<em>Origin</em>.</p>
<p>First, we’ll load these texts and combine them into single
documents.</p>
<pre class="r"><code># load data
orwell_sep &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/orwell.rda&quot;, &quot;rb&quot;))
orwell &lt;- orwell_sep %&gt;%
  paste0(collapse = &quot; &quot;)
melville_sep &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/melville.rda&quot;, &quot;rb&quot;))
melville &lt;- melville_sep %&gt;%
  paste0(collapse = &quot; &quot;)
darwin_sep &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/darwin.rda&quot;, &quot;rb&quot;))
darwin &lt;- darwin_sep %&gt;%
  paste0(collapse = &quot; &quot;)</code></pre>
<p>Now, we generate a corpus object from these texts and create a
variable with the author name.</p>
<pre class="r"><code>corp_dom &lt;- quanteda::corpus(c(darwin, melville, orwell)) 
attr(corp_dom, &quot;docvars&quot;)$Author = c(&quot;Darwin&quot;, &quot;Melville&quot;, &quot;Orwell&quot;)</code></pre>
<p>Now, we can remove so-called <em>stopwords</em> (non-lexical function
words) and punctuation and generate the comparison cloud.</p>
<pre class="r"><code># create a comparison word cloud for a corpus
corp_dom %&gt;%
  # tokenize the corpus, removing punctuation, symbols, and numbers
  quanteda::tokens(remove_punct = TRUE,
                   remove_symbols = TRUE,
                   remove_numbers = TRUE) %&gt;%
  # remove English stopwords
  quanteda::tokens_remove(stopwords(&quot;english&quot;)) %&gt;%
  # create a Document-Feature Matrix (DFM)
  quanteda::dfm() %&gt;%
  # group the DFM by the &#39;Author&#39; column from &#39;corp_dom&#39;
  quanteda::dfm_group(groups = corp_dom$Author) %&gt;%
  # trim the DFM, keeping terms that occur at least 10 times
  quanteda::dfm_trim(min_termfreq = 10, verbose = FALSE) %&gt;%
  # generate a comparison word cloud
  quanteda.textplots::textplot_wordcloud(
    # create a comparison word cloud
    comparison = TRUE,  
    # set colors for different groups
    color = c(&quot;darkgray&quot;, &quot;orange&quot;, &quot;purple&quot;),  
    # define the maximum number of words to display in the word cloud
    max_words = 150)  </code></pre>
<p><img src="textanalysis_files/figure-html/wc4-1.png" width="672" /></p>
</div>
<div id="frequency-changes" class="section level2 unnumbered">
<h2 class="unnumbered">Frequency changes</h2>
<p>We can also explore how the term <em>alice</em> is used throughout
the chapters of our example text. To begin, let’s extract the word count
for each chapter.</p>
<pre class="r"><code># extract the number of words per chapter
Words &lt;- text_chapters %&gt;%
  # split each chapter into words based on spaces
  stringr::str_split(&quot; &quot;)  %&gt;%
  # measure the length (number of words) in each chapter
  lengths()
# display the resulting data, which contains the word counts per chapter
Words</code></pre>
<pre><code>##  [1]    8 2364 2125 1765 2616 2339 2609 2307 2487 2272 2058 1886 2153</code></pre>
<p>Next, we extract the number of matches in each chapter.</p>
<pre class="r"><code># extract the number of matches of &quot;alice&quot; per chapter
Matches &lt;- text_chapters %&gt;%
  # count the number of times &quot;alice&quot; appears in each chapter
  stringr::str_count(&quot;alice&quot;)
# display the resulting data, which shows the number of matches of &quot;alice&quot; per chapter
Matches</code></pre>
<pre><code>##  [1]  1 28 26 23 31 35 43 51 39 52 30 16 23</code></pre>
<p>Now, we extract the names of the chapters and create a table with the
chapter names and the relative frequency of matches per 1,000 words.</p>
<pre class="r"><code># extract chapters
Chapters &lt;- paste0(&quot;chapter &quot;, 0:(length(text_chapters)-1))
Chapters</code></pre>
<pre><code>##  [1] &quot;chapter 0&quot;  &quot;chapter 1&quot;  &quot;chapter 2&quot;  &quot;chapter 3&quot;  &quot;chapter 4&quot; 
##  [6] &quot;chapter 5&quot;  &quot;chapter 6&quot;  &quot;chapter 7&quot;  &quot;chapter 8&quot;  &quot;chapter 9&quot; 
## [11] &quot;chapter 10&quot; &quot;chapter 11&quot; &quot;chapter 12&quot;</code></pre>
<p>Next, we combine the information in a single data frame and add a
column containing the relative frequency of <em>alice</em> in each
chapter.</p>
<pre class="r"><code># create table of results
tb &lt;- data.frame(Chapters, Matches, Words) %&gt;%
  # create new variable with the relative frequency
  dplyr::mutate(Frequency = round(Matches/Words*1000, 2))</code></pre>
<div class="tabwid"><style>.cl-fd53e862{table-layout:auto;width:50%;}.cl-fd4113f4{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-fd41143a{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-fd48b05a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-fd48b06e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-fd48d512{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d51c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d526{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d527{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d530{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d53a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d544{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d545{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d54e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d558{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d559{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-fd48d562{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-fd53e862'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Words and their (relative) freqeuncy across in the example text by frequency.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-fd48d512"><p class="cl-fd48b05a"><span class="cl-fd4113f4">Chapters</span></p></th><th class="cl-fd48d51c"><p class="cl-fd48b06e"><span class="cl-fd4113f4">Matches</span></p></th><th class="cl-fd48d51c"><p class="cl-fd48b06e"><span class="cl-fd4113f4">Words</span></p></th><th class="cl-fd48d526"><p class="cl-fd48b06e"><span class="cl-fd4113f4">Frequency</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-fd48d527"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 0</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">1</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">8</span></p></td><td class="cl-fd48d53a"><p class="cl-fd48b06e"><span class="cl-fd41143a">125.00</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d544"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 1</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">28</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,364</span></p></td><td class="cl-fd48d54e"><p class="cl-fd48b06e"><span class="cl-fd41143a">11.84</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d527"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 2</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">26</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,125</span></p></td><td class="cl-fd48d53a"><p class="cl-fd48b06e"><span class="cl-fd41143a">12.24</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d544"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 3</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">23</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">1,765</span></p></td><td class="cl-fd48d54e"><p class="cl-fd48b06e"><span class="cl-fd41143a">13.03</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d527"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 4</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">31</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,616</span></p></td><td class="cl-fd48d53a"><p class="cl-fd48b06e"><span class="cl-fd41143a">11.85</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d544"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 5</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">35</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,339</span></p></td><td class="cl-fd48d54e"><p class="cl-fd48b06e"><span class="cl-fd41143a">14.96</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d527"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 6</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">43</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,609</span></p></td><td class="cl-fd48d53a"><p class="cl-fd48b06e"><span class="cl-fd41143a">16.48</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d544"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 7</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">51</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,307</span></p></td><td class="cl-fd48d54e"><p class="cl-fd48b06e"><span class="cl-fd41143a">22.11</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d527"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 8</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">39</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,487</span></p></td><td class="cl-fd48d53a"><p class="cl-fd48b06e"><span class="cl-fd41143a">15.68</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d544"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 9</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">52</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,272</span></p></td><td class="cl-fd48d54e"><p class="cl-fd48b06e"><span class="cl-fd41143a">22.89</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d527"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 10</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">30</span></p></td><td class="cl-fd48d530"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,058</span></p></td><td class="cl-fd48d53a"><p class="cl-fd48b06e"><span class="cl-fd41143a">14.58</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d544"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 11</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">16</span></p></td><td class="cl-fd48d545"><p class="cl-fd48b06e"><span class="cl-fd41143a">1,886</span></p></td><td class="cl-fd48d54e"><p class="cl-fd48b06e"><span class="cl-fd41143a">8.48</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-fd48d558"><p class="cl-fd48b05a"><span class="cl-fd41143a">chapter 12</span></p></td><td class="cl-fd48d559"><p class="cl-fd48b06e"><span class="cl-fd41143a">23</span></p></td><td class="cl-fd48d559"><p class="cl-fd48b06e"><span class="cl-fd41143a">2,153</span></p></td><td class="cl-fd48d562"><p class="cl-fd48b06e"><span class="cl-fd41143a">10.68</span></p></td></tr></tbody></table></div>
<p>Now, let’s visualize the relative frequencies of our search term in
each chapter.</p>
<pre class="r"><code># create a plot using ggplot
ggplot(tb, aes(x = Chapters, y = Frequency, group = 1)) + 
  # add a smoothed line (trendline) in purple color
  geom_smooth(color = &quot;purple&quot;) +
  # add a line plot in dark gray color
  geom_line(color = &quot;darkgray&quot;) +         
  # remove fill from the legend
  guides(color = guide_legend(override.aes = list(fill = NA))) +
  # set a white and black theme
  theme_bw() +
  # rotate x-axis text by 45 degrees and adjust alignment
  theme(axis.text.x = element_text(angle = 45, hjust = 1))+
  # customize the y-axis label
  scale_y_continuous(name = &quot;Relative Frequency (per 1,000 words)&quot;)</code></pre>
<p><img src="textanalysis_files/figure-html/wf18-1.png" width="672" /></p>
</div>
<div id="dispersion-plots" class="section level2 unnumbered">
<h2 class="unnumbered">Dispersion plots</h2>
<p>To show when in a text or in a collection of texts certain terms
occur, we can use <em>dispersion plots</em>. The <code>quanteda</code>
package offers a very easy-to-use function <code>textplot_xray</code> to
generate dispersion plots.</p>
<pre class="r"><code># add chapter names
names(text_chapters) &lt;- Chapters
# generate corpus from chapters
text_corpus &lt;- quanteda::corpus(text_chapters)
# generate dispersion plots
quanteda.textplots::textplot_xray(kwic(text_corpus, pattern = &quot;alice&quot;),
                                  kwic(text_corpus, pattern = &quot;hatter&quot;),
                                  sort = T)</code></pre>
<p><img src="textanalysis_files/figure-html/dp-1.png" width="672" /></p>
<p>We can modify the plot by saving it into an object and then use
<code>ggplot</code> to modify it appearance.</p>
<pre class="r"><code># generate and save dispersion plots
dp &lt;- quanteda.textplots::textplot_xray(kwic(text_corpus, pattern = &quot;alice&quot;),
                                        kwic(text_corpus, pattern = &quot;cat&quot;))
# modify plot
dp + aes(color = keyword) + 
  scale_color_manual(values = c(&#39;red&#39;, &#39;blue&#39;)) +
  theme(legend.position = &quot;none&quot;)</code></pre>
<p><img src="textanalysis_files/figure-html/dp2-1.png" width="672" /></p>
</div>
<div id="over--and-underuse" class="section level2 unnumbered">
<h2 class="unnumbered">Over- and underuse</h2>
<p>Frequency data serves as a valuable lens through which we can explore
the essence of a text. For instance, when we examine private dialogues,
we often encounter higher occurrences of second-person pronouns compared
to more formal text types like scripted monologues or speeches. This
insight holds the potential to aid in text classification and assessing
text formality.</p>
<p>To illustrate, consider the following statistics: the counts of
second-person pronouns, <em>you</em> and <em>your</em>, as well as the
total word count excluding these pronouns in private dialogues versus
scripted monologues within the Irish segment of the International Corpus
of English (ICE). Additionally, the tables provide the percentage of
second-person pronouns in both text types, enabling us to discern
whether private dialogues indeed contain more of these pronouns compared
to scripted monologues, such as speeches.</p>
<div class="tabwid"><style>.cl-ff67d0fa{table-layout:auto;width:50%;}.cl-ff5b0ee2{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ff5b0ef6{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ff5f8d8c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ff5faa9c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faaa6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faaa7{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faab0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faab1{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faaba{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faabb{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faac4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faace{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faacf{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faad0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff5faad8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-ff67d0fa'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Use of 2nd person pronouns (and all other words) in ICE Ireland.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-ff5faa9c"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ee2">.</span></p></th><th class="cl-ff5faaa6"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ee2">Private dialogues</span></p></th><th class="cl-ff5faaa7"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ee2">Scripted monologues</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ff5faab0"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">you, your</span></p></td><td class="cl-ff5faab1"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">6761</span></p></td><td class="cl-ff5faaba"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">659</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff5faabb"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">Other words</span></p></td><td class="cl-ff5faac4"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">259625</span></p></td><td class="cl-ff5faace"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">105295</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff5faacf"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">Percent</span></p></td><td class="cl-ff5faad0"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">2.60</span></p></td><td class="cl-ff5faad8"><p class="cl-ff5f8d8c"><span class="cl-ff5b0ef6">0.63</span></p></td></tr></tbody></table></div>
<p>This straightforward example highlights that second-person pronouns
constitute 2.6 percent of all words in private dialogues, yet they
represent only 0.63 percent in scripted speeches. To vividly illustrate
such variations, we can employ association and mosaic plots, which offer
effective visual presentations.</p>
<pre class="r"><code># create a matrix &#39;d&#39; with the specified values and dimensions
d &lt;- matrix(c(6761, 659, 259625, 105295), nrow = 2, byrow = TRUE)
# assign column names to the matrix
colnames(d) &lt;- c(&quot;D&quot;, &quot;M&quot;)
# assign row names to the matrix
rownames(d) &lt;- c(&quot;you, your&quot;, &quot;Other words&quot;)
# generate an association plot using &#39;assocplot&#39; function
assocplot(d)</code></pre>
<p><img src="textanalysis_files/figure-html/ou2-1.png" width="672" /></p>
<p>In an association plot, bars above the dashed line signify relative
overuse, while bars below indicate relative underuse. Accordingly, the
plot reveals that in monologues, there’s an underuse of <em>you</em> and
<em>your</em> and an overuse of <em>other words</em>. Conversely, in
dialogues, the opposite patterns emerge: an overuse of <em>you</em> and
<em>your</em> and an underuse of <em>other words</em>. This visual
representation helps us grasp the distinctive word usage patterns
between these text types.</p>
</div>
</div>
<div id="collocations" class="section level1 unnumbered">
<h1 class="unnumbered">Collocations</h1>
<p>Collocations are like linguistic buddies. They’re those word pairs
that just seem to go hand in hand, like <em>Merry Christmas</em>. You
see, these words have a special relationship – they occur together way
more often than if words were just randomly strung together in a
sentence.</p>
<p>Before we start tough, it is important to understand that identifying
words pairs (w1 and w2) that collocate (i.e. collocations) and
determining their association strength (a measure of how strongly
attracted words are to each other) is based on the co-occurrence
frequencies of word pairs in a contingency table (see below, <em>O</em>
is short for <em>observed frequency</em>).</p>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">w<sub>2</sub> present</th>
<th align="right">w<sub>2</sub> absent</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>w<sub>1</sub> present</strong></td>
<td align="center">O<sub>11</sub></td>
<td align="right">O<sub>12</sub></td>
<td>= R<sub>1</sub></td>
</tr>
<tr class="even">
<td align="left"><strong>w<sub>1</sub> absent</strong></td>
<td align="center">O<sub>21</sub></td>
<td align="right">O<sub>22</sub></td>
<td>= R<sub>2</sub></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="center">= C<sub>1</sub></td>
<td align="right">= C<sub>2</sub></td>
<td>= N</td>
</tr>
</tbody>
</table>
<p>In the following, we will extract collocations from the sentences in
our example text. In a first step, we split our example text into
sentences and clean the data (removing punctuation, converting to lower
case, etc.).</p>
<pre class="r"><code>text %&gt;% 
  # concatenate the elements in the &#39;text&#39; object
  paste0(collapse = &quot; &quot;) %&gt;%
  # split text into sentences
  tokenizers::tokenize_sentences() %&gt;%
  # unlist sentences
  unlist() %&gt;%
  # remove non-word characters
  stringr::str_replace_all(&quot;\\W&quot;, &quot; &quot;) %&gt;%
  stringr::str_replace_all(&quot;[^[:alnum:] ]&quot;, &quot; &quot;) %&gt;%
  # remove superfluous white spaces
  stringr::str_squish() %&gt;%
  # convert to lower case and save in &#39;sentences&#39; object
  tolower() -&gt; sentences</code></pre>
<div class="tabwid"><style>.cl-ff9c1518{table-layout:auto;width:95%;}.cl-ff90cc08{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ff90cc12{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ff94e1e4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ff94ffa8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff94ffa9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff94ffb2{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ff94ffbc{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-ff9c1518'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 sentences in the example text</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-ff94ffa8"><p class="cl-ff94e1e4"><span class="cl-ff90cc08">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffa9"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">alice s adventures in wonderland by lewis carroll chapter i</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffb2"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">down the rabbit hole alice was beginning to get very tired of sitting by her sister on the bank and of having nothing to do once or twice she had peeped into the book her sister was reading but it had no pictures or conversations in it and what is the use of a book thought alice without pictures or conversations</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffa9"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">so she was considering in her own mind as well as she could for the hot day made her feel very sleepy and stupid whether the pleasure of making a daisy chain would be worth the trouble of getting up and picking the daisies when suddenly a white rabbit with pink eyes ran close by her</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffb2"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">there was nothing so very remarkable in that nor did alice think it so very much out of the way to hear the rabbit say to itself oh dear</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffa9"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">oh dear</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffb2"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">i shall be late</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffa9"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">when she thought it over afterwards it occurred to her that she ought to have wondered at this but at the time it all seemed quite natural but when the rabbit actually took a watch out of its waistcoat pocket and looked at it and then hurried on alice started to her feet for it flashed across her mind that she had never before seen a rabbit with either a waistcoat pocket or a watch to take out of it and burning with curiosity she ran across the field after it and fortunately was just in time to see it pop down a large rabbit hole under the hedge</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffb2"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">in another moment down went alice after it never once considering how in the world she was to get out again</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffa9"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">the rabbit hole went straight on like a tunnel for some way and then dipped suddenly down so suddenly that alice had not a moment to think about stopping herself before she found herself falling down a very deep well</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ff94ffbc"><p class="cl-ff94e1e4"><span class="cl-ff90cc12">either the well was very deep or she fell very slowly for she had plenty of time as she went down to look about her and to wonder what was going to happen next</span></p></td></tr></tbody></table></div>
<p>Next, we tabulate the data and reformat it so that we have the
relevant information to calculate the association statistics (word 1 and
word 2 as well as O11, O12, O21, and O22).</p>
<pre class="r"><code># tokenize the &#39;sentences&#39; data using quanteda package
sentences %&gt;%
  quanteda::tokens() %&gt;%

  # create a document-feature matrix (dfm) using quanteda
  quanteda::dfm() %&gt;%

  # create a feature co-occurrence matrix (fcm) without considering trigrams
  quanteda::fcm(tri = FALSE) %&gt;%

  # tidy the data using tidytext package
  tidytext::tidy() %&gt;%

  # rearrange columns for better readability
  dplyr::relocate(term, document, count) %&gt;%

  # rename columns for better interpretation
  dplyr::rename(w1 = 1,
                w2 = 2,
                O11 = 3) -&gt; coll_basic</code></pre>
<div class="tabwid"><style>.cl-ffd4ef32{table-layout:auto;width:95%;}.cl-ffc5d09c{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ffc5d0b0{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-ffcaa23e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ffcaa252{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-ffcad8d0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad8e4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad8ee{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad8f8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad902{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad903{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad90c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad916{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad917{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad920{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad921{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-ffcad92a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-ffd4ef32'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 rows of basic collocation table</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-ffcad8d0"><p class="cl-ffcaa23e"><span class="cl-ffc5d09c">w1</span></p></th><th class="cl-ffcad8e4"><p class="cl-ffcaa23e"><span class="cl-ffc5d09c">w2</span></p></th><th class="cl-ffcad8ee"><p class="cl-ffcaa252"><span class="cl-ffc5d09c">O11</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-ffcad8f8"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad902"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad903"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">11</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad90c"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad916"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">s</span></p></td><td class="cl-ffcad917"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">67</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad8f8"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad902"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">adventures</span></p></td><td class="cl-ffcad903"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">6</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad90c"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad916"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">in</span></p></td><td class="cl-ffcad917"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">137</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad8f8"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad902"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">wonderland</span></p></td><td class="cl-ffcad903"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad90c"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad916"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">by</span></p></td><td class="cl-ffcad917"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">18</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad8f8"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad902"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">lewis</span></p></td><td class="cl-ffcad903"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad90c"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad916"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">carroll</span></p></td><td class="cl-ffcad917"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad8f8"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad902"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">chapter</span></p></td><td class="cl-ffcad903"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-ffcad920"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">alice</span></p></td><td class="cl-ffcad921"><p class="cl-ffcaa23e"><span class="cl-ffc5d0b0">i</span></p></td><td class="cl-ffcad92a"><p class="cl-ffcaa252"><span class="cl-ffc5d0b0">163</span></p></td></tr></tbody></table></div>
<p>We now enhance our table by calculating all observed frequencies
(O11, O12, O21, O22) as well as row totals (R1, R2), column totals (C1,
C2), and the overall total (N).</p>
<pre class="r"><code>  # calculate the total number of observations (N)
coll_basic %&gt;%  dplyr::mutate(N = sum(O11)) %&gt;%

  # calculate R1, O12, and R2
  dplyr::group_by(w1) %&gt;%
  dplyr::mutate(R1 = sum(O11),
                O12 = R1 - O11,
                R2 = N - R1) %&gt;%
  dplyr::ungroup(w1) %&gt;%

  # calculate C1, O21, C2, and O22
  dplyr::group_by(w2) %&gt;%
  dplyr::mutate(C1 = sum(O11),
                O21 = C1 - O11,
                C2 = N - C1,
                O22 = R2 - O21) -&gt; colldf</code></pre>
<div class="tabwid"><style>.cl-0018f2a4{table-layout:auto;width:95%;}.cl-0006e8ac{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0006e8c0{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-000cd172{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-000cd186{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-000cfe54{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfe5e{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfe68{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfe72{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfe86{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfe87{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfe90{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfe9a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfea4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfea5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfeae{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfeaf{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfeb8{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfec2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfecc{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-000cfecd{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0018f2a4'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 rows of collocation table</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-000cfe54"><p class="cl-000cd172"><span class="cl-0006e8ac">w1</span></p></th><th class="cl-000cfe5e"><p class="cl-000cd172"><span class="cl-0006e8ac">w2</span></p></th><th class="cl-000cfe68"><p class="cl-000cd186"><span class="cl-0006e8ac">O11</span></p></th><th class="cl-000cfe68"><p class="cl-000cd186"><span class="cl-0006e8ac">N</span></p></th><th class="cl-000cfe68"><p class="cl-000cd186"><span class="cl-0006e8ac">R1</span></p></th><th class="cl-000cfe68"><p class="cl-000cd186"><span class="cl-0006e8ac">O12</span></p></th><th class="cl-000cfe68"><p class="cl-000cd186"><span class="cl-0006e8ac">R2</span></p></th><th class="cl-000cfe68"><p class="cl-000cd186"><span class="cl-0006e8ac">C1</span></p></th><th class="cl-000cfe68"><p class="cl-000cd186"><span class="cl-0006e8ac">O21</span></p></th><th class="cl-000cfe68"><p class="cl-000cd186"><span class="cl-0006e8ac">C2</span></p></th><th class="cl-000cfe72"><p class="cl-000cd186"><span class="cl-0006e8ac">O22</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-000cfe86"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfe87"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">11</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,679</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,679</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfe9a"><p class="cl-000cd186"><span class="cl-0006e8c0">870,833</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfea4"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfea5"><p class="cl-000cd172"><span class="cl-0006e8c0">s</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">67</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9,623</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">4,812</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">4,745</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">885,390</span></p></td><td class="cl-000cfeaf"><p class="cl-000cd186"><span class="cl-0006e8c0">875,767</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfe86"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfe87"><p class="cl-000cd172"><span class="cl-0006e8c0">adventures</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">6</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,684</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">263</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">257</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">889,939</span></p></td><td class="cl-000cfe9a"><p class="cl-000cd186"><span class="cl-0006e8c0">880,255</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfea4"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfea5"><p class="cl-000cd172"><span class="cl-0006e8c0">in</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">137</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9,553</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">12,600</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">12,463</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">877,602</span></p></td><td class="cl-000cfeaf"><p class="cl-000cd186"><span class="cl-0006e8c0">868,049</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfe86"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfe87"><p class="cl-000cd172"><span class="cl-0006e8c0">wonderland</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">1</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,689</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">229</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">228</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">889,973</span></p></td><td class="cl-000cfe9a"><p class="cl-000cd186"><span class="cl-0006e8c0">880,284</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfea4"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfea5"><p class="cl-000cd172"><span class="cl-0006e8c0">by</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">18</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9,672</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">2,131</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">2,113</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">888,071</span></p></td><td class="cl-000cfeaf"><p class="cl-000cd186"><span class="cl-0006e8c0">878,399</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfe86"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfe87"><p class="cl-000cd172"><span class="cl-0006e8c0">lewis</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">1</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,689</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">8</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">890,193</span></p></td><td class="cl-000cfe9a"><p class="cl-000cd186"><span class="cl-0006e8c0">880,504</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfea4"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfea5"><p class="cl-000cd172"><span class="cl-0006e8c0">carroll</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">1</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9,689</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">9</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">8</span></p></td><td class="cl-000cfeae"><p class="cl-000cd186"><span class="cl-0006e8c0">890,193</span></p></td><td class="cl-000cfeaf"><p class="cl-000cd186"><span class="cl-0006e8c0">880,504</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfe86"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfe87"><p class="cl-000cd172"><span class="cl-0006e8c0">chapter</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">1</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">9,689</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">20</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">19</span></p></td><td class="cl-000cfe90"><p class="cl-000cd186"><span class="cl-0006e8c0">890,182</span></p></td><td class="cl-000cfe9a"><p class="cl-000cd186"><span class="cl-0006e8c0">880,493</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-000cfeb8"><p class="cl-000cd172"><span class="cl-0006e8c0">alice</span></p></td><td class="cl-000cfec2"><p class="cl-000cd172"><span class="cl-0006e8c0">i</span></p></td><td class="cl-000cfecc"><p class="cl-000cd186"><span class="cl-0006e8c0">163</span></p></td><td class="cl-000cfecc"><p class="cl-000cd186"><span class="cl-0006e8c0">890,202</span></p></td><td class="cl-000cfecc"><p class="cl-000cd186"><span class="cl-0006e8c0">9,690</span></p></td><td class="cl-000cfecc"><p class="cl-000cd186"><span class="cl-0006e8c0">9,527</span></p></td><td class="cl-000cfecc"><p class="cl-000cd186"><span class="cl-0006e8c0">880,512</span></p></td><td class="cl-000cfecc"><p class="cl-000cd186"><span class="cl-0006e8c0">11,764</span></p></td><td class="cl-000cfecc"><p class="cl-000cd186"><span class="cl-0006e8c0">11,601</span></p></td><td class="cl-000cfecc"><p class="cl-000cd186"><span class="cl-0006e8c0">878,438</span></p></td><td class="cl-000cfecd"><p class="cl-000cd186"><span class="cl-0006e8c0">868,911</span></p></td></tr></tbody></table></div>
<p>We could calculate all collocations in the corpus (based on
co-occurrence within the same sentence) or we can find collocations of a
specific term - here, we will find collocations fo the term
<em>alice</em>.</p>
<p>Now that we have all the relevant information, we will reduce the
data and add additional information to the data so that the computing of
the association measures runs smoothly.</p>
<pre class="r"><code># reduce and complement data
colldf %&gt;%
# determine Term
  dplyr::filter(w1 == &quot;alice&quot;,
                # set minimum number of occurrences of w2
                (O11+O21) &gt; 10,
                # set minimum number of co-occurrences of w1 and w2
                O11 &gt; 5)  %&gt;%
  dplyr::rowwise() %&gt;%
  dplyr::mutate(E11 = R1 * C1 / N, 
                E12 = R1 * C2 / N,
                E21 = R2 * C1 / N, 
                E22 = R2 * C2 / N)  -&gt; colldf_redux</code></pre>
<div class="tabwid"><style>.cl-0066c2b8{table-layout:auto;width:95%;}.cl-0051e154{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0051e172{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0059211c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-00592130{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-00595312{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595326{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595330{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595331{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0059533a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595344{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0059534e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595358{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595362{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595363{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0059536c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0059536d{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595376{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595377{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-00595380{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0059538a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0066c2b8'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 rows of reduced collocation data frame</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-00595312"><p class="cl-0059211c"><span class="cl-0051e154">w1</span></p></th><th class="cl-00595326"><p class="cl-0059211c"><span class="cl-0051e154">w2</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">O11</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">N</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">R1</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">O12</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">R2</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">C1</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">O21</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">C2</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">O22</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">E11</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">E12</span></p></th><th class="cl-00595330"><p class="cl-00592130"><span class="cl-0051e154">E21</span></p></th><th class="cl-00595331"><p class="cl-00592130"><span class="cl-0051e154">E22</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0059533a"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595344"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">11</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,679</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,679</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">870,833</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">105.47730</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,584.523</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,584.5227</span></p></td><td class="cl-00595358"><p class="cl-00592130"><span class="cl-0051e172">870,927.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-00595362"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595363"><p class="cl-0059211c"><span class="cl-0051e172">s</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">67</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,623</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">4,812</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">4,745</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">885,390</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">875,767</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">52.37944</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,637.621</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">4,759.6206</span></p></td><td class="cl-0059536d"><p class="cl-00592130"><span class="cl-0051e172">875,752.4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0059533a"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595344"><p class="cl-0059211c"><span class="cl-0051e172">adventures</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">6</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,684</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">263</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">257</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">889,939</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">880,255</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">2.86280</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,687.137</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">260.1372</span></p></td><td class="cl-00595358"><p class="cl-00592130"><span class="cl-0051e172">880,251.9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-00595362"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595363"><p class="cl-0059211c"><span class="cl-0051e172">in</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">137</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,553</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">12,600</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">12,463</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">877,602</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">868,049</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">137.15314</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,552.847</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">12,462.8469</span></p></td><td class="cl-0059536d"><p class="cl-00592130"><span class="cl-0051e172">868,049.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0059533a"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595344"><p class="cl-0059211c"><span class="cl-0051e172">by</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">18</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,672</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">2,131</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">2,113</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">888,071</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">878,399</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">23.19630</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,666.804</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">2,107.8037</span></p></td><td class="cl-00595358"><p class="cl-00592130"><span class="cl-0051e172">878,404.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-00595362"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595363"><p class="cl-0059211c"><span class="cl-0051e172">i</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">163</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,527</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">11,764</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">11,601</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">878,438</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">868,911</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">128.05314</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,561.947</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">11,635.9469</span></p></td><td class="cl-0059536d"><p class="cl-00592130"><span class="cl-0051e172">868,876.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0059533a"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595344"><p class="cl-0059211c"><span class="cl-0051e172">down</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">37</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,653</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">3,494</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">3,457</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">886,708</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">877,055</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">38.03278</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,651.967</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">3,455.9672</span></p></td><td class="cl-00595358"><p class="cl-00592130"><span class="cl-0051e172">877,056.0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-00595362"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595363"><p class="cl-0059211c"><span class="cl-0051e172">the</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">477</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,213</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">53,304</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">52,827</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">836,898</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">827,685</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">580.22310</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">9,109.777</span></p></td><td class="cl-0059536c"><p class="cl-00592130"><span class="cl-0051e172">52,723.7769</span></p></td><td class="cl-0059536d"><p class="cl-00592130"><span class="cl-0051e172">827,788.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0059533a"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595344"><p class="cl-0059211c"><span class="cl-0051e172">rabbit</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">23</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,667</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">1,710</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">1,687</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">888,492</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">878,825</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">18.61364</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">9,671.386</span></p></td><td class="cl-0059534e"><p class="cl-00592130"><span class="cl-0051e172">1,691.3864</span></p></td><td class="cl-00595358"><p class="cl-00592130"><span class="cl-0051e172">878,820.6</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-00595376"><p class="cl-0059211c"><span class="cl-0051e172">alice</span></p></td><td class="cl-00595377"><p class="cl-0059211c"><span class="cl-0051e172">was</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">155</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">890,202</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">9,690</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">9,535</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">880,512</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">13,666</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">13,511</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">876,536</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">867,001</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">148.75673</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">9,541.243</span></p></td><td class="cl-00595380"><p class="cl-00592130"><span class="cl-0051e172">13,517.2433</span></p></td><td class="cl-0059538a"><p class="cl-00592130"><span class="cl-0051e172">866,994.8</span></p></td></tr></tbody></table></div>
<p>Now we can calculate the collocation statistics (the association
strength).</p>
<pre class="r"><code>colldf_redux %&gt;%
    # work row-wise
    dplyr::rowwise() %&gt;%
    # calculate fishers&#39; exact test
    dplyr::mutate(p = as.vector(unlist(fisher.test(matrix(c(O11, O12, O21, O22), 
                                                        ncol = 2, byrow = T))[1]))) %&gt;%

    # extract x2 statistics
    dplyr::mutate(X2 = (O11-E11)^2/E11 + (O12-E12)^2/E12 + (O21-E21)^2/E21 + (O22-E22)^2/E22) %&gt;%

    # extract association measures
    dplyr::mutate(phi = sqrt((X2 / N)),
                Dice = (2 * O11) / (R1 + C1),
                MI = log2(O11 / E11),
                MS = min((O11/C1), (O11/R1)),
                t.score = (O11 - E11) / sqrt(O11),
                z.score = (O11 - E11) / sqrt(E11),
                PMI = log2( (O11 / N) / ((O11+O12) / N) * 
                              ((O11+O21) / N) ),
                DeltaP12 = (O11 / (O11 + O12)) - (O21 / (O21 + O22)),
                DeltaP21 =  (O11 / (O11 + O21)) - (O21 / (O12 + O22)),
                DP = (O11 / R1) - (O21 / R2),
                OddsRatio = log(((O11 + 0.5) * (O22 + 0.5))  / ( (O12 + 0.5) * (O21 + 0.5) )),
                # calculate LL aka G2
                G2 = 2 * (O11 * log(O11 / E11) + O12 * log(O12 / E12) + O21 * log(O21 / E21) + O22 * log(O22 / E22))) %&gt;%

    # simplify significance
    dplyr::mutate(Significance = dplyr::case_when(p &lt;= .001 ~ &quot;p&lt;.001&quot;,
                                                p &lt;= .01 ~ &quot;p&lt;.01&quot;,
                                                p &lt;= .05 ~ &quot;p&lt;.05&quot;, 
                                                TRUE ~ &quot;n.s.&quot;)) %&gt;%
    # round p-value

    dplyr::mutate(p = round(p, 5)) %&gt;%
    # filter out non significant results
    dplyr::filter(Significance != &quot;n.s.&quot;,
                # filter out instances where the w1 and w2 repel each other
                E11 &lt; O11) %&gt;%
    # arrange by phi (association measure)
    dplyr::arrange(-phi) %&gt;%
    # remove superfluous columns
    dplyr::select(-any_of(c(&quot;TermCoocFreq&quot;, &quot;AllFreq&quot;, &quot;NRows&quot;, &quot;E12&quot;, &quot;E21&quot;, 
                            &quot;E22&quot;, &quot;O12&quot;, &quot;O21&quot;, &quot;O22&quot;, &quot;R1&quot;, &quot;R2&quot;, &quot;C1&quot;, &quot;C2&quot;))) -&gt; assoc_tb</code></pre>
<div class="tabwid"><style>.cl-018ce42e{table-layout:auto;width:95%;}.cl-017d1f8a{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-017d1f9e{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0181cb52{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0181cb5c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0181ec9a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181eca4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecae{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecaf{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecb8{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecb9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecc2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecc3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181eccc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181eccd{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecd6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ece0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecea{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181eceb{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecec{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0181ecf4{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-018ce42e'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 rows of association statistics table</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0181ec9a"><p class="cl-0181cb52"><span class="cl-017d1f8a">w1</span></p></th><th class="cl-0181eca4"><p class="cl-0181cb52"><span class="cl-017d1f8a">w2</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">O11</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">N</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">E11</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">p</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">X2</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">phi</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">Dice</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">MI</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">MS</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">t.score</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">z.score</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">PMI</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">DeltaP12</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">DeltaP21</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">DP</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">OddsRatio</span></p></th><th class="cl-0181ecae"><p class="cl-0181cb5c"><span class="cl-017d1f8a">G2</span></p></th><th class="cl-0181ecaf"><p class="cl-0181cb52"><span class="cl-017d1f8a">Significance</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0181ecb8"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181ecb9"><p class="cl-0181cb52"><span class="cl-017d1f9e">said</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">179</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">87.538536</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00000</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">97.492567</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.010465054</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.020189488</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.0319694</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0184726522</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">6.836151</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">9.775489</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-12.548900</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0095426206</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0133447957</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0095426206</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.7392205</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">75.096077</span></p></td><td class="cl-0181ecc3"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.001</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181eccc"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181eccd"><p class="cl-0181cb52"><span class="cl-017d1f9e">thought</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">60</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">22.086010</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00000</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">65.951703</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.008607335</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.010239782</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.4418297</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0061919505</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">4.894675</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">8.067535</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-16.112610</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0039557515</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0273543069</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0039557515</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.0304387</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">44.971372</span></p></td><td class="cl-0181ece0"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.001</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181ecb8"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181ecb9"><p class="cl-0181cb52"><span class="cl-017d1f9e">very</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">86</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">53.587691</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00003</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">19.930426</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.004731665</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.011770341</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.6824350</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0088751290</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.495109</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">4.427692</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-14.314467</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0033817342</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0120052087</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0033817342</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.4887549</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">16.862749</span></p></td><td class="cl-0181ecc3"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.001</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181eccc"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181eccd"><p class="cl-0181cb52"><span class="cl-017d1f9e">turning</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">7</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.621890</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00132</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">18.032827</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.004500778</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.001422909</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">2.1096787</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0007223942</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">2.032734</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">4.222979</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-22.979531</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0005611244</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0468203247</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0005611244</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.5654805</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">9.917938</span></p></td><td class="cl-0181ece0"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.01</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181ecb8"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181ecb9"><p class="cl-0181cb52"><span class="cl-017d1f9e">replied</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">14</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">5.126915</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00081</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">15.533749</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.004177283</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.002755634</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.4492639</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0014447884</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">2.371432</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.918741</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-20.319116</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0009257722</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0292103531</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0009257722</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.0586565</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">10.559623</span></p></td><td class="cl-0181ecc3"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.001</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181eccc"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181eccd"><p class="cl-0181cb52"><span class="cl-017d1f9e">afraid</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">10</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.200240</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00164</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">14.611721</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.004051412</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.002003205</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.6437480</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0010319917</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">2.150273</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.801039</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-21.484454</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0007094521</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0336944713</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0007094521</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.2107100</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">9.352745</span></p></td><td class="cl-0181ece0"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.01</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181ecb8"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181ecb9"><p class="cl-0181cb52"><span class="cl-017d1f9e">to</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">334</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">276.232956</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00058</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">12.571828</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.003757984</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.019049249</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.2739627</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0131615242</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.160872</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.475701</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-9.991116</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0060271174</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-0.0157957793</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0060271174</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.1998464</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">11.808894</span></p></td><td class="cl-0181ecc3"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.001</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181eccc"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181eccd"><p class="cl-0181cb52"><span class="cl-017d1f9e">i</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">163</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">128.053139</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00269</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">9.771402</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.003313097</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.015195302</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.3481294</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0138558313</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">2.737249</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.088254</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-12.135235</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0036461765</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0006494355</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0036461765</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.2509822</span></p></td><td class="cl-0181ecd6"><p class="cl-0181cb5c"><span class="cl-017d1f9e">9.006015</span></p></td><td class="cl-0181ece0"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.01</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181ecb8"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181ecb9"><p class="cl-0181cb52"><span class="cl-017d1f9e">cried</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">10</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.962202</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00729</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">9.305752</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.003233192</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.001989258</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.3356257</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0010319917</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">1.909319</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">3.033265</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-21.176331</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0006299529</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0270747023</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0006299529</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.9906554</span></p></td><td class="cl-0181ecc2"><p class="cl-0181cb5c"><span class="cl-017d1f9e">6.545738</span></p></td><td class="cl-0181ecc3"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.01</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0181ecea"><p class="cl-0181cb52"><span class="cl-017d1f9e">alice</span></p></td><td class="cl-0181eceb"><p class="cl-0181cb52"><span class="cl-017d1f9e">much</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">32</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">890,202</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">19.440913</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.00805</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">8.219112</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.003038563</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.005576856</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.7189759</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0033023736</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">2.220154</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">2.848392</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">-17.203538</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0013103508</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0159428329</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.0013103508</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">0.5219727</span></p></td><td class="cl-0181ecec"><p class="cl-0181cb5c"><span class="cl-017d1f9e">6.882615</span></p></td><td class="cl-0181ecf4"><p class="cl-0181cb52"><span class="cl-017d1f9e">p&lt;.01</span></p></td></tr></tbody></table></div>
<p>The resulting table shows collocations in the example text descending
by collocation strength.</p>
<p>We now use a <a href="https://ladal.edu.au/net.html">network
graph</a>, or network for short, to visualise the collocations of our
keyword (<em>alice</em>). Networks are a powerful and versatile visual
representation used to depict relationships or connections among various
elements. Network graphs typically consist of nodes, representing
individual entities, and edges, indicating the connections or
interactions between these entities.</p>
<p>We start by extracting the tokens that we want to show (the top 20
collocates of <em>alice</em>).</p>
<pre class="r"><code># sort the coocStatz data frame in descending order based on the &#39;phi&#39; column
top20colls &lt;- assoc_tb %&gt;%
  dplyr::arrange(-phi) %&gt;%
  # select the top 20 rows after sorting
  head(20) %&gt;%
  # extract the &#39;token&#39; column 
  dplyr::pull(w2) %&gt;%
  # add keyword
  c(&quot;alice&quot;)
# inspect the top 20 tokens with the highest &#39;phi&#39; values
top20colls</code></pre>
<pre><code>##  [1] &quot;said&quot;    &quot;thought&quot; &quot;very&quot;    &quot;turning&quot; &quot;replied&quot; &quot;afraid&quot;  &quot;to&quot;     
##  [8] &quot;i&quot;       &quot;cried&quot;   &quot;much&quot;    &quot;nothing&quot; &quot;think&quot;   &quot;silent&quot;  &quot;say&quot;    
## [15] &quot;timidly&quot; &quot;glad&quot;    &quot;t&quot;       &quot;sir&quot;     &quot;looked&quot;  &quot;please&quot;  &quot;alice&quot;</code></pre>
<p>We then need to generate a feature co-occurrence matrix from a
document-feature matrix based on the cleaned, lower case sentences of
our text.</p>
<pre class="r"><code># tokenize the &#39;sentences&#39; data using quanteda package
keyword_fcm &lt;- sentences %&gt;%
  quanteda::tokens() %&gt;%
  # create a document-feature matrix (dfm) from the tokens
  quanteda::dfm() %&gt;%
  # select features based on &#39;top20colls&#39; and the term &quot;selection&quot; pattern
  quanteda::dfm_select(pattern = c(top20colls, &quot;selection&quot;)) %&gt;%
  # Create a symmetric feature co-occurrence matrix (fcm) 
  quanteda::fcm(tri = FALSE)
# inspect the first 6 rows and 6 columns of the resulting fcm
keyword_fcm[1:6, 1:6]</code></pre>
<pre><code>## Feature co-occurrence matrix of: 6 by 6 features.
##          features
## features  alice   i  to very nothing thought
##   alice      11 163 334   86      18      60
##   i         163 269 307   48      12      33
##   to        334 307 321  155      32      68
##   very       86  48 155   12       5      12
##   nothing    18  12  32    5       0       4
##   thought    60  33  68   12       4       0</code></pre>
<pre class="r"><code># create a network plot using the fcm
quanteda.textplots::textplot_network(keyword_fcm,
                                     # set the transparency of edges to 0.8 for visibility
                                     edge_alpha = 0.8,
                                     # set the color of edges to gray
                                     edge_color = &quot;gray&quot;,
                                     # set the size of edges to 2 for better visibility
                                     edge_size = 2,
                                     # adjust the size of vertex labels 
                                     # based on the logarithm of row sums of the fcm
                                     vertex_labelsize = log(rowSums(keyword_fcm)))</code></pre>
<p><img src="textanalysis_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="keywords" class="section level1 unnumbered">
<h1 class="unnumbered">Keywords</h1>
<p>Keywords play a pivotal role in text analysis, serving as distinctive
terms that hold particular significance within a given text, context, or
collection. This approach revolves around pinpointing words closely
associated with a specific text. In simpler terms, keyness analysis
strives to identify words that distinctly represent the content of a
given text.</p>
<p><br></p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
<b>Keyness is a statistical measure that helps identify significant
terms in text by assessing how prominently a term stands out in a
specific context by comparing its frequency to what’s expected based on
background data.</b><br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>To determine if a token is a keyword and if it occurs significantly
more frequently in a target corpus compared to a reference corpus, we
use the following information (that is provided by the table above):</p>
<ul>
<li><p>O11 = Number of times word<sub>x</sub> occurs in
<code>target corpus</code></p></li>
<li><p>O12 = Number of times word<sub>x</sub> occurs in
<code>reference corpus</code> (without
<code>target corpus</code>)</p></li>
<li><p>O21 = Number of times other words occur in
<code>target corpus</code></p></li>
<li><p>O22 = Number of times other words occur in
<code>reference corpus</code></p></li>
</ul>
<p>Example:</p>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="center">target corpus</th>
<th align="right">reference corpus</th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><strong>token</strong></td>
<td align="center">O<sub>11</sub></td>
<td align="right">O<sub>12</sub></td>
<td>= R<sub>1</sub></td>
</tr>
<tr class="even">
<td align="left"><strong>other tokens</strong></td>
<td align="center">O<sub>21</sub></td>
<td align="right">O<sub>22</sub></td>
<td>= R<sub>2</sub></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="center">= C<sub>1</sub></td>
<td align="right">= C<sub>2</sub></td>
<td>= N</td>
</tr>
</tbody>
</table>
<p>First, we’ll load two texts.</p>
<pre class="r"><code># load data
text1 &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/orwell.rda&quot;, &quot;rb&quot;)) %&gt;%
  paste0(collapse = &quot; &quot;)
text2 &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/melville.rda&quot;, &quot;rb&quot;))  %&gt;%
  paste0(collapse = &quot; &quot;)</code></pre>
<div class="tabwid"><style>.cl-02e14694{table-layout:auto;width:95%;}.cl-02d45d62{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-02d45d76{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-02d95ca4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-02d97752{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-02d9775c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-02e14694'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 200 characters of text 1</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-02d97752"><p class="cl-02d95ca4"><span class="cl-02d45d62">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-02d9775c"><p class="cl-02d95ca4"><span class="cl-02d45d76">1984 George Orwell Part 1, Chapter 1 It was a bright cold day in April, and the clocks were striking thirteen. Winston Smith, his chin nuzzled into his breast in an effort to escape the vile wind, sli</span></p></td></tr></tbody></table></div>
<p>As you can see, text1 is George Orwell’s <em>1984</em>.</p>
<div class="tabwid"><style>.cl-02f8f5be{table-layout:auto;width:95%;}.cl-02ec1b1e{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-02ec1b32{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-02f1a26e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-02f1bb82{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-02f1bb8c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-02f8f5be'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 200 characters of text 2</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-02f1bb82"><p class="cl-02f1a26e"><span class="cl-02ec1b1e">.</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-02f1bb8c"><p class="cl-02f1a26e"><span class="cl-02ec1b32">MOBY-DICK; or, THE WHALE. By Herman Melville CHAPTER 1. Loomings. Call me Ishmael. Some years ago—never mind how long precisely—having little or no money in my purse, and nothing particular to interes</span></p></td></tr></tbody></table></div>
<p>The table shows that text2 is Herman Melville’s <em>Moby
Dick</em>.</p>
<p>After loading the two texts, we create a frequency table of first
text.</p>
<pre class="r"><code>text1_words &lt;- text1 %&gt;%
  # remove non-word characters
  stringr::str_remove_all(&quot;[^[:alpha:] ]&quot;) %&gt;%
  # convert to lower
  tolower() %&gt;%
  # tokenize the corpus files
  quanteda::tokens(remove_punct = T, 
                   remove_symbols = T,
                   remove_numbers = T) %&gt;%
  # unlist the tokens to create a data frame
  unlist() %&gt;%
  as.data.frame() %&gt;%
  # rename the column to &#39;token&#39;
  dplyr::rename(token = 1) %&gt;%
  # group by &#39;token&#39; and count the occurrences
  dplyr::group_by(token) %&gt;%
  dplyr::summarise(n = n()) %&gt;%
  # add column stating where the frequency list is &#39;from&#39;
  dplyr::mutate(type = &quot;text1&quot;)</code></pre>
<p>Now, we create a frequency table of second text.</p>
<pre class="r"><code>text2_words &lt;- text2 %&gt;%
  # remove non-word characters
  stringr::str_remove_all(&quot;[^[:alpha:] ]&quot;) %&gt;%
  # convert to lower
  tolower() %&gt;%
  # tokenize the corpus files
  quanteda::tokens(remove_punct = T, 
                   remove_symbols = T,
                   remove_numbers = T) %&gt;%
  # unlist the tokens to create a data frame
  unlist() %&gt;%
  as.data.frame() %&gt;%
  # rename the column to &#39;token&#39;
  dplyr::rename(token = 1) %&gt;%
  # group by &#39;token&#39; and count the occurrences
  dplyr::group_by(token) %&gt;%
  dplyr::summarise(n = n()) %&gt;%
  # add column stating where the frequency list is &#39;from&#39;
  dplyr::mutate(type = &quot;text2&quot;)</code></pre>
<p>In a next step, we combine the tables.</p>
<pre class="r"><code>texts_df &lt;- dplyr::left_join(text1_words, text2_words, by = c(&quot;token&quot;)) %&gt;%
  # rename columns and select relevant columns
  dplyr::rename(text1 = n.x,
                text2 = n.y) %&gt;%
  dplyr::select(-type.x, -type.y) %&gt;%
  # replace NA values with 0 in &#39;corpus&#39; and &#39;kwic&#39; columns
  tidyr::replace_na(list(text1 = 0, text2 = 0))</code></pre>
<div class="tabwid"><style>.cl-03b2fc3e{table-layout:auto;width:95%;}.cl-03a364ae{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-03a364c2{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-03a800c2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-03a800d6{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-03a8219c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821a6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821b0{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821ba{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821bb{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821c4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821ce{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821d8{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821d9{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821e2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821ec{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-03a821ed{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-03b2fc3e'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Frequency table of tokens in text1 and text2</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-03a8219c"><p class="cl-03a800c2"><span class="cl-03a364ae">token</span></p></th><th class="cl-03a821a6"><p class="cl-03a800d6"><span class="cl-03a364ae">text1</span></p></th><th class="cl-03a821b0"><p class="cl-03a800d6"><span class="cl-03a364ae">text2</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-03a821ba"><p class="cl-03a800c2"><span class="cl-03a364c2">a</span></p></td><td class="cl-03a821bb"><p class="cl-03a800d6"><span class="cl-03a364c2">2,390</span></p></td><td class="cl-03a821c4"><p class="cl-03a800d6"><span class="cl-03a364c2">4,536</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821ce"><p class="cl-03a800c2"><span class="cl-03a364c2">aaronson</span></p></td><td class="cl-03a821d8"><p class="cl-03a800d6"><span class="cl-03a364c2">8</span></p></td><td class="cl-03a821d9"><p class="cl-03a800d6"><span class="cl-03a364c2">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821ba"><p class="cl-03a800c2"><span class="cl-03a364c2">aback</span></p></td><td class="cl-03a821bb"><p class="cl-03a800d6"><span class="cl-03a364c2">2</span></p></td><td class="cl-03a821c4"><p class="cl-03a800d6"><span class="cl-03a364c2">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821ce"><p class="cl-03a800c2"><span class="cl-03a364c2">abandon</span></p></td><td class="cl-03a821d8"><p class="cl-03a800d6"><span class="cl-03a364c2">3</span></p></td><td class="cl-03a821d9"><p class="cl-03a800d6"><span class="cl-03a364c2">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821ba"><p class="cl-03a800c2"><span class="cl-03a364c2">abandoned</span></p></td><td class="cl-03a821bb"><p class="cl-03a800d6"><span class="cl-03a364c2">4</span></p></td><td class="cl-03a821c4"><p class="cl-03a800d6"><span class="cl-03a364c2">7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821ce"><p class="cl-03a800c2"><span class="cl-03a364c2">abashed</span></p></td><td class="cl-03a821d8"><p class="cl-03a800d6"><span class="cl-03a364c2">1</span></p></td><td class="cl-03a821d9"><p class="cl-03a800d6"><span class="cl-03a364c2">2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821ba"><p class="cl-03a800c2"><span class="cl-03a364c2">abbreviated</span></p></td><td class="cl-03a821bb"><p class="cl-03a800d6"><span class="cl-03a364c2">1</span></p></td><td class="cl-03a821c4"><p class="cl-03a800d6"><span class="cl-03a364c2">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821ce"><p class="cl-03a800c2"><span class="cl-03a364c2">abiding</span></p></td><td class="cl-03a821d8"><p class="cl-03a800d6"><span class="cl-03a364c2">1</span></p></td><td class="cl-03a821d9"><p class="cl-03a800d6"><span class="cl-03a364c2">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821ba"><p class="cl-03a800c2"><span class="cl-03a364c2">ability</span></p></td><td class="cl-03a821bb"><p class="cl-03a800d6"><span class="cl-03a364c2">1</span></p></td><td class="cl-03a821c4"><p class="cl-03a800d6"><span class="cl-03a364c2">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-03a821e2"><p class="cl-03a800c2"><span class="cl-03a364c2">abject</span></p></td><td class="cl-03a821ec"><p class="cl-03a800d6"><span class="cl-03a364c2">3</span></p></td><td class="cl-03a821ed"><p class="cl-03a800d6"><span class="cl-03a364c2">0</span></p></td></tr></tbody></table></div>
<p>We now calculate the frequencies of the observed and expected
frequencies as well as the row and column totals.</p>
<pre class="r"><code>texts_df %&gt;%
  dplyr::mutate(text1 = as.numeric(text1),
                text2 = as.numeric(text2)) %&gt;%
  dplyr::mutate(C1 = sum(text1),
                C2 = sum(text2),
                N = C1 + C2) %&gt;%
  dplyr::rowwise() %&gt;%
  dplyr::mutate(R1 = text1+text2,
                R2 = N - R1,
                O11 = text1,
                O12 = R1-O11,
                O21 = C1-O11,
                O22 = C2-O12) %&gt;%
  dplyr::mutate(E11 = (R1 * C1) / N,
                E12 = (R1 * C2) / N,
                E21 = (R2 * C1) / N,
                E22 = (R2 * C2) / N) %&gt;%
  dplyr::select(-text1, -text2) -&gt; stats_tb2</code></pre>
<div class="tabwid"><style>.cl-04469430{table-layout:auto;width:95%;}.cl-043acd8a{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-043acd9e{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-043efb4e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-043efb62{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-043f1a84{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1a98{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1a99{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1aa2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1aa3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1aac{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1aad{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1ab6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1ab7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1ac0{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1ac1{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-043f1ac2{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-04469430'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 rows of the processed frequency table</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-043f1a84"><p class="cl-043efb4e"><span class="cl-043acd8a">token</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">C1</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">C2</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">N</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">R1</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">R2</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">O11</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">O12</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">O21</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">O22</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">E11</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">E12</span></p></th><th class="cl-043f1a98"><p class="cl-043efb62"><span class="cl-043acd8a">E21</span></p></th><th class="cl-043f1a99"><p class="cl-043efb62"><span class="cl-043acd8a">E22</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-043f1aa2"><p class="cl-043efb4e"><span class="cl-043acd9e">a</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">6,926</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">256,914</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">2,390</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">4,536</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">92,287</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">164,627</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">2,485.3430185</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">4,440.6569815</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">92,191.66</span></p></td><td class="cl-043f1aac"><p class="cl-043efb62"><span class="cl-043acd9e">164,722.3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1aad"><p class="cl-043efb4e"><span class="cl-043acd9e">aaronson</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">8</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">263,832</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">8</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">0</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,669</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">2.8707398</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">5.1292602</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,674.13</span></p></td><td class="cl-043f1ab7"><p class="cl-043efb62"><span class="cl-043acd9e">169,157.9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1aa2"><p class="cl-043efb4e"><span class="cl-043acd9e">aback</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">4</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,836</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">2</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">2</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,675</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,161</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">1.4353699</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">2.5646301</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,675.56</span></p></td><td class="cl-043f1aac"><p class="cl-043efb62"><span class="cl-043acd9e">169,160.4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1aad"><p class="cl-043efb4e"><span class="cl-043acd9e">abandon</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">6</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">263,834</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">3</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">3</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,674</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">169,160</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">2.1530549</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">3.8469451</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,674.85</span></p></td><td class="cl-043f1ab7"><p class="cl-043efb62"><span class="cl-043acd9e">169,159.2</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1aa2"><p class="cl-043efb4e"><span class="cl-043acd9e">abandoned</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">11</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,829</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">4</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">7</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,673</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,156</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">3.9472673</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">7.0527327</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,673.05</span></p></td><td class="cl-043f1aac"><p class="cl-043efb62"><span class="cl-043acd9e">169,155.9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1aad"><p class="cl-043efb4e"><span class="cl-043acd9e">abashed</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">3</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">263,837</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">1</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">2</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,676</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">169,161</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">1.0765274</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">1.9234726</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,675.92</span></p></td><td class="cl-043f1ab7"><p class="cl-043efb62"><span class="cl-043acd9e">169,161.1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1aa2"><p class="cl-043efb4e"><span class="cl-043acd9e">abbreviated</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">1</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,839</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">1</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">0</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,676</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">0.3588425</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">0.6411575</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,676.64</span></p></td><td class="cl-043f1aac"><p class="cl-043efb62"><span class="cl-043acd9e">169,162.4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1aad"><p class="cl-043efb4e"><span class="cl-043acd9e">abiding</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">2</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">263,838</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">1</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">1</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,676</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">169,162</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">0.7176850</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">1.2823150</span></p></td><td class="cl-043f1ab6"><p class="cl-043efb62"><span class="cl-043acd9e">94,676.28</span></p></td><td class="cl-043f1ab7"><p class="cl-043efb62"><span class="cl-043acd9e">169,161.7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1aa2"><p class="cl-043efb4e"><span class="cl-043acd9e">ability</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">2</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">263,838</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">1</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">1</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,676</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">169,162</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">0.7176850</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">1.2823150</span></p></td><td class="cl-043f1aa3"><p class="cl-043efb62"><span class="cl-043acd9e">94,676.28</span></p></td><td class="cl-043f1aac"><p class="cl-043efb62"><span class="cl-043acd9e">169,161.7</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-043f1ac0"><p class="cl-043efb4e"><span class="cl-043acd9e">abject</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">94,677</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">263,840</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">3</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">263,837</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">3</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">0</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">94,674</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">169,163</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">1.0765274</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">1.9234726</span></p></td><td class="cl-043f1ac1"><p class="cl-043efb62"><span class="cl-043acd9e">94,675.92</span></p></td><td class="cl-043f1ac2"><p class="cl-043efb62"><span class="cl-043acd9e">169,161.1</span></p></td></tr></tbody></table></div>
<p>We can now calculate the association strength which, in this case
serves as a keyness measure.</p>
<pre class="r"><code>stats_tb2 %&gt;%
    # work row-wise
    dplyr::rowwise() %&gt;%
    # calculate fishers&#39; exact test
    dplyr::mutate(p = as.vector(unlist(fisher.test(matrix(c(O11, O12, O21, O22), 
                                                        ncol = 2, byrow = T))[1]))) %&gt;%

    # extract x2 statistics
    dplyr::mutate(X2 = (O11-E11)^2/E11 + (O12-E12)^2/E12 + (O21-E21)^2/E21 + (O22-E22)^2/E22) %&gt;%
    # extract expected frequency
    dplyr::mutate(Exp = E11) %&gt;%

    # extract association measures
    dplyr::mutate(phi = sqrt((X2 / N)),
                MS = min((O11/C1), (O11/R1)),
                Dice = (2 * O11) / (R1 + C1),
                MI = log2(O11 / E11),
                t.score = (O11 - E11) / sqrt(O11),
                z.score = (O11 - E11) / sqrt(E11),
                PMI = log2( (O11 / N) / ((O11+O12) / N) * 
                              ((O11+O21) / N) ),
                DeltaP12 = (O11 / (O11 + O12)) - (O21 / (O21 + O22)),
                DeltaP21 =  (O11 / (O11 + O21)) - (O21 / (O12 + O22)),
                DP = (O11 / R1) - (O21 / R2),
                OddsRatio = log(((O11 + 0.5) * (O22 + 0.5))  / ( (O12 + 0.5) * (O21 + 0.5) )),
                # calculate LL aka G2
                G2 = 2 * (O11 * log(O11 / E11) + O12 * log(O12 / E12) + O21 * log(O21 / E21) + O22 * log(O22 / E22))) %&gt;%

    # simplify significance
    dplyr::mutate(Significance = dplyr::case_when(p &lt;= .001 ~ &quot;p&lt;.001&quot;,
                                                p &lt;= .01 ~ &quot;p&lt;.01&quot;,
                                                p &lt;= .05 ~ &quot;p&lt;.05&quot;, 
                                                TRUE ~ &quot;n.s.&quot;)) %&gt;%
    # round p-value

    dplyr::mutate(p = round(p, 5),
                  type = ifelse(E11 &gt; O11, &quot;antitype&quot;, &quot;type&quot;)) %&gt;%
    # filter out non significant results
    dplyr::filter(Significance != &quot;n.s.&quot;) %&gt;%
    # arrange by phi (association measure)
    dplyr::arrange(-DeltaP12) %&gt;%
    # remove superfluous columns
    dplyr::select(-any_of(c(&quot;TermCoocFreq&quot;, &quot;AllFreq&quot;, &quot;NRows&quot;, &quot;E12&quot;, &quot;E21&quot;, 
                            &quot;E22&quot;, &quot;O12&quot;, &quot;O21&quot;, &quot;O22&quot;, &quot;R1&quot;, &quot;R2&quot;, &quot;C1&quot;, &quot;C2&quot;, &quot;Exp&quot;))) -&gt; assoc_tb3</code></pre>
<div class="tabwid"><style>.cl-0985083c{table-layout:auto;width:95%;}.cl-0977b088{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0977b092{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-097c56c4{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-097c56d8{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-097c7726{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c7730{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c773a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c773b{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c7744{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c7745{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c7746{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c774e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c7758{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c7759{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c775a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c7762{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c776c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c776d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c776e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-097c7776{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0985083c'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 rows of the association statistic table</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-097c7726"><p class="cl-097c56c4"><span class="cl-0977b088">token</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">N</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">O11</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">E11</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">p</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">X2</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">phi</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">MS</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">Dice</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">MI</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">t.score</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">z.score</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">PMI</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">DeltaP12</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">DeltaP21</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">DP</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">OddsRatio</span></p></th><th class="cl-097c7730"><p class="cl-097c56d8"><span class="cl-0977b088">G2</span></p></th><th class="cl-097c773a"><p class="cl-097c56c4"><span class="cl-0977b088">Significance</span></p></th><th class="cl-097c773b"><p class="cl-097c56c4"><span class="cl-0977b088">type</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-097c7744"><p class="cl-097c56c4"><span class="cl-0977b092">winston</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">440</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">157.89069</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">787.47801</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.05463223</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0046473800</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0092517636</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">13.449034</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">22.451179</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6422285</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5524307</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6422285</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">7.366105</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c7746"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c774e"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c7758"><p class="cl-097c56c4"><span class="cl-0977b092">obrien</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">178</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">63.87396</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">318.25409</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.03473095</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.0018800765</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.0037530968</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">8.554108</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">14.279823</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.6415904</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5567468</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.6415904</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">6.460007</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c775a"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c7762"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c7744"><p class="cl-097c56c4"><span class="cl-0977b092">telescreen</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">90</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">32.29582</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">160.86130</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.02469195</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0009506005</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0018993954</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">6.082554</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">10.153928</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6413763</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5581965</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6413763</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">5.779837</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c7746"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c774e"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c7758"><p class="cl-097c56c4"><span class="cl-0977b092">julia</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">78</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">27.98971</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">139.40678</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.02298644</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.0008238537</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.0016463511</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">5.662550</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">9.452792</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.6413471</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5583942</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.6413471</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">5.637459</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c775a"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c7762"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c7744"><p class="cl-097c56c4"><span class="cl-0977b092">winstons</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">70</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">25.11897</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">125.10486</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.02177543</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0007393559</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0014776193</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">5.364309</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">8.954923</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6413277</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5585260</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6413277</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">5.529889</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c7746"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c774e"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c7758"><p class="cl-097c56c4"><span class="cl-0977b092">oceania</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">60</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">21.53055</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">107.22867</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.02015975</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.0006337336</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.0012666646</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">4.966385</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">8.290647</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.6413034</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5586907</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.6413034</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">5.376814</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c775a"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c7762"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c7744"><p class="cl-097c56c4"><span class="cl-0977b092">proles</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">42</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">15.07138</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">75.05495</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.01686628</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0004436135</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0008868337</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">4.155176</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">6.936453</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6412596</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5589872</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6412596</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">5.023484</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c7746"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c774e"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c7758"><p class="cl-097c56c4"><span class="cl-0977b092">newspeak</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">40</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">14.35370</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">71.48036</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.01645974</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.0004224891</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.0008446213</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">4.055036</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">6.769285</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.6412547</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5590202</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">0.6412547</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092">4.975261</span></p></td><td class="cl-097c7759"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c775a"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c7762"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c7744"><p class="cl-097c56c4"><span class="cl-0977b092">parsons</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">40</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">14.35370</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">71.48036</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.01645974</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0004224891</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.0008446213</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">4.055036</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">6.769285</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6412547</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5590202</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">0.6412547</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092">4.975261</span></p></td><td class="cl-097c7745"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c7746"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c774e"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-097c776c"><p class="cl-097c56c4"><span class="cl-0977b092">eurasia</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">263,840</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">35</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">12.55949</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">0</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">62.54413</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">0.01539653</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">0.0003696780</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">0.0007390827</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">1.478577</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">3.793139</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">6.332086</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">-1.478577</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">0.6412426</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">-0.5591025</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">0.6412426</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092">4.843439</span></p></td><td class="cl-097c776d"><p class="cl-097c56d8"><span class="cl-0977b092"></span></p></td><td class="cl-097c776e"><p class="cl-097c56c4"><span class="cl-0977b092">p&lt;.001</span></p></td><td class="cl-097c7776"><p class="cl-097c56c4"><span class="cl-0977b092">type</span></p></td></tr></tbody></table></div>
<p>We can use a barplot to visualize the association strength (keyness)
of words with a text.</p>
<pre class="r"><code># get top 10 keywords for text 1
top &lt;- assoc_tb3 %&gt;% dplyr::ungroup() %&gt;% dplyr::slice_head(n = 10)
# get top 10 keywords for text 2
bot &lt;- assoc_tb3 %&gt;% dplyr::ungroup() %&gt;% dplyr::slice_tail(n = 10)
# combine into table
rbind(top, bot) %&gt;%
  # create a ggplot
  ggplot(aes(x = reorder(token, DeltaP12, mean), y = DeltaP12, label = DeltaP12, fill = type)) +
  # add a bar plot using the &#39;phi&#39; values
  geom_bar(stat = &quot;identity&quot;) +
  # add text labels above the bars with rounded &#39;phi&#39; values
  geom_text(aes(y = ifelse(DeltaP12&gt; 0, DeltaP12 - 0.05, DeltaP12 + 0.05), 
                label = round(DeltaP12, 3)), color = &quot;white&quot;, size = 3) + 
  # flip the coordinates to have horizontal bars
  coord_flip() +
  # set the theme to a basic white and black theme
  theme_bw() +
  # remove legend
  theme(legend.position = &quot;none&quot;) +
    # define colors
  scale_fill_manual(values = c(&quot;mediumblue&quot;, &quot;orange&quot;)) +
  # set the x-axis label to &quot;Token&quot; and y-axis label to &quot;Association strength (phi)&quot;
  labs(title = &quot;Top 10 keywords for text1 and text 2&quot;, x = &quot;Keyword&quot;, y = &quot;Association strength (DeltaP12)&quot;)</code></pre>
<p><img src="textanalysis_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
<div id="text-classification" class="section level1 unnumbered">
<h1 class="unnumbered">Text Classification</h1>
<p>Text classification involves methods for categorizing text into
predefined groups, like languages, genres, or authors. These
categorizations usually rely on the frequency of word types, important
terms, phonetic elements, and other linguistic characteristics such as
sentence length and words per line.</p>
<p>Like many other text analysis methods, text classification often
starts with a training dataset already marked with the necessary labels.
You can create these training datasets and their associated features
manually or opt for pre-built training sets offered by specific software
or tools.</p>
<p><br></p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
<b>Text classification is a machine learning task where text documents
are categorized into predefined classes or labels based on their
content.</b> It involves training a model on labeled data to learn
patterns and then using that model to classify new, unlabeled documents.
Text classification has numerous applications, such as spam detection,
sentiment analysis, and topic categorization.<br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>In the upcoming example, we’ll use phoneme frequency to classify a
text. To get started, we’ll load a German text and break it down into
its constituent phonetic elements.</p>
<pre class="r"><code># read in German text
German &lt;- readLines(&quot;https://slcladal.github.io/data/phonemictext1.txt&quot;) %&gt;%
  stringr::str_remove_all(&quot; &quot;) %&gt;%
  stringr::str_split(&quot;&quot;) %&gt;%
  unlist()
# inspect data
head(German, 20)</code></pre>
<pre><code>##  [1] &quot;?&quot; &quot;a&quot; &quot;l&quot; &quot;s&quot; &quot;h&quot; &quot;E&quot; &quot;s&quot; &quot;@&quot; &quot;d&quot; &quot;e&quot; &quot;:&quot; &quot;n&quot; &quot;S&quot; &quot;t&quot; &quot;E&quot; &quot;p&quot; &quot;@&quot; &quot;n&quot; &quot;v&quot;
## [20] &quot;O&quot;</code></pre>
<p>We now do the same for three other texts - an English and a Spanish
text as well as one text in a language that we will determine using
classification.</p>
<pre class="r"><code># read in texts
English &lt;- readLines(&quot;https://slcladal.github.io/data/phonemictext2.txt&quot;)
Spanish &lt;- readLines(&quot;https://slcladal.github.io/data/phonemictext3.txt&quot;)
Unknown &lt;- readLines(&quot;https://slcladal.github.io/data/phonemictext4.txt&quot;)
# clean, split texts into phonemes, unlist and convert them into vectors
English &lt;- as.vector(unlist(strsplit(gsub(&quot; &quot;, &quot;&quot;, English), &quot;&quot;)))
Spanish &lt;- as.vector(unlist(strsplit(gsub(&quot; &quot;, &quot;&quot;, Spanish), &quot;&quot;)))
Unknown &lt;- as.vector(unlist(strsplit(gsub(&quot; &quot;, &quot;&quot;, Unknown), &quot;&quot;)))
# inspect data
head(English, 20)</code></pre>
<pre><code>##  [1] &quot;D&quot;  &quot;@&quot;  &quot;b&quot;  &quot;U&quot;  &quot;k&quot;  &quot;I&quot;  &quot;z&quot;  &quot;p&quot;  &quot;r&quot;  &quot;\\&quot; &quot;@&quot;  &quot;z&quot;  &quot;E&quot;  &quot;n&quot;  &quot;t&quot; 
## [16] &quot;@&quot;  &quot;d&quot;  &quot;{&quot;  &quot;z&quot;  &quot;@&quot;</code></pre>
<p>We will now create a table that represents the phonemes and their
frequencies in each of the 4 texts. In addition, we will add the
language and simply the column names.</p>
<pre class="r"><code># create data tables
German &lt;- data.frame(names(table(German)), as.vector(table(German)))
English &lt;- data.frame(names(table(English)), as.vector(table(English)))
Spanish &lt;- data.frame(names(table(Spanish)), as.vector(table(Spanish)))
Unknown &lt;- data.frame(names(table(Unknown)), as.vector(table(Unknown)))
# add column with language
German$Language &lt;- &quot;German&quot;
English$Language &lt;- &quot;English&quot;
Spanish$Language &lt;- &quot;Spanish&quot;
Unknown$Language &lt;- &quot;Unknown&quot;
# simplify column names
colnames(German)[1:2] &lt;- c(&quot;Phoneme&quot;, &quot;Frequency&quot;)
colnames(English)[1:2] &lt;- c(&quot;Phoneme&quot;, &quot;Frequency&quot;)
colnames(Spanish)[1:2] &lt;- c(&quot;Phoneme&quot;, &quot;Frequency&quot;)
colnames(Unknown)[1:2] &lt;- c(&quot;Phoneme&quot;, &quot;Frequency&quot;)
# combine all tables into a single table
classdata &lt;- rbind(German, English, Spanish, Unknown) </code></pre>
<div class="tabwid"><style>.cl-0a0564e6{table-layout:auto;width:50%;}.cl-09f98b08{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-09f98b1c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-09fe323e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-09fe3252{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-09fe4fee{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe4fef{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe4ff8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe5002{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe500c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe500d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe5016{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe5017{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe5020{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe5021{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe502a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-09fe502b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0a0564e6'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>First 10 lines of the class data.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-09fe4fee"><p class="cl-09fe323e"><span class="cl-09f98b08">Phoneme</span></p></th><th class="cl-09fe4fef"><p class="cl-09fe3252"><span class="cl-09f98b08">Frequency</span></p></th><th class="cl-09fe4ff8"><p class="cl-09fe323e"><span class="cl-09f98b08">Language</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-09fe5002"><p class="cl-09fe323e"><span class="cl-09f98b1c">-</span></p></td><td class="cl-09fe500c"><p class="cl-09fe3252"><span class="cl-09f98b1c">6</span></p></td><td class="cl-09fe500d"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5016"><p class="cl-09fe323e"><span class="cl-09f98b1c">:</span></p></td><td class="cl-09fe5017"><p class="cl-09fe3252"><span class="cl-09f98b1c">569</span></p></td><td class="cl-09fe5020"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5002"><p class="cl-09fe323e"><span class="cl-09f98b1c">?</span></p></td><td class="cl-09fe500c"><p class="cl-09fe3252"><span class="cl-09f98b1c">556</span></p></td><td class="cl-09fe500d"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5016"><p class="cl-09fe323e"><span class="cl-09f98b1c">@</span></p></td><td class="cl-09fe5017"><p class="cl-09fe3252"><span class="cl-09f98b1c">565</span></p></td><td class="cl-09fe5020"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5002"><p class="cl-09fe323e"><span class="cl-09f98b1c">2</span></p></td><td class="cl-09fe500c"><p class="cl-09fe3252"><span class="cl-09f98b1c">6</span></p></td><td class="cl-09fe500d"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5016"><p class="cl-09fe323e"><span class="cl-09f98b1c">3</span></p></td><td class="cl-09fe5017"><p class="cl-09fe3252"><span class="cl-09f98b1c">31</span></p></td><td class="cl-09fe5020"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5002"><p class="cl-09fe323e"><span class="cl-09f98b1c">4</span></p></td><td class="cl-09fe500c"><p class="cl-09fe3252"><span class="cl-09f98b1c">67</span></p></td><td class="cl-09fe500d"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5016"><p class="cl-09fe323e"><span class="cl-09f98b1c">5</span></p></td><td class="cl-09fe5017"><p class="cl-09fe3252"><span class="cl-09f98b1c">1</span></p></td><td class="cl-09fe5020"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5002"><p class="cl-09fe323e"><span class="cl-09f98b1c">6</span></p></td><td class="cl-09fe500c"><p class="cl-09fe3252"><span class="cl-09f98b1c">402</span></p></td><td class="cl-09fe500d"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-09fe5021"><p class="cl-09fe323e"><span class="cl-09f98b1c">8</span></p></td><td class="cl-09fe502a"><p class="cl-09fe3252"><span class="cl-09f98b1c">32</span></p></td><td class="cl-09fe502b"><p class="cl-09fe323e"><span class="cl-09f98b1c">German</span></p></td></tr></tbody></table></div>
<p>Now, we group the data so that we see, how often each phoneme is used
in each language.</p>
<pre class="r"><code># convert into wide format
classdw &lt;- classdata %&gt;%
  tidyr::spread(Phoneme, Frequency) %&gt;%
  replace(is.na(.), 0)</code></pre>
<div class="tabwid"><style>.cl-0a2c66f4{table-layout:auto;width:50%;}.cl-0a2018f4{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0a201908{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0a24d51a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0a24d538{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0a24f6bc{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6c6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6c7{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6d0{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6d1{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6da{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6e4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6e5{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6ee{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6ef{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6f8{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a24f6f9{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0a2c66f4'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Overview of the class data in wide format.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0a24f6bc"><p class="cl-0a24d51a"><span class="cl-0a2018f4">Language</span></p></th><th class="cl-0a24f6c6"><p class="cl-0a24d538"><span class="cl-0a2018f4">'</span></p></th><th class="cl-0a24f6c6"><p class="cl-0a24d538"><span class="cl-0a2018f4">-</span></p></th><th class="cl-0a24f6c6"><p class="cl-0a24d538"><span class="cl-0a2018f4">:</span></p></th><th class="cl-0a24f6c6"><p class="cl-0a24d538"><span class="cl-0a2018f4">?</span></p></th><th class="cl-0a24f6c7"><p class="cl-0a24d538"><span class="cl-0a2018f4">@</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0a24f6d0"><p class="cl-0a24d51a"><span class="cl-0a201908">English</span></p></td><td class="cl-0a24f6d1"><p class="cl-0a24d538"><span class="cl-0a201908">7</span></p></td><td class="cl-0a24f6d1"><p class="cl-0a24d538"><span class="cl-0a201908">8</span></p></td><td class="cl-0a24f6d1"><p class="cl-0a24d538"><span class="cl-0a201908">176</span></p></td><td class="cl-0a24f6d1"><p class="cl-0a24d538"><span class="cl-0a201908">0</span></p></td><td class="cl-0a24f6da"><p class="cl-0a24d538"><span class="cl-0a201908">309</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a24f6e4"><p class="cl-0a24d51a"><span class="cl-0a201908">German</span></p></td><td class="cl-0a24f6e5"><p class="cl-0a24d538"><span class="cl-0a201908">0</span></p></td><td class="cl-0a24f6e5"><p class="cl-0a24d538"><span class="cl-0a201908">6</span></p></td><td class="cl-0a24f6e5"><p class="cl-0a24d538"><span class="cl-0a201908">569</span></p></td><td class="cl-0a24f6e5"><p class="cl-0a24d538"><span class="cl-0a201908">556</span></p></td><td class="cl-0a24f6ee"><p class="cl-0a24d538"><span class="cl-0a201908">565</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a24f6d0"><p class="cl-0a24d51a"><span class="cl-0a201908">Spanish</span></p></td><td class="cl-0a24f6d1"><p class="cl-0a24d538"><span class="cl-0a201908">0</span></p></td><td class="cl-0a24f6d1"><p class="cl-0a24d538"><span class="cl-0a201908">5</span></p></td><td class="cl-0a24f6d1"><p class="cl-0a24d538"><span class="cl-0a201908">0</span></p></td><td class="cl-0a24f6d1"><p class="cl-0a24d538"><span class="cl-0a201908">0</span></p></td><td class="cl-0a24f6da"><p class="cl-0a24d538"><span class="cl-0a201908">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a24f6ef"><p class="cl-0a24d51a"><span class="cl-0a201908">Unknown</span></p></td><td class="cl-0a24f6f8"><p class="cl-0a24d538"><span class="cl-0a201908">12</span></p></td><td class="cl-0a24f6f8"><p class="cl-0a24d538"><span class="cl-0a201908">12</span></p></td><td class="cl-0a24f6f8"><p class="cl-0a24d538"><span class="cl-0a201908">286</span></p></td><td class="cl-0a24f6f8"><p class="cl-0a24d538"><span class="cl-0a201908">0</span></p></td><td class="cl-0a24f6f9"><p class="cl-0a24d538"><span class="cl-0a201908">468</span></p></td></tr></tbody></table></div>
<p>Next, we must reshape our data to reflect the frequency of each
phoneme categorized by language. This transformation aligns with our
classifier’s design, which will employ <em>Language</em> as the
dependent variable and utilize phoneme frequencies as predictors.</p>
<pre class="r"><code>numvar &lt;- colnames(classdw)[2:length(colnames(classdw))]
classdw[numvar] &lt;- lapply(classdw[numvar], as.numeric)
# function for normalizing numeric variables
normalize &lt;- function(x) { (x-min(x))/(max(x)-min(x))   }
# apply normalization
 classdw[numvar] &lt;- as.data.frame(lapply(classdw[numvar], normalize))</code></pre>
<div class="tabwid"><style>.cl-0a555ce4{table-layout:auto;width:50%;}.cl-0a4a0a92{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0a4a0a9c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0a4dfe5e{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0a4dfe68{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0a4e1af6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b00{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b01{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b0a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b0b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b14{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b1e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b1f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b20{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b28{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b29{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a4e1b32{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0a555ce4'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Overview of the probabilities.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0a4e1af6"><p class="cl-0a4dfe5e"><span class="cl-0a4a0a92">Language</span></p></th><th class="cl-0a4e1b00"><p class="cl-0a4dfe68"><span class="cl-0a4a0a92">'</span></p></th><th class="cl-0a4e1b00"><p class="cl-0a4dfe68"><span class="cl-0a4a0a92">-</span></p></th><th class="cl-0a4e1b00"><p class="cl-0a4dfe68"><span class="cl-0a4a0a92">:</span></p></th><th class="cl-0a4e1b00"><p class="cl-0a4dfe68"><span class="cl-0a4a0a92">?</span></p></th><th class="cl-0a4e1b01"><p class="cl-0a4dfe68"><span class="cl-0a4a0a92">@</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0a4e1b0a"><p class="cl-0a4dfe5e"><span class="cl-0a4a0a9c">English</span></p></td><td class="cl-0a4e1b0b"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.5833333</span></p></td><td class="cl-0a4e1b0b"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.4285714</span></p></td><td class="cl-0a4e1b0b"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.3093146</span></p></td><td class="cl-0a4e1b0b"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0</span></p></td><td class="cl-0a4e1b14"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.5469027</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a4e1b1e"><p class="cl-0a4dfe5e"><span class="cl-0a4a0a9c">German</span></p></td><td class="cl-0a4e1b1f"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.0000000</span></p></td><td class="cl-0a4e1b1f"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.1428571</span></p></td><td class="cl-0a4e1b1f"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">1.0000000</span></p></td><td class="cl-0a4e1b1f"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">1</span></p></td><td class="cl-0a4e1b20"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">1.0000000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a4e1b0a"><p class="cl-0a4dfe5e"><span class="cl-0a4a0a9c">Spanish</span></p></td><td class="cl-0a4e1b0b"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.0000000</span></p></td><td class="cl-0a4e1b0b"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.0000000</span></p></td><td class="cl-0a4e1b0b"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.0000000</span></p></td><td class="cl-0a4e1b0b"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0</span></p></td><td class="cl-0a4e1b14"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.0000000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a4e1b28"><p class="cl-0a4dfe5e"><span class="cl-0a4a0a9c">Unknown</span></p></td><td class="cl-0a4e1b29"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">1.0000000</span></p></td><td class="cl-0a4e1b29"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">1.0000000</span></p></td><td class="cl-0a4e1b29"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.5026362</span></p></td><td class="cl-0a4e1b29"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0</span></p></td><td class="cl-0a4e1b32"><p class="cl-0a4dfe68"><span class="cl-0a4a0a9c">0.8283186</span></p></td></tr></tbody></table></div>
<p>Before turning to the actual classification, we will use a cluster
analysis to see which texts the unknown text is most similar with.</p>
<pre class="r"><code># remove language column
textm &lt;- classdw[,2:ncol(classdw)]
# add languages as row names
rownames(textm) &lt;- classdw[,1]
# create distance matrix
distmtx &lt;- dist(textm)
# perform clustering
clustertexts &lt;- hclust(distmtx, method=&quot;ward.D&quot;)  
# visualize cluster result
plot(clustertexts, hang = .25,main = &quot;&quot;)           </code></pre>
<p><img src="textanalysis_files/figure-html/tc10-1.png" width="672" /></p>
<p>As indicated by the cluster analysis, the unidentified text forms a
cluster alongside the English texts, strongly suggesting that the
unknown text is likely in English.</p>
<p>Before we dive into the actual classification process, we’ll
partition the data into two distinct sets: one excluding
<em>Unknown</em> (our training set) and the other containing only
<em>Unknown</em> (our test set). This segmentation allows us to train
our model effectively and subsequently test its accuracy.</p>
<pre class="r"><code># create training set
train &lt;- classdw %&gt;%
  filter(Language != &quot;Unknown&quot;)
# create test set
test &lt;- classdw %&gt;%
  filter(Language == &quot;Unknown&quot;)</code></pre>
<div class="tabwid"><style>.cl-0a8b6424{table-layout:auto;width:50%;}.cl-0a7fca74{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0a7fca7e{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-0a83caac{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0a83cab6{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-0a841408{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a841412{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a84141c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a84141d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a841426{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a841427{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a841430{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a841431{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a84143a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a84143b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a841444{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-0a841445{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing='true' class='cl-0a8b6424'><caption style="display:table-caption;margin:0pt;text-align:center;border-bottom: 0.00pt solid transparent;border-top: 0.00pt solid transparent;border-left: 0.00pt solid transparent;border-right: 0.00pt solid transparent;padding-top:3pt;padding-bottom:3pt;padding-left:3pt;padding-right:3pt;line-height: 1;background-color:transparent;"><span>Overview of the training set probabilities.</span></caption><thead><tr style="overflow-wrap:break-word;"><th class="cl-0a841408"><p class="cl-0a83caac"><span class="cl-0a7fca74">Language</span></p></th><th class="cl-0a841412"><p class="cl-0a83cab6"><span class="cl-0a7fca74">'</span></p></th><th class="cl-0a841412"><p class="cl-0a83cab6"><span class="cl-0a7fca74">-</span></p></th><th class="cl-0a841412"><p class="cl-0a83cab6"><span class="cl-0a7fca74">:</span></p></th><th class="cl-0a841412"><p class="cl-0a83cab6"><span class="cl-0a7fca74">?</span></p></th><th class="cl-0a84141c"><p class="cl-0a83cab6"><span class="cl-0a7fca74">@</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-0a84141d"><p class="cl-0a83caac"><span class="cl-0a7fca7e">English</span></p></td><td class="cl-0a841426"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.5833333</span></p></td><td class="cl-0a841426"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.4285714</span></p></td><td class="cl-0a841426"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.3093146</span></p></td><td class="cl-0a841426"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0</span></p></td><td class="cl-0a841427"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.5469027</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a841430"><p class="cl-0a83caac"><span class="cl-0a7fca7e">German</span></p></td><td class="cl-0a841431"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.0000000</span></p></td><td class="cl-0a841431"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.1428571</span></p></td><td class="cl-0a841431"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">1.0000000</span></p></td><td class="cl-0a841431"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">1</span></p></td><td class="cl-0a84143a"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">1.0000000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a84141d"><p class="cl-0a83caac"><span class="cl-0a7fca7e">Spanish</span></p></td><td class="cl-0a841426"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.0000000</span></p></td><td class="cl-0a841426"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.0000000</span></p></td><td class="cl-0a841426"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.0000000</span></p></td><td class="cl-0a841426"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0</span></p></td><td class="cl-0a841427"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.0000000</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-0a84143b"><p class="cl-0a83caac"><span class="cl-0a7fca7e">Unknown</span></p></td><td class="cl-0a841444"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">1.0000000</span></p></td><td class="cl-0a841444"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">1.0000000</span></p></td><td class="cl-0a841444"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.5026362</span></p></td><td class="cl-0a841444"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0</span></p></td><td class="cl-0a841445"><p class="cl-0a83cab6"><span class="cl-0a7fca7e">0.8283186</span></p></td></tr></tbody></table></div>
<p>In the final stage, we can put our classifier into action. Our chosen
classifier is a k-nearest neighbor classifier, which operates on the
principle of classifying an unknown element based on its proximity to
the clusters within the training set.</p>
<pre class="r"><code># set seed for reproducibility
set.seed(12345)
# apply k-nearest-neighbor (knn) classifier
prediction &lt;- class::knn(train[,2:ncol(train)], 
                         test[,2:ncol(test)], 
                         cl = train[, 1], 
                         k = 3)
# inspect the result
prediction</code></pre>
<pre><code>## [1] English
## Levels: English German Spanish</code></pre>
<p>Using the phoneme frequencies present in the unknown text, our
knn-classifier confidently predicts that the text is in English. This
prediction aligns with reality, as the text is, indeed, a section of the
Wikipedia article for Aldous Huxley’s <em>Brave New World</em>. It’s
worth noting that the training texts encompassed German, English, and
Spanish translations of a subsection from Wikipedia’s article on Hermann
Hesse’s <em>Steppenwolf</em>.</p>
</div>
<div id="part-of-speech-tagging" class="section level1 unnumbered">
<h1 class="unnumbered">Part-of-Speech tagging</h1>
<p>One widely used method for enhancing text data is part-of-speech
tagging, which involves identifying the word type to which each word
belongs. In the following section, we will apply part-of-speech tags to
a brief English text.</p>
<p>Part-of-speech tagging is the process of assigning grammatical
categories (such as noun, verb, adjective, etc.) to individual words in
a text. It provides valuable insights into the syntactic and grammatical
structure of a text, making it easier to analyze and extract meaningful
information.</p>
<p><br></p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
<b>Part-of-speech tagging (POS tagging) is a natural language processing
task where each word in a text is assigned a grammatical category, such
as noun, verb, adjective, etc.</b> It involves using linguistic patterns
and context to determine the appropriate part of speech for each word.
POS tagging is crucial for various language analysis tasks, including
information retrieval, text summarization, and grammar analysis.<br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>We start by selecting a portion of our example text.</p>
<pre class="r"><code># load text
sample  &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/alice.rda&quot;, &quot;rb&quot;)) %&gt;%
  .[1:10] %&gt;%
  paste0(collapse = &quot; &quot;)
# inspect
substr(sample, 1, 200)</code></pre>
<pre><code>## [1] &quot;Alice’s Adventures in Wonderland by Lewis Carroll CHAPTER I. Down the Rabbit-Hole Alice was beginning to get very tired of sitting by her sister on the bank, and of having nothing to do: once or twice&quot;</code></pre>
<p>With our text ready for analysis, our next step is to download a
pre-trained language model.</p>
<pre class="r"><code># download language model
m_eng   &lt;- udpipe::udpipe_download_model(language = &quot;english-ewt&quot;)</code></pre>
<p>Once you’ve downloaded a model previously, you also have the option
to load it directly from the location where you’ve stored it on your
computer. In my case, I’ve placed the model in a folder labeled
<em>udpipemodels</em>.</p>
<pre class="r"><code># load language model from your computer after you have downloaded it once
m_eng &lt;- udpipe_load_model(here::here(&quot;udpipemodels&quot;, &quot;english-ewt-ud-2.5-191206.udpipe&quot;))</code></pre>
<p>We can now use the model to annotate out text.</p>
<pre class="r"><code># tokenise, tag, dependency parsing
text_anndf &lt;- udpipe::udpipe_annotate(m_eng, x = sample) %&gt;%
  as.data.frame() %&gt;%
  dplyr::select(-sentence)
# inspect
head(text_anndf, 10)</code></pre>
<pre><code>##    doc_id paragraph_id sentence_id token_id      token      lemma  upos xpos
## 1    doc1            1           1        1      Alice      Alice PROPN  NNP
## 2    doc1            1           1        2         ’s         &#39;s  PART  POS
## 3    doc1            1           1        3 Adventures  Adventure  NOUN  NNS
## 4    doc1            1           1        4         in         in   ADP   IN
## 5    doc1            1           1        5 Wonderland Wonderland PROPN  NNP
## 6    doc1            1           1        6         by         by   ADP   IN
## 7    doc1            1           1        7      Lewis      Lewis PROPN  NNP
## 8    doc1            1           1        8    Carroll    Carroll PROPN  NNP
## 9    doc1            1           1        9    CHAPTER    chapter PROPN  NNP
## 10   doc1            1           1       10          I          I  PRON  PRP
##                                         feats head_token_id   dep_rel deps
## 1                                 Number=Sing             3 nmod:poss &lt;NA&gt;
## 2                                        &lt;NA&gt;             1      case &lt;NA&gt;
## 3                                 Number=Plur             0      root &lt;NA&gt;
## 4                                        &lt;NA&gt;             5      case &lt;NA&gt;
## 5                                 Number=Sing             3      nmod &lt;NA&gt;
## 6                                        &lt;NA&gt;             7      case &lt;NA&gt;
## 7                                 Number=Sing             3      nmod &lt;NA&gt;
## 8                                 Number=Sing             7      flat &lt;NA&gt;
## 9                                 Number=Sing             7      flat &lt;NA&gt;
## 10 Case=Nom|Number=Sing|Person=1|PronType=Prs             3     appos &lt;NA&gt;
##             misc
## 1  SpaceAfter=No
## 2           &lt;NA&gt;
## 3           &lt;NA&gt;
## 4           &lt;NA&gt;
## 5           &lt;NA&gt;
## 6           &lt;NA&gt;
## 7           &lt;NA&gt;
## 8           &lt;NA&gt;
## 9           &lt;NA&gt;
## 10 SpaceAfter=No</code></pre>
<p>It can be useful to extract only the words and their pos-tags and
convert them back into a text format (rather than a tabular format).</p>
<pre class="r"><code>tagged_text &lt;- paste(text_anndf$token, &quot;/&quot;, text_anndf$xpos, collapse = &quot; &quot;, sep = &quot;&quot;)
# inspect tagged text
substr(tagged_text, 1, 200)</code></pre>
<pre><code>## [1] &quot;Alice/NNP ’s/POS Adventures/NNS in/IN Wonderland/NNP by/IN Lewis/NNP Carroll/NNP CHAPTER/NNP I/PRP ./. Down/RB the/DT Rabbit/NNP -/HYPH Hole/NNP Alice/NNP was/VBD beginning/VBG to/TO get/VB very/RB ti&quot;</code></pre>
<p>We could use the pos-tagged data to study differences in the
distribution of word classes across different registers. or to find
certain syntactic patterns in a collection of texts.</p>
</div>
<div id="names-entity-recognition" class="section level1 unnumbered">
<h1 class="unnumbered">Names Entity Recognition</h1>
<p>Named Entity Recognition (NER), also known as named entity extraction
or entity extraction, is a text analysis technique that automatically
identifies and extracts named entities from text, such as people,
locations, brands, and more.</p>
<p>NER involves the process of extracting textual elements with
characteristics commonly associated with proper nouns (e.g., locations,
individuals, organizations) rather than other parts of speech. These
characteristics may include non-sentence initial capitalization. Named
entities are frequently retrieved in automated summarization and topic
modeling.</p>
<p>NER can be accomplished through straightforward feature extraction,
like extracting all non-sentence-initial capitalized words, or with the
aid of training sets. Utilizing training sets—texts annotated to
identify entities and non-entities—proves more effective when dealing
with unknown or inconsistently capitalized data.</p>
<p><br></p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
<b>Named Entity Recognition (NER) is a natural language processing task
that identifies and classifies words or phrases within text into
predefined categories, such as persons, locations, organizations, and
more.</b> It employs contextual clues and language patterns to recognize
these named entities. NER is essential for various applications,
including information extraction, text summarization, and knowledge
graph construction.<br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>In this context, we will leverage the results obtained from
part-of-speech tagging to extract terms tagged as named entities (the
label <code>PROPN</code> in the <code>upos</code> column).</p>
<pre class="r"><code># tokenise, tag, dependency parsing
ner_df &lt;- text_anndf %&gt;%
  dplyr::filter(upos == &quot;PROPN&quot;) %&gt;%
  dplyr::select(token_id, token, lemma, upos, feats)
# inspect
head(ner_df)</code></pre>
<pre><code>##   token_id      token      lemma  upos       feats
## 1        1      Alice      Alice PROPN Number=Sing
## 2        5 Wonderland Wonderland PROPN Number=Sing
## 3        7      Lewis      Lewis PROPN Number=Sing
## 4        8    Carroll    Carroll PROPN Number=Sing
## 5        9    CHAPTER    chapter PROPN Number=Sing
## 6        3     Rabbit     rabbit PROPN Number=Sing</code></pre>
<p>The obtained results can be further processed and categorized into
various types such as persons, locations, dates, and other entities.
This initial insight should provide you with a starting point for your
analysis and exploration.</p>
</div>
<div id="dependency-parsing-using-udpipe"
class="section level1 unnumbered">
<h1 class="unnumbered">Dependency Parsing Using UDPipe</h1>
<p>In addition to part-of-speech tagging, we can create visual
representations illustrating the syntactic relationships between the
various components of a sentence.</p>
<p><br></p>
<div class="warning"
style="padding:0.5em; background-color:rgba(215,209,204,.3); color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
<b>Dependency parsing is a linguistic analysis technique that reveals
the grammatical structure of sentences by identifying how words relate
to one another.</b> It establishes hierarchical relationships, such as
subject-verb, modifier-noun, or object-verb connections, within a
sentence. Dependency parsing is fundamental for understanding sentence
syntax, semantic roles, and linguistic relationships, playing a critical
role in various natural language processing tasks like sentiment
analysis, information extraction, and machine translation.<br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>To achieve this, we first construct an object containing a sentence
(in this instance, the sentence <em>John gave Mary a kiss</em>), and
subsequently, we utilize the <code>textplot_dependencyparser</code>
function to plot or visualize the dependencies.</p>
<pre class="r"><code># parse text
sent &lt;- udpipe::udpipe_annotate(m_eng, x = &quot;John gave Mary a kiss.&quot;) %&gt;%
  as.data.frame()
# inspect
head(sent)</code></pre>
<pre><code>##   doc_id paragraph_id sentence_id               sentence token_id token lemma
## 1   doc1            1           1 John gave Mary a kiss.        1  John  John
## 2   doc1            1           1 John gave Mary a kiss.        2  gave  give
## 3   doc1            1           1 John gave Mary a kiss.        3  Mary  Mary
## 4   doc1            1           1 John gave Mary a kiss.        4     a     a
## 5   doc1            1           1 John gave Mary a kiss.        5  kiss  kiss
## 6   doc1            1           1 John gave Mary a kiss.        6     .     .
##    upos xpos                            feats head_token_id dep_rel deps
## 1 PROPN  NNP                      Number=Sing             2   nsubj &lt;NA&gt;
## 2  VERB  VBD Mood=Ind|Tense=Past|VerbForm=Fin             0    root &lt;NA&gt;
## 3 PROPN  NNP                      Number=Sing             2    iobj &lt;NA&gt;
## 4   DET   DT        Definite=Ind|PronType=Art             5     det &lt;NA&gt;
## 5  NOUN   NN                      Number=Sing             2     obj &lt;NA&gt;
## 6 PUNCT    .                             &lt;NA&gt;             2   punct &lt;NA&gt;
##              misc
## 1            &lt;NA&gt;
## 2            &lt;NA&gt;
## 3            &lt;NA&gt;
## 4            &lt;NA&gt;
## 5   SpaceAfter=No
## 6 SpacesAfter=\\n</code></pre>
<p>We now generate the plot.</p>
<pre class="r"><code># generate dependency plot
dplot &lt;- textplot::textplot_dependencyparser(sent, size = 3) 
# show plot
dplot</code></pre>
<p><img src="textanalysis_files/figure-html/udi5-1.png" width="672" /></p>
<p>Dependency parsing proves invaluable for a range of applications,
including analyzing the relationships within sentences and shedding
light on the roles of different elements. For instance, it helps
distinguish between the agent and the patient in actions like crimes or
other activities. This parsing technique enables a deeper understanding
of the underlying grammatical and semantic structure of sentences,
making it a valuable tool for linguistic analysis, information
extraction, and natural language understanding.</p>
</div>
<div id="citation-session-info" class="section level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2023. <em>Practical Overview of Selected Text
Analytics Methods</em>. Brisbane: The Language Technology and Data
Analysis Laboratory (LADAL). url: <a
href="https://ladal.edu.au/textanalysis.html"
class="uri">https://ladal.edu.au/textanalysis.html</a> (Version
2023.05.31).</p>
<pre><code>@manual{schweinberger2023ta,
  author = {Schweinberger, Martin},
  title = {Practical Overview of Selected Text Analytics Methods},
  note = {https://ladal.edu.au/textanalysis.html},
  year = {2023},
  organization = {The Language Technology and Data Analysis Laboratory (LADAL)},
  address = {Brisbane},
  edition = {2023.05.31}
}</code></pre>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.3.2 (2023-10-31 ucrt)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 11 x64 (build 22621)
## 
## Matrix products: default
## 
## 
## locale:
## [1] LC_COLLATE=English_Australia.utf8  LC_CTYPE=English_Australia.utf8   
## [3] LC_MONETARY=English_Australia.utf8 LC_NUMERIC=C                      
## [5] LC_TIME=English_Australia.utf8    
## 
## time zone: Australia/Brisbane
## tzcode source: internal
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] tidyr_1.3.1               ggraph_2.2.0             
##  [3] quanteda.textplots_0.94.4 quanteda.textstats_0.96.4
##  [5] wordcloud2_0.2.1          tidytext_0.4.1           
##  [7] udpipe_0.8.11             tm_0.7-11                
##  [9] NLP_0.2-1                 quanteda_3.3.1           
## [11] flextable_0.9.4           ggplot2_3.5.0            
## [13] stringr_1.5.1             dplyr_1.1.4              
## 
## loaded via a namespace (and not attached):
##   [1] textplot_0.2.2          gridExtra_2.3           rlang_1.1.3            
##   [4] magrittr_2.0.3          compiler_4.3.2          mgcv_1.9-0             
##   [7] systemfonts_1.0.5       vctrs_0.6.5             httpcode_0.3.0         
##  [10] pkgconfig_2.0.3         crayon_1.5.2            fastmap_1.1.1          
##  [13] ellipsis_0.3.2          labeling_0.4.3          utf8_1.2.4             
##  [16] promises_1.2.1          rmarkdown_2.25          ragg_1.2.7             
##  [19] network_1.18.2          purrr_1.0.2             xfun_0.42              
##  [22] cachem_1.0.8            jsonlite_1.8.8          SnowballC_0.7.1        
##  [25] highr_0.10              later_1.3.2             uuid_1.2-0             
##  [28] tweenr_2.0.3            parallel_4.3.2          stopwords_2.3          
##  [31] R6_2.5.1                bslib_0.6.1             stringi_1.8.3          
##  [34] jquerylib_0.1.4         nsyllable_1.0.1         Rcpp_1.0.12            
##  [37] assertthat_0.2.1        knitr_1.45              klippy_0.0.0.9500      
##  [40] splines_4.3.2           httpuv_1.6.14           Matrix_1.6-5           
##  [43] igraph_2.0.2            tidyselect_1.2.0        rstudioapi_0.15.0      
##  [46] yaml_2.3.8              viridis_0.6.5           curl_5.2.0             
##  [49] lattice_0.21-9          tibble_3.2.1            shiny_1.8.0            
##  [52] withr_3.0.0             askpass_1.2.0           coda_0.19-4.1          
##  [55] evaluate_0.23           RcppParallel_5.1.7      polyclip_1.10-6        
##  [58] zip_2.3.1               xml2_1.3.6              pillar_1.9.0           
##  [61] janeaustenr_1.0.0       generics_0.1.3          rprojroot_2.0.4        
##  [64] munsell_0.5.0           scales_1.3.0            xtable_1.8-4           
##  [67] class_7.3-22            glue_1.7.0              slam_0.1-50            
##  [70] gdtools_0.3.6           tools_4.3.2             gfonts_0.2.0           
##  [73] data.table_1.15.2       tokenizers_0.3.0        graphlayouts_1.1.0     
##  [76] fastmatch_1.1-4         tidygraph_1.3.1         grid_4.3.2             
##  [79] colorspace_2.1-0        nlme_3.1-163            ggforce_0.4.2          
##  [82] cli_3.6.2               textshaping_0.3.7       officer_0.6.5          
##  [85] fontBitstreamVera_0.1.1 fansi_1.0.6             viridisLite_0.4.2      
##  [88] gtable_0.3.4            sass_0.4.8              digest_0.6.34          
##  [91] fontquiver_0.2.1        ggrepel_0.9.5           crul_1.4.0             
##  [94] sna_2.7-2               htmlwidgets_1.6.4       farver_2.1.1           
##  [97] memoise_2.0.1           htmltools_0.5.7         lifecycle_1.0.4        
## [100] here_1.0.1              statnet.common_4.9.0    mime_0.12              
## [103] fontLiberation_0.1.0    openssl_2.1.1           MASS_7.3-60</code></pre>
<p><a href="#introduction">Back to top</a></p>
<p><a href="https://ladal.edu.au">Back to HOME</a></p>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-bernard1998text" class="csl-entry">
Bernard, H Russell, and Gery Ryan. 1998. <span>“Text Analysis.”</span>
<em>Handbook of Methods in Cultural Anthropology</em> 613.
</div>
<div id="ref-kabanoff1997introduction" class="csl-entry">
Kabanoff, Boris. 1997. <span>“Introduction: Computers Can Read as Well
as Count: Computer-Aided Text Analysis in Organizational
Research.”</span> <em>Journal of Organizational Behavior</em>, 507–11.
</div>
<div id="ref-lindquist2009corpus" class="csl-entry">
Lindquist, Hans. 2009. <em>Corpus Linguistics and the Description of
English</em>. Edinburgh: Edinburgh University Press.
</div>
<div id="ref-popping2000computer" class="csl-entry">
Popping, Roel. 2000. <em>Computer-Assisted Text Analysis</em>. Sage.
</div>
</div>
</div>
<div class="footnotes footnotes-end-of-document">
<hr />
<ol>
<li id="fn1"><p>If you want to render the R Notebook on your machine,
i.e. knitting the document to html or a pdf, you need to make sure that
you have R and RStudio installed and you also need to download the <a
href="https://ladal.edu.au/content/bibliography.bib"><strong>bibliography
file</strong></a> and store it in the same folder where you store the
Rmd file.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
