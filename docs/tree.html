<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Martin Schweinberger" />

<meta name="date" content="2023-01-10" />

<title>Tree-Based Models in R</title>

<script src="site_libs/header-attrs-2.16/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/tabwid-1.1.0/tabwid.css" rel="stylesheet" />
<link href="site_libs/tabwid-1.1.0/scrool.css" rel="stylesheet" />
<link rel="stylesheet" href="styles.css" />

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VSGK4KYDQZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VSGK4KYDQZ');
</script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  
  <!-- Added by SKC - LADAL image and thicker top with   -->
  <div class="container-fluid navbar-top" >
    <a href="index.html"> <!-- Make entire top row and text clickable home link  -->
        <div class="row">
            <div class="navbar-brand col-md-12">
              <img src="/content/ladal_icon_cas_tran_white_trimed.png" class="navbar-icon" alt="LADAL"/>
              <span class="navbar-title-note navbar-collapse collapse" >Language Technology and Data Analysis Laboratory</span>
            </div>
        </div>
    </a>
  </div>
  
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- SKC removed  navbar brand -->
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">HOME</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    ABOUT LADAL
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="people.html">People | Collabs</a>
    </li>
    <li>
      <a href="news.html">News</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    EVENTS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="workshops.html">Workshops</a>
    </li>
    <li>
      <a href="compthinking.html">Computational Thinking in HASS</a>
    </li>
    <li>
      <a href="webinars2022.html">LADAL Webinar Series 2022</a>
    </li>
    <li>
      <a href="opening.html">LADAL Webinar Series 2021</a>
    </li>
    <li>
      <a href="atapevents.html">ATAP Events</a>
    </li>
  </ul>
</li>
<li>
  <a href="tutorials.html">TUTORIALS</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    RESOURCES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="links.html">Links</a>
    </li>
    <li>
      <a href="base.html">Tutorial stylesheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="contact.html">CONTACT</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Tree-Based Models in R</h1>
<h4 class="author">Martin Schweinberger</h4>
<h4 class="date">2023-01-10</h4>

</div>


<p><img src="https://slcladal.github.io/images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p>This tutorial focuses on tree-based models and their implementation
in R. For the more advanced, a recommendable resource for tree-based
modeling is <span class="citation">Prasad, Iverson, and Liaw (<a
href="#ref-prasad2006newer" role="doc-biblioref">2006</a>)</span>, <span
class="citation">Strobl, Malley, and Tutz (<a href="#ref-strobl2009tree"
role="doc-biblioref">2009</a>)</span> and <span class="citation">Breiman
(<a href="#ref-breiman2001modeling"
role="doc-biblioref">2001b</a>)</span>. A very good paper dealing with
many critical issues related to tree-based models is <span
class="citation">Gries (<a href="#ref-gries2021statistics"
role="doc-biblioref">2021</a>)</span>.</p>
<p><img src="https://slcladal.github.io/images/yr_chili.jpg" width="15%" style="float:right; padding:10px" /></p>
<p>This tutorial is aimed at intermediate and advanced users of R with
the aim of showcasing how to perform tree-based modeling and
classification using R. The aim is not to provide a fully-fledged
analysis but rather to show and exemplify how to implement and perform
basic tree-based modeling and classification using R.</p>
<div class="warning"
style="padding:0.1em; background-color:#f2f2f2; color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
The entire R Notebook for the tutorial can be downloaded <a
href="https://slcladal.github.io/content/tree.Rmd"><strong>here</strong></a>.
If you want to render the R Notebook on your machine, i.e. knitting the
document to html or a pdf, you need to make sure that you have R and
RStudio installed and you also need to download the <a
href="https://slcladal.github.io/content/bibliography.bib"><strong>bibliography
file</strong></a> and store it in the same folder where you store the
Rmd file. <br><br> <a
href="https://mybinder.org/v2/gh/SLCLADAL/interactive-notebooks/main?labpath=notebooks%2Ftree_cb.ipynb"><img
src="https://mybinder.org/badge_logo.svg" alt="Binder" /></a><br> <a
href="https://mybinder.org/v2/gh/SLCLADAL/interactive-notebooks/main?labpath=notebooks%2Ftree_cb.ipynb"><strong>Click
this link to open an interactive version of this tutorial on
MyBinder.org</strong></a>. <br> This interactive Jupyter notebook allows
you to execute code yourself and you can also change and edit the
notebook, e.g. you can change code and upload your own data. <br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p>Tree-structure models fall into the machine-learning rather than the
inference statistics category as they are commonly used for
classification and prediction tasks rather than explanation of
relationships between variables. The tree structure represents recursive
partitioning of the data to minimize residual deviance that is based on
iteratively splitting the data into two subsets.</p>
<p>The most basic type of tree-structure model is a decision tree which
is a type of classification and regression tree (CART). A more elaborate
version of a CART is called a Conditional Inference Tree (CIT). The
difference between a CART and a CIT is that CITs use significance tests,
e.g. the p-values, to select and split variables rather than some
information measures like the Gini coefficient <span
class="citation">(<a href="#ref-gries2021statistics"
role="doc-biblioref">Gries 2021</a>)</span>.</p>
<p>Like random forests, inference trees are non-parametric and thus do
not rely on distributional requirements (or at least on fewer).</p>
<div id="advantages" class="section level2 unnumbered">
<h2 class="unnumbered">Advantages</h2>
<p>Several advantages have been associated with using tree-based
models:</p>
<ol style="list-style-type: decimal">
<li><p>Tree-structure models are very useful because they are
<strong>extremely flexible</strong> as they can deal with different
types of variables and provide a very good understanding of the
structure in the data.</p></li>
<li><p>Tree-structure models have been deemed particularly interesting
for linguists because they can handle <strong>moderate sample
sizes</strong> and many high-order interactions better then regression
models.</p></li>
<li><p>Tree-structure models are (supposedly) better at detecting
<strong>non-linear or non-monotonic relationships</strong> between
predictors and dependent variables. This also means that they are better
at finding and displaying interaction sinvolving many
predictors.</p></li>
<li><p>Tree-structure models are <strong>easy</strong> to implement in R
and do not require the model selection, validation, and diagnostics
associated with regression models.</p></li>
<li><p>Tree-structure models can be used as
<strong>variable-selection</strong> procedure which informs about which
variables have any sort of significant relationship with the dependent
variable and can thereby inform model fitting.</p></li>
</ol>
</div>
<div id="problems" class="section level2 unnumbered">
<h2 class="unnumbered">Problems</h2>
<p>Despite these potential advantages, a word of warning is in order:
<span class="citation">Gries (<a href="#ref-gries2021statistics"
role="doc-biblioref">2021</a>)</span> admits that tree-based models can
be very useful but there are some issues that but some serious
short-comings of tree-structure models remain under-explored. For
instance,</p>
<ol style="list-style-type: decimal">
<li><p>Forest-models (Random Forests and Boruta) only inform about the
<strong>importance</strong> of a variable but not if the variable is
important as a main effect or as part of interactions (or both)! The
importance only shows that there is some important connection between
the predictor and the dependent variable. While partial dependence plots
(see <a
href="https://christophm.github.io/interpretable-ml-book/pdp.html">here</a>
for more information) offer a remedy for this shortcoming to a certain
degree, regression models are still much better at dealing with this
issue.</p></li>
<li><p>Simple tree-structure models have been shown to fail in detecting
the correct predictors if the variance is solely determined by a
<strong>single interaction</strong> <span class="citation">(<a
href="#ref-gries2021statistics" role="doc-biblioref">Gries 2021, chap.
7.3</a>)</span>. This failure is caused by the fact that the predictor
used in the first split of a tree is selected as the one with the
strongest main effect <span class="citation">(<a
href="#ref-boulesteix2015interaction" role="doc-biblioref">Boulesteix et
al. 2015, 344</a>)</span>. This issue can, however, be avoided by
hard-coding the interactions as predictors plus using ensemble methods
such as random forests rather than individual trees <span
class="citation">(see <a href="#ref-gries2021statistics"
role="doc-biblioref">Gries 2021, chap. 7.3</a>)</span>.</p></li>
<li><p>Another shortcoming is that tree-structure models partition the
data (rather than “fitting a line” through the data which can lead to
more <strong>coarse-grained predictions</strong> compared to regression
models when dealing with numeric dependent variables <span
class="citation">(again, see <a href="#ref-gries2021statistics"
role="doc-biblioref">Gries 2021, chap. 7.3</a>)</span>.</p></li>
<li><p><span class="citation">Boulesteix et al. (<a
href="#ref-boulesteix2015interaction" role="doc-biblioref">2015,
341</a>)</span> state that high correlations between predictors can
hinder the <strong>detection of interactions</strong> when using small
data sets. However, regression do not fare better here as they are even
more strongly affected by (multi-)collinearity <span
class="citation">(see <a href="#ref-gries2021statistics"
role="doc-biblioref">Gries 2021, chap. 7.3</a>)</span>.</p></li>
<li><p>Tree-structure models are bad a detecting interactions when the
variables have <strong>strong main effects</strong> which is,
unfortunately, common when dealing with linguistic data <span
class="citation">(<a href="#ref-wrigt2016interac"
role="doc-biblioref">Wright, Ziegler, and König
2016</a>)</span>.</p></li>
<li><p>Tree-structure models cannot handle <strong>factorial
variables</strong> with many levels (more than 53 levels) which is very
common in linguistics where individual speakers or items are
variables.</p></li>
<li><p>Forest-models (Random Forests and Boruta) have been deemed to be
better at dealing with small data sets. However, this is only because
the analysis is based on <strong>permutations</strong> of the original
small data set. As such, forest-based models only appear to be better at
handling small data sets because they “blow up” the data set rather than
really being better at analyzing the original data.</p></li>
</ol>
<p>Before we implement a conditional inference tree in R, we will have a
look at how decision trees work. We will do this in more detail here as
random forests and Boruta analyses are extensions of inference trees and
are therefore based on the same concepts.</p>
</div>
<div id="classification-and-regression-trees"
class="section level2 unnumbered">
<h2 class="unnumbered">Classification And Regression Trees</h2>
<p>Below is an example of a decision tree which shows what what response
to expect - in this case whether a speaker uses discourse <em>like</em>
or not. Decision trees, like all CARTs and CITs, answer a simple
question, namely <em>How do we best classify elements based on the given
predictors?</em>. The answer that decision trees provide is the
classification of the elements based on the levels of the predictors. In
simple decision trees, all predictors, even those that are not
significant are included in the decision tree. The decision tree shows
that the best (or most important) predictor for the use of discourse
<em>like</em> is age as it is the highest node. Among young speakers,
those with high status use <em>like</em> more compared with speakers of
lower social status. Among old speakers, women use discourse
<em>like</em> more than men.</p>
<pre class="r"><code>install.packages(&quot;tree&quot;)
install.packages(&quot;dplyr&quot;)
install.packages(&quot;grid&quot;)</code></pre>
<p><img src="tree_files/figure-html/cit1a-1.png" width="672" /></p>
<p>The <em>yes</em> and <em>no</em> at the bottom show if the speaker
should be classified as a user of discourse <em>like</em> (<em>yes</em>
or <em>no</em>). Each split can be read as <em>true</em> to the left and
<em>false</em> to the right. So that, at the first split, if the person
is between the ages of 15 and 40, we need to follow the branch to the
left while we need to follow to the right if the person is not 15 to
40.</p>
<p>Before going through how this conditional decision tree is generated,
let us first go over some basic concepts. The top of the decision tree
is called <em>root</em> or <em>root node</em>, the categories at the end
of branches are called <em>leaves</em> or <em>leaf nodes</em>. Nodes
that are in-between the root and leaves are called <em>internal
nodes</em> or just <em>nodes</em>. The root node has only arrows or
lines pointing away from it, internal nodes have lines going to and from
them, while leaf nodes only have lines pointing towards them.</p>
<p>How to prune and evaluate the accuracy of decision trees is not shown
here. If you are interested in this, please check out chapter 7 of <span
class="citation">Gries (<a href="#ref-gries2021statistics"
role="doc-biblioref">2021</a>)</span> which is a highly recommendable
resource that provide a lot of additional information about decision
trees and CARTs.</p>
</div>
</div>
<div id="tree-based-models-in-r" class="section level1 unnumbered">
<h1 class="unnumbered">Tree-Based Models in R</h1>
<p>We will now focus on how to implement tree-based models in R and
continue with getting a more detaled understanding og how tree-based
methods work.</p>
<p><strong>Preparation and session set up</strong></p>
<p>This tutorial is based on R. If you have not installed R or are new
to it, you will find an introduction to and more information how to use
R <a href="https://slcladal.github.io/intror.html">here</a>. For this
tutorials, we need to install certain <em>packages</em> from an R
<em>library</em> so that the scripts shown below are executed without
errors. Before turning to the code below, please install the packages by
running the code below this paragraph. If you have already installed the
packages mentioned below, then you can skip ahead and ignore this
section. To install the necessary packages, simply run the following
code - it may take some time (between 1 and 5 minutes to install all of
the libraries so you do not need to worry if it takes some time).</p>
<pre class="r"><code># install packages
install.packages(&quot;Boruta&quot;)
install.packages(&quot;tree&quot;)
install.packages(&quot;caret&quot;)
install.packages(&quot;cowplot&quot;)
install.packages(&quot;tidyverse&quot;)
install.packages(&quot;ggparty&quot;)
install.packages(&quot;Gmisc&quot;)
install.packages(&quot;grid&quot;)
install.packages(&quot;Hmisc&quot;)
install.packages(&quot;party&quot;)
install.packages(&quot;partykit&quot;)
install.packages(&quot;randomForest&quot;)
install.packages(&quot;pdp&quot;)
install.packages(&quot;tidyr&quot;)
install.packages(&quot;RCurl&quot;)
install.packages(&quot;vip&quot;)
install.packages(&quot;flextable&quot;)
# install klippy for copy-to-clipboard button in code chunks
install.packages(&quot;remotes&quot;)
remotes::install_github(&quot;rlesur/klippy&quot;)</code></pre>
<p>Now that we have installed the packages, we can activate them as
shown below.</p>
<pre class="r"><code># set options
options(stringsAsFactors = F)
options(scipen = 999)
options(max.print=10000)
# load packages
library(Boruta)
library(tree)
library(caret)
library(cowplot)
library(tidyverse)
library(ggparty)
library(Gmisc)
library(grid)
library(Hmisc)
library(party)
library(partykit)
library(randomForest)
library(pdp)
library(RCurl)
library(tidyr)
library(vip)
library(flextable)
# activate klippy for copy-to-clipboard button
klippy::klippy()</code></pre>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<p>Once you have installed R, RStudio, and have also initiated the
session by executing the code shown above, you are good to go.</p>
<div id="how-tree-based-methods-work" class="section level2 unnumbered">
<h2 class="unnumbered">How Tree-Based Methods Work</h2>
<p>Let us now go over the process by which the decision tree above is
generated. In our example, we want to predict whether a person makes use
of discourse <em>like</em> given their age, gender, and social
status.</p>
<p>Let us now go over the process by which the decision tree above is
generated. In our example, we want to predict whether a person makes use
of discourse <em>like</em> given their age, gender, and social
status.</p>
<p>In a first step, we load and inspect the data that we will use in
this tutorial. As tree-based models require either numeric or factorized
data, we factorize the “character” variables in our data.</p>
<pre class="r"><code># load data
citdata &lt;- read.delim(&quot;https://slcladal.github.io/data/treedata.txt&quot;, header = T, sep = &quot;\t&quot;) %&gt;%
  dplyr::mutate_if(is.character, factor)</code></pre>
<template id="29b8199a-d2a9-49af-af0d-b592fa602f2f"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-524e397a{table-layout:auto;width:75%;}.cl-524194d6{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-524194e0{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5246573c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52467e42{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e4c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e4d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e4e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e56{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e57{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e58{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e60{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e61{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e62{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e6a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52467e6b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-523a720a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-524e397a'><caption><span class="cl-523a720a">First 10 rows of the citdata data</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-52467e42"><p class="cl-5246573c"><span class="cl-524194d6">Age</span></p></td><td class="cl-52467e4c"><p class="cl-5246573c"><span class="cl-524194d6">Gender</span></p></td><td class="cl-52467e4c"><p class="cl-5246573c"><span class="cl-524194d6">Status</span></p></td><td class="cl-52467e4d"><p class="cl-5246573c"><span class="cl-524194d6">LikeUser</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-52467e4e"><p class="cl-5246573c"><span class="cl-524194e0">15-40</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">female</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">high</span></p></td><td class="cl-52467e57"><p class="cl-5246573c"><span class="cl-524194e0">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e58"><p class="cl-5246573c"><span class="cl-524194e0">15-40</span></p></td><td class="cl-52467e60"><p class="cl-5246573c"><span class="cl-524194e0">female</span></p></td><td class="cl-52467e60"><p class="cl-5246573c"><span class="cl-524194e0">high</span></p></td><td class="cl-52467e61"><p class="cl-5246573c"><span class="cl-524194e0">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e4e"><p class="cl-5246573c"><span class="cl-524194e0">15-40</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">male</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">high</span></p></td><td class="cl-52467e57"><p class="cl-5246573c"><span class="cl-524194e0">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e58"><p class="cl-5246573c"><span class="cl-524194e0">41-80</span></p></td><td class="cl-52467e60"><p class="cl-5246573c"><span class="cl-524194e0">female</span></p></td><td class="cl-52467e60"><p class="cl-5246573c"><span class="cl-524194e0">low</span></p></td><td class="cl-52467e61"><p class="cl-5246573c"><span class="cl-524194e0">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e4e"><p class="cl-5246573c"><span class="cl-524194e0">41-80</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">male</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">high</span></p></td><td class="cl-52467e57"><p class="cl-5246573c"><span class="cl-524194e0">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e58"><p class="cl-5246573c"><span class="cl-524194e0">41-80</span></p></td><td class="cl-52467e60"><p class="cl-5246573c"><span class="cl-524194e0">male</span></p></td><td class="cl-52467e60"><p class="cl-5246573c"><span class="cl-524194e0">low</span></p></td><td class="cl-52467e61"><p class="cl-5246573c"><span class="cl-524194e0">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e4e"><p class="cl-5246573c"><span class="cl-524194e0">41-80</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">female</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">low</span></p></td><td class="cl-52467e57"><p class="cl-5246573c"><span class="cl-524194e0">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e58"><p class="cl-5246573c"><span class="cl-524194e0">15-40</span></p></td><td class="cl-52467e60"><p class="cl-5246573c"><span class="cl-524194e0">male</span></p></td><td class="cl-52467e60"><p class="cl-5246573c"><span class="cl-524194e0">high</span></p></td><td class="cl-52467e61"><p class="cl-5246573c"><span class="cl-524194e0">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e4e"><p class="cl-5246573c"><span class="cl-524194e0">41-80</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">male</span></p></td><td class="cl-52467e56"><p class="cl-5246573c"><span class="cl-524194e0">low</span></p></td><td class="cl-52467e57"><p class="cl-5246573c"><span class="cl-524194e0">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52467e62"><p class="cl-5246573c"><span class="cl-524194e0">41-80</span></p></td><td class="cl-52467e6a"><p class="cl-5246573c"><span class="cl-524194e0">male</span></p></td><td class="cl-52467e6a"><p class="cl-5246573c"><span class="cl-524194e0">low</span></p></td><td class="cl-52467e6b"><p class="cl-5246573c"><span class="cl-524194e0">no</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="67371ba4-4c78-4e93-adbd-3e1a46ecd21f"></div>
<script>
var dest = document.getElementById("67371ba4-4c78-4e93-adbd-3e1a46ecd21f");
var template = document.getElementById("29b8199a-d2a9-49af-af0d-b592fa602f2f");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>The data now consists of factors which two levels each.</p>
<p>The first step in generating a decision tree consists in determining,
what the root of the decision tree should be. This means that we have to
determine which of the variables represents the root node. In order to
do so, we tabulate for each variable level, how many speakers of that
level have used discourse <em>like</em> (LikeUsers) and how many have
not used discourse <em>like</em> (NonLikeUsers).</p>
<pre class="r"><code># tabulate data
table(citdata$LikeUser, citdata$Gender)</code></pre>
<pre><code>##      
##       female male
##   no      43   75
##   yes     91   42</code></pre>
<pre class="r"><code>table(citdata$LikeUser, citdata$Age)</code></pre>
<pre><code>##      
##       15-40 41-80
##   no     34    84
##   yes    92    41</code></pre>
<pre class="r"><code>table(citdata$LikeUser, citdata$Status)</code></pre>
<pre><code>##      
##       high low
##   no    33  85
##   yes   73  60</code></pre>
<p>None of the predictors is perfect (the predictors are therefore
referred to as <em>impure</em>). To determine which variable is the
root, we will calculate the degree of “impurity” for each variable - the
variable which has the lowest impurity value will be the root.</p>
<p>The most common measure of impurity in the context of conditional
inference trees is called <em>Gini</em> (an alternative that is common
when generating regression trees is the deviance). The Gini value or
gini index was introduced by Corrado Gini as a measure for income
inequality. In our case we seek to maximize inequality of distributions
of leave nodes which is why the gini index is useful for tree based
models. For each level we apply the following equation to determine the
gini impurity value:</p>
<p><span class="math display">\[\begin{equation}

G_{x} = 1 - ( p_{1} )^{2} - ( p_{0} )^{2}

\end{equation}\]</span></p>
<p>For the node for men, this would mean the following:</p>
<p><span class="math display">\[\begin{equation}

G_{men} = 1-(\frac{42} {42+75})^{2} - (\frac{75} {42+75})^{2} =
0.4602235

\end{equation}\]</span></p>
<p>For women, we calculate G or Gini as follows:</p>
<p><span class="math display">\[\begin{equation}

G_{women} = 1-(\frac{91} {91+43})^{2} - (\frac{43} {91+43})^{2} =
0.4358432

\end{equation}\]</span></p>
<p>To calculate the Gini value of Gender, we need to calculate the
weighted average leaf node impurity (weighted because the number of
speakers is different in each group). We calculate the weighted average
leaf node impurity using the equation below.</p>
<p><span class="math display">\[\begin{equation}

G_{Gender} = \frac{N_{men}} {N_{Total}} \times G_{men}
+  \frac{N_{women}} {N_{Total}} \times G_{women}

G_{Gender} = \frac{159} {303} \times 0.4602235 +  \frac{144} {303}
\times 0.4358432 = 0.4611915

\end{equation}\]</span></p>
<p>We will now perform the gini-calculation for gender (see below).</p>
<pre class="r"><code># calculate Gini for men
gini_men &lt;- 1-(42/(42+75))^2 - (75/(42+75))^2
# calculate Gini for women
gini_women &lt;- 1-(91/(91+43))^2 - (43/(91+43))^2
# calculate weighted average of Gini for Gender
gini_gender &lt;- 42/(42+75)* gini_men +  91/(91+43) * gini_women
gini_gender</code></pre>
<pre><code>## [1] 0.4611915</code></pre>
<p>The gini for gender is 0.4612. In a next step, we revisit the age
distribution and we continue to calculate the gini value for age.</p>
<pre class="r"><code># calculate Gini for age groups
gini_young &lt;- 1-(92/(92+34))^2 - (34/(92+34))^2  # Gini: young
gini_old &lt;- 1-(41/(41+84))^2 - (84/(41+84))^2    # Gini: old
# calculate weighted average of Gini for Age
gini_age &lt;- 92/(92+34)* gini_young +  41/(41+84) * gini_old
gini_age</code></pre>
<pre><code>## [1] 0.4323148</code></pre>
<p>The gini for age is .4323 and we continue by revisiting the status
distribution and we continue to calculate the gini value for status.</p>
<pre class="r"><code>gini_high &lt;- 1-(73/(33+73))^2 - (33/(33+73))^2   # Gini: high
gini_low &lt;- 1-(60/(60+85))^2 - (85/(60+85))^2    # Gini: low
# calculate weighted average of Gini for Status
gini_status &lt;- 73/(33+73)* gini_high +  60/(60+85) * gini_low
gini_status</code></pre>
<pre><code>## [1] 0.4960521</code></pre>
<p>The gini for status is .4961 and we can now compare the gini values
for age, gender, and status.</p>
<pre class="r"><code># compare age, gender, and status ginis
gini_age; gini_gender; gini_status</code></pre>
<pre><code>## [1] 0.4323148</code></pre>
<pre><code>## [1] 0.4611915</code></pre>
<pre><code>## [1] 0.4960521</code></pre>
<p>Since age has the lowest gini (impurity) value, our first split is by
age and age, thus, represents our root node. Our manually calculated
conditional inference tree right now looks as below.</p>
<p><img src="tree_files/figure-html/cit13-1.png" width="672" /></p>
<p>In a next step, we need to find out which of the remaining variables
best separates the speakers who use discourse <em>like</em> from those
that do not under the first node. In order to do so, we calculate the
Gini values for <em>Gender</em> and <em>SocialStatus</em> for the
<em>15-40</em> node.</p>
<p>We thus move on and test if and how to split this branch.</p>
<pre class="r"><code># 5TH NODE
# split data according to first split (only young data)
young &lt;- citdata %&gt;%
  dplyr::filter(Age == &quot;15-40&quot;)
# inspect distribution
tbyounggender &lt;- table(young$LikeUser, young$Gender)
tbyounggender</code></pre>
<pre><code>##      
##       female male
##   no      17   17
##   yes     58   34</code></pre>
<pre class="r"><code># calculate Gini for Gender
# calculate Gini for men
gini_youngmen &lt;- 1-(tbyounggender[2,2]/sum(tbyounggender[,2]))^2 - (tbyounggender[1,2]/sum(tbyounggender[,2]))^2
# calculate Gini for women
gini_youngwomen &lt;- 1-(tbyounggender[2,1]/sum(tbyounggender[,1]))^2 - (tbyounggender[1,1]/sum(tbyounggender[,1]))^2
# # calculate weighted average of Gini for Gender
gini_younggender &lt;- sum(tbyounggender[,2])/sum(tbyounggender)* gini_youngmen +  sum(tbyounggender[,1])/sum(tbyounggender) * gini_youngwomen
gini_younggender</code></pre>
<pre><code>## [1] 0.3885714</code></pre>
<p>The gini value for gender among young speakers is 0.3886.</p>
<p>We continue by inspecting the status distribution.</p>
<pre class="r"><code># calculate Gini for Status
# inspect distribution
tbyoungstatus &lt;- table(young$LikeUser, young$Status)
tbyoungstatus</code></pre>
<pre><code>##      
##       high low
##   no    11  23
##   yes   57  35</code></pre>
<p>We now calculate the gini value for status.</p>
<pre class="r"><code># calculate Gini for status
# calculate Gini for low
gini_younglow &lt;- 1-(tbyoungstatus[2,2]/sum(tbyoungstatus[,2]))^2 - (tbyoungstatus[1,2]/sum(tbyoungstatus[,2]))^2
# calculate Gini for high
gini_younghigh &lt;- 1-(tbyoungstatus[2,1]/sum(tbyoungstatus[,1]))^2 - (tbyoungstatus[1,1]/sum(tbyoungstatus[,1]))^2
# # calculate weighted average of Gini for status
gini_youngstatus &lt;- sum(tbyoungstatus[,2])/sum(tbyoungstatus)* gini_younglow +  sum(tbyoungstatus[,1])/sum(tbyoungstatus) * gini_younghigh
gini_youngstatus</code></pre>
<pre><code>## [1] 0.3666651</code></pre>
<p>Since the gini value for status (0.3667) is lower than the gini value
for gender (0.3886), we split by status.</p>
<p>We would continue to calculate the gini values and always split at
the lowest gini levels until we reach a leaf node. Then, we would
continue doing the same for the remaining branches until the entire data
is binned into different leaf nodes.</p>
<p>In addition to plotting the decision tree, we can also check its
accuracy. To do so, we predict the use of <em>like</em> based on the
decision tree and compare them to the observed uses of <em>like</em>.
Then we use the <code>confusionMatrix</code> function from the
<code>caret</code> package to get an overview of the accuracy
statistics.</p>
<pre class="r"><code>dtreeprediction &lt;- as.factor(ifelse(predict(dtree)[,2] &gt; .5, &quot;yes&quot;, &quot;no&quot;))
confusionMatrix(dtreeprediction, citdata$LikeUser)</code></pre>
<p>The conditional inference tree has an accuracy of 72.9 percent which
is significantly better than the base-line accuracy of 53.0 percent (No
Information Rate <span class="math inline">\(*\)</span> 100). To
understand what the other statistics refer to and how they are
calculated, run the command <code>?confusionMatrix</code>.</p>
</div>
<div id="splitting-numeric-ordinal-and-true-categorical-variables"
class="section level2 unnumbered">
<h2 class="unnumbered">Splitting numeric, ordinal, and true categorical
variables</h2>
<p>While it is rather straight forward to calculate the Gini values for
categorical variables, it may not seem quite as apparent how to
calculate splits for numeric or ordinal variables. To illustrate how the
algorithm works on such variables, consider the example data set shown
below.</p>
<template id="63e98257-e07c-4a53-8604-0c15e93bf3da"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-52ca835e{table-layout:auto;width:75%;}.cl-52be5688{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52be5692{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52c34800{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52c3480a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52c36772{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52c3677c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52c3677d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52c36786{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52c36787{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52c36790{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52c36791{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52c36792{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52b6e51a{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-52ca835e'><caption><span class="cl-52b6e51a">First 10 rows of the citdata2 data.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-52c36772"><p class="cl-52c34800"><span class="cl-52be5688">Age</span></p></td><td class="cl-52c3677c"><p class="cl-52c3480a"><span class="cl-52be5688">LikeUser</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-52c3677d"><p class="cl-52c34800"><span class="cl-52be5692">15</span></p></td><td class="cl-52c36786"><p class="cl-52c3480a"><span class="cl-52be5692">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52c36787"><p class="cl-52c34800"><span class="cl-52be5692">37</span></p></td><td class="cl-52c36790"><p class="cl-52c3480a"><span class="cl-52be5692">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52c3677d"><p class="cl-52c34800"><span class="cl-52be5692">63</span></p></td><td class="cl-52c36786"><p class="cl-52c3480a"><span class="cl-52be5692">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52c36787"><p class="cl-52c34800"><span class="cl-52be5692">42</span></p></td><td class="cl-52c36790"><p class="cl-52c3480a"><span class="cl-52be5692">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52c3677d"><p class="cl-52c34800"><span class="cl-52be5692">22</span></p></td><td class="cl-52c36786"><p class="cl-52c3480a"><span class="cl-52be5692">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52c36791"><p class="cl-52c34800"><span class="cl-52be5692">27</span></p></td><td class="cl-52c36792"><p class="cl-52c3480a"><span class="cl-52be5692">yes</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="f35503bd-ea75-4c95-8eda-31ed7670c984"></div>
<script>
var dest = document.getElementById("f35503bd-ea75-4c95-8eda-31ed7670c984");
var template = document.getElementById("63e98257-e07c-4a53-8604-0c15e93bf3da");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>In a first step, we order the numeric variable so that we arrive at
the following table.</p>
<template id="ce9369ee-431d-4784-a510-64c79c40a3f2"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-52f0a714{table-layout:auto;width:75%;}.cl-52e2c5ea{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52e2c5f4{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-52e75e5c{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52e75e66{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-52e77cde{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e77ce8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e77ce9{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e77cf2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e77cf3{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e77cfc{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e77cfd{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52e77d06{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-52dd4a5c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-52f0a714'><caption><span class="cl-52dd4a5c">First 10 rows of the citdata2 data arranged by age.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-52e77cde"><p class="cl-52e75e5c"><span class="cl-52e2c5ea">Age</span></p></td><td class="cl-52e77ce8"><p class="cl-52e75e66"><span class="cl-52e2c5ea">LikeUser</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-52e77ce9"><p class="cl-52e75e5c"><span class="cl-52e2c5f4">15</span></p></td><td class="cl-52e77cf2"><p class="cl-52e75e66"><span class="cl-52e2c5f4">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52e77cf3"><p class="cl-52e75e5c"><span class="cl-52e2c5f4">22</span></p></td><td class="cl-52e77cfc"><p class="cl-52e75e66"><span class="cl-52e2c5f4">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52e77ce9"><p class="cl-52e75e5c"><span class="cl-52e2c5f4">27</span></p></td><td class="cl-52e77cf2"><p class="cl-52e75e66"><span class="cl-52e2c5f4">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52e77cf3"><p class="cl-52e75e5c"><span class="cl-52e2c5f4">37</span></p></td><td class="cl-52e77cfc"><p class="cl-52e75e66"><span class="cl-52e2c5f4">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52e77ce9"><p class="cl-52e75e5c"><span class="cl-52e2c5f4">42</span></p></td><td class="cl-52e77cf2"><p class="cl-52e75e66"><span class="cl-52e2c5f4">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-52e77cfd"><p class="cl-52e75e5c"><span class="cl-52e2c5f4">63</span></p></td><td class="cl-52e77d06"><p class="cl-52e75e66"><span class="cl-52e2c5f4">no</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="64b5b361-e730-43bd-a242-c805158908a9"></div>
<script>
var dest = document.getElementById("64b5b361-e730-43bd-a242-c805158908a9");
var template = document.getElementById("ce9369ee-431d-4784-a510-64c79c40a3f2");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Next, we calculate the means for each level of “Age”.</p>
<template id="d2592bef-0b24-46a4-893c-1d08a10cf942"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-53136d44{table-layout:auto;width:75%;}.cl-5307c066{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5307c070{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-530c7dd6{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-530c7dea{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-530ca630{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-530ca63a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-530ca644{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-530ca645{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-530ca646{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-530ca64e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-530ca64f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-530ca658{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5302a61c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-53136d44'><caption><span class="cl-5302a61c">First 10 rows of the citdata3 data arranged by age.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-530ca630"><p class="cl-530c7dd6"><span class="cl-5307c066">Age</span></p></td><td class="cl-530ca63a"><p class="cl-530c7dea"><span class="cl-5307c066">LikeUser</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-530ca644"><p class="cl-530c7dd6"><span class="cl-5307c070">15.0</span></p></td><td class="cl-530ca645"><p class="cl-530c7dea"><span class="cl-5307c070">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca646"><p class="cl-530c7dd6"><span class="cl-5307c070">18.5</span></p></td><td class="cl-530ca64e"><p class="cl-530c7dea"><span class="cl-5307c070"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca644"><p class="cl-530c7dd6"><span class="cl-5307c070">22.0</span></p></td><td class="cl-530ca645"><p class="cl-530c7dea"><span class="cl-5307c070">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca646"><p class="cl-530c7dd6"><span class="cl-5307c070">24.5</span></p></td><td class="cl-530ca64e"><p class="cl-530c7dea"><span class="cl-5307c070"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca644"><p class="cl-530c7dd6"><span class="cl-5307c070">27.0</span></p></td><td class="cl-530ca645"><p class="cl-530c7dea"><span class="cl-5307c070">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca646"><p class="cl-530c7dd6"><span class="cl-5307c070">32.0</span></p></td><td class="cl-530ca64e"><p class="cl-530c7dea"><span class="cl-5307c070"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca644"><p class="cl-530c7dd6"><span class="cl-5307c070">37.0</span></p></td><td class="cl-530ca645"><p class="cl-530c7dea"><span class="cl-5307c070">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca646"><p class="cl-530c7dd6"><span class="cl-5307c070">39.5</span></p></td><td class="cl-530ca64e"><p class="cl-530c7dea"><span class="cl-5307c070"></span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca644"><p class="cl-530c7dd6"><span class="cl-5307c070">42.0</span></p></td><td class="cl-530ca645"><p class="cl-530c7dea"><span class="cl-5307c070">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-530ca64f"><p class="cl-530c7dd6"><span class="cl-5307c070">52.5</span></p></td><td class="cl-530ca658"><p class="cl-530c7dea"><span class="cl-5307c070"></span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="398d049c-be7e-40b8-8739-635d938cb67d"></div>
<script>
var dest = document.getElementById("398d049c-be7e-40b8-8739-635d938cb67d");
var template = document.getElementById("d2592bef-0b24-46a4-893c-1d08a10cf942");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Now, we calculate the Gini values for each average level of age. How
this is done is shown below for the first split.</p>
<p><span class="math display">\[\begin{equation}

G_{x} = 1 - ( p_{1} )^{2} - ( p_{0} )^{2}

\end{equation}\]</span></p>
<p>For an age smaller than 18.5 this would mean:</p>
<p><span class="math display">\[\begin{equation}

G_{youngerthan18.5} = 1-(\frac{1} {1+0})^{2} - (\frac{0} {1+0})^{2} =
0.0

\end{equation}\]</span></p>
<p>For an age greater than 18.5, we calculate G or Gini as follows:</p>
<p><span class="math display">\[\begin{equation}

G_{olerthan18.5} = 1-(\frac{2} {2+3})^{2} - (\frac{3} {2+3})^{2} = 0.48

\end{equation}\]</span></p>
<p>Now, we calculate the Gini for that split as we have done above.</p>
<p><span class="math display">\[\begin{equation}

G_{split18.5} = \frac{N_{youngerthan18.5}} {N_{Total}} \times
G_{youngerthan18.5} +  \frac{N_{olderthan18.5}} {N_{Total}} \times
G_{olderthan18.5}

G_{split18.5} = \frac{1} {6} \times 0.0 +  \frac{5} {6} \times 0.48 =
0.4

\end{equation}\]</span></p>
<p>We then have to calculate the gini values for all possible age splits
which yields the following results:</p>
<pre class="r"><code># 18.5
1-(1/(1+0))^2 - (0/(1+0))^2
1-(2/(2+3))^2 - (3/(2+3))^2
1/6 * 0.0 +  5/6 * 0.48
# 24.4
1-(2/(2+0))^2 - (0/(2+0))^2
1-(3/(3+1))^2 - (2/(3+1))^2
2/6 * 0.0 +  4/6 * 0.1875
# 32
1-(3/(3+0))^2 - (0/(3+0))^2
1-(1/(1+2))^2 - (2/(1+2))^2
3/6 * 0.0 +  3/6 * 0.4444444
# 39.5
1-(3/(3+1))^2 - (1/(3+1))^2
1-(1/(1+1))^2 - (1/(1+1))^2
4/6 * 0.375 +  2/6 * 0.5
# 52.5
1-(4/(4+1))^2 - (1/(4+1))^2
1-(0/(0+1))^2 - (1/(0+1))^2
5/6 * 0.32 +  1/6 * 0.0</code></pre>
<template id="8c1bf034-8663-452a-95f5-6e2a5ffb51bc"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-533ee51e{table-layout:auto;width:75%;}.cl-532f144a{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-532f1454{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-5336b66e{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-5336d266{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5336d270{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5336d271{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5336d27a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5336d27b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5336d284{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5336d285{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5336d286{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-5327be0c{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-533ee51e'><caption><span class="cl-5327be0c">First 10 rows of the citdata3 data with Gini coefficients.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-5336d266"><p class="cl-5336b66e"><span class="cl-532f144a">AgeSplit</span></p></td><td class="cl-5336d270"><p class="cl-5336b66e"><span class="cl-532f144a">Gini</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-5336d271"><p class="cl-5336b66e"><span class="cl-532f1454">18.5</span></p></td><td class="cl-5336d27a"><p class="cl-5336b66e"><span class="cl-532f1454">0.400</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-5336d27b"><p class="cl-5336b66e"><span class="cl-532f1454">24.5</span></p></td><td class="cl-5336d284"><p class="cl-5336b66e"><span class="cl-532f1454">0.500</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-5336d271"><p class="cl-5336b66e"><span class="cl-532f1454">32.0</span></p></td><td class="cl-5336d27a"><p class="cl-5336b66e"><span class="cl-532f1454">0.444</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-5336d27b"><p class="cl-5336b66e"><span class="cl-532f1454">39.5</span></p></td><td class="cl-5336d284"><p class="cl-5336b66e"><span class="cl-532f1454">0.410</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-5336d285"><p class="cl-5336b66e"><span class="cl-532f1454">52.5</span></p></td><td class="cl-5336d286"><p class="cl-5336b66e"><span class="cl-532f1454">0.267</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="0fcc8b9b-8b37-487c-a289-168a56fe5406"></div>
<script>
var dest = document.getElementById("0fcc8b9b-8b37-487c-a289-168a56fe5406");
var template = document.getElementById("8c1bf034-8663-452a-95f5-6e2a5ffb51bc");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>The split at 52.5 years of age has the lowest Gini value.
Accordingly, we would split the data between speakers who are younger
than 52.5 and speakers who are older than 52.5 years of age. The lowest
Gini value for any age split would also be the Gini value that would be
compared to other variables.</p>
<p>The same procedure that we have used to determine potential splits
for a numeric variable would apply to an ordinal variable with only two
differences:</p>
<ul>
<li>The Gini values are calculated for the actual levels and not the
means between variable levels.</li>
<li>The Gini value is nor calculated for the lowest and highest level as
the calculation of the Gini values is impossible for extreme values.
Extreme levels can, therefore, not serve as a potential split
location.</li>
</ul>
<p>When dealing with categorical variables with more than two levels,
the situation is slightly more complex as we would also have to
calculate the Gini values for combinations of variable levels. While the
calculations are, in principle, analogous to the ones performed for
binary of nominal categorical variables, we would also have to check if
combinations would lead to improved splits. For instance, imagine we
have a variable with categories A, B, and C. In such cases we would not
only have to calculate the Gini scores for A, B, and C but also for A
plus B, A plus C, and B plus C. Note that we ignore the combination A
plus B plus C as this combination would include all other potential
combinations.</p>
</div>
</div>
<div id="conditional-inference-trees" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Conditional Inference
Trees</h1>
<p>Conditional Inference Trees (CITs) are much better at determining the
<em>true</em> effect of a predictor, i.e. the effect of a predictor if
all other effects are simultaneously considered. In contrast to CARTs,
CITs use p-values to determine splits in the data. Below is a
conditional inference tree which shows how and what factors contribute
to the use of discourse <em>like</em>. In conditional inference trees
predictors are only included if the predictor is significant (i.e. if
these predictors are necessary).</p>
<pre class="r"><code>citdata &lt;- read.delim(&quot;https://slcladal.github.io/data/treedata.txt&quot;, header = T, sep = &quot;\t&quot;)
set.seed(111)        # set.seed
# apply bonferroni correction (1 minus alpha multiplied by n of predictors)
control = ctree_control(mincriterion = 1-(.05*ncol(citdata)-1))
# convert character strings to factors
citdata &lt;- citdata %&gt;%
  dplyr::mutate_if(is.character, factor)
# create initial conditional inference tree model
citd.ctree &lt;- partykit::ctree(LikeUser ~ Age + Gender + Status,
                    data = citdata)
plot(citd.ctree, gp = gpar(fontsize = 8)) # plot final ctree</code></pre>
<p><img src="tree_files/figure-html/cit1b-1.png" width="672" /></p>
<div id="prettifying-your-cit-tree" class="section level2 unnumbered">
<h2 class="unnumbered">Prettifying your CIT tree</h2>
<p>The easiest and most common way to visualize CITs is to simply use
the <code>plot</code> function from <code>base R</code>. However, using
this function does not allow to adapt and customize the visualization
except for some very basic parameters. The <code>ggparty</code> function
allows to use the <code>ggplot</code> syntax to customize CITs which
allows more adjustments and is more aesthetically pleasing.</p>
<p>To generate this customized CIT, we activate the <code>ggparty</code>
package and extract the significant p-values from the CIT object. We
then plot the CIT and define the nodes, edges, and text elements as
shown below.</p>
<pre class="r"><code># extract p-values
pvals &lt;- unlist(nodeapply(citd.ctree, ids = nodeids(citd.ctree), function(n) info_node(n)$p.value))
pvals &lt;- pvals[pvals &lt;.05]
# plotting
ggparty(citd.ctree) +
  geom_edge() +
  geom_edge_label() +
  geom_node_label(line_list = list(aes(label = splitvar),
                                   aes(label = paste0(&quot;N=&quot;, nodesize, &quot;, p&quot;, 
                                                      ifelse(pvals &lt; .001, &quot;&lt;.001&quot;, paste0(&quot;=&quot;, round(pvals, 3)))), 
                                       size = 10)),
                  line_gpar = list(list(size = 13), 
                                   list(size = 10)), 
                  ids = &quot;inner&quot;) +
  geom_node_label(aes(label = paste0(&quot;Node &quot;, id, &quot;, N = &quot;, nodesize)),
    ids = &quot;terminal&quot;, nudge_y = -0.0, nudge_x = 0.01) +
  geom_node_plot(gglist = list(
    geom_bar(aes(x = &quot;&quot;, fill = LikeUser),
             position = position_fill(), color = &quot;black&quot;),
      theme_minimal(),
      scale_fill_manual(values = c(&quot;gray50&quot;, &quot;gray80&quot;), guide = FALSE),
      scale_y_continuous(breaks = c(0, 1)),
    xlab(&quot;&quot;), 
    ylab(&quot;Probability&quot;),
    geom_text(aes(x = &quot;&quot;, group = LikeUser,
                  label = stat(count)),
              stat = &quot;count&quot;, position = position_fill(), vjust = 1.1)),
    shared_axis_labels = TRUE)</code></pre>
<p><img src="tree_files/figure-html/pretty-1.png" width="672" /></p>
<p>We can also use <code>position_dodge</code> (instead of
<code>position_fill</code>) to display frequencies rather than
probabilities as shown below.</p>
<pre class="r"><code># plotting
ggparty(citd.ctree) +
  geom_edge() +
  geom_edge_label() +
  geom_node_label(line_list = list(aes(label = splitvar),
                                   aes(label = paste0(&quot;N=&quot;, nodesize, &quot;, p&quot;, 
                                                      ifelse(pvals &lt; .001, &quot;&lt;.001&quot;, paste0(&quot;=&quot;, round(pvals, 3)))), 
                                       size = 10)),
                  line_gpar = list(list(size = 13), 
                                   list(size = 10)), 
                  ids = &quot;inner&quot;) +
  geom_node_label(aes(label = paste0(&quot;Node &quot;, id, &quot;, N = &quot;, nodesize)),
    ids = &quot;terminal&quot;, nudge_y = 0.01, nudge_x = 0.01) +
  geom_node_plot(gglist = list(
    geom_bar(aes(x = &quot;&quot;, fill = LikeUser),
             position = position_dodge(), color = &quot;black&quot;),
      theme_minimal(),
    theme(panel.grid.major = element_blank(), 
            panel.grid.minor = element_blank()),
      scale_fill_manual(values = c(&quot;gray50&quot;, &quot;gray80&quot;), guide = FALSE),
      scale_y_continuous(breaks = seq(0, 100, 20),
                         limits = c(0, 100)),
    xlab(&quot;&quot;), 
    ylab(&quot;Frequency&quot;),
      geom_text(aes(x = &quot;&quot;, group = LikeUser,
                    label = stat(count)),
                stat = &quot;count&quot;, 
                position = position_dodge(0.9), vjust = -0.7)),
    shared_axis_labels = TRUE)</code></pre>
<p><img src="tree_files/figure-html/plotctree-1.png" width="672" /></p>
</div>
<div id="problems-of-conditional-inference-trees"
class="section level2 unnumbered">
<h2 class="unnumbered">Problems of Conditional Inference Trees</h2>
<p>Like other tree-based methods, CITs are very intuitive, multivariate,
non-parametric, they do not require large data sets, and they are easy
to implement. Despite these obvious advantages, they have at least one
major short coming compared to other, more sophisticated tree-structure
models (in addition to the general issues that tree-structure models
exhibit as discussed above: they are prone to
<strong>overfitting</strong> which means that they fit the observed data
very well but preform much worse when being applied to new data.</p>
<p>An extension which remedies this problem is to use a so-called
ensemble method which grows many varied trees. The most common ensemble
method is called a <em>Random Forest Analysis</em> and will have a look
at how Random Forests work and how to implement them in R in the next
section.</p>
</div>
</div>
<div id="random-forests" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Random Forests</h1>
<p>Random Forests (RFs) are an extension of Conditional Inference Trees
<span class="citation">(<a href="#ref-breiman2001rf"
role="doc-biblioref">Breiman 2001a</a>)</span>. Like Conditional
Inference Trees, Random Forests represent a multivariate, non-parametric
partitioning method that is particularly useful when dealing with
relatively small sample sizes and many predictors (including
interactions) and they are insensitive to multicollinearity (if two
predictors strongly correlate with the dependent variable AND are highly
correlated or collinear, RFs will report both variables as highly
important - the ordering in which they were included into the model is
irrelevant). The latter point is a real advantage over regression models
in particular. Also, RFs outperform CITs in that they are substantially
less prone to overfitting and they perform much better when applied to
new data. However, random forests have several issues:</p>
<ul>
<li><p>RFs only show variable importance but not if the variable is
positively or negatively correlated with the dependent
variable;</p></li>
<li><p>RFs do not report if a variable is important as a main effect or
as part of an interactions</p></li>
<li><p>RFs do not indicate in which significant interactions a variable
is involved.</p></li>
</ul>
<p>Therefore, Random Forest analyses are ideal for classification,
imputing missing values, and - though to a lesser degree - as a variable
selection procedure but they do not lend themselves for drawing
inferences about the relationships of predictors and dependent
variables.</p>
<p><strong>Bootstrapped Data</strong></p>
<p>Random Forests do not work on one-and-the-same data set (as CITs do)
but in Random Forest analyses, many samples (with replacement) are drawn
from the original data set. This generation of new data set based on an
existing data set is called “bootstrapping”. Bootstrapping allows us to
produce many trees based on variations of the original data set rather
than dealing with only a single, fixed data set that would produce only
a single tree. Therefore, because the data is different each time, the
individual CITs are also different.</p>
<p>Imagine, we are dealing with a very small data set to which we want
to apply a Random Forest Analysis. The original data set is displayed
below.</p>
<template id="c6bce922-5e9c-41b0-8324-34bfc2784d46"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-55652966{table-layout:auto;width:75%;}.cl-555863fc{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55586406{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-555d1f00{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-555d1f0a{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-555d40e8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d40f2{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d40fc{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d40fd{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d40fe{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d4106{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d4110{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d4111{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d4112{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d411a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d411b{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-555d411c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55503ccc{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-55652966'><caption><span class="cl-55503ccc">First 10 rows of the citdata data.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-555d40e8"><p class="cl-555d1f00"><span class="cl-555863fc">Id</span></p></td><td class="cl-555d40f2"><p class="cl-555d1f0a"><span class="cl-555863fc">Age</span></p></td><td class="cl-555d40f2"><p class="cl-555d1f0a"><span class="cl-555863fc">Gender</span></p></td><td class="cl-555d40f2"><p class="cl-555d1f0a"><span class="cl-555863fc">Status</span></p></td><td class="cl-555d40fc"><p class="cl-555d1f0a"><span class="cl-555863fc">LikeUser</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-555d40fd"><p class="cl-555d1f00"><span class="cl-55586406">1</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">15-40</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">female</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">high</span></p></td><td class="cl-555d4106"><p class="cl-555d1f0a"><span class="cl-55586406">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d4110"><p class="cl-555d1f00"><span class="cl-55586406">2</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">15-40</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">female</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">high</span></p></td><td class="cl-555d4112"><p class="cl-555d1f0a"><span class="cl-55586406">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d40fd"><p class="cl-555d1f00"><span class="cl-55586406">3</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">15-40</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">male</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">high</span></p></td><td class="cl-555d4106"><p class="cl-555d1f0a"><span class="cl-55586406">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d4110"><p class="cl-555d1f00"><span class="cl-55586406">4</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">41-80</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">female</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">low</span></p></td><td class="cl-555d4112"><p class="cl-555d1f0a"><span class="cl-55586406">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d40fd"><p class="cl-555d1f00"><span class="cl-55586406">5</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">41-80</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">male</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">high</span></p></td><td class="cl-555d4106"><p class="cl-555d1f0a"><span class="cl-55586406">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d4110"><p class="cl-555d1f00"><span class="cl-55586406">6</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">41-80</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">male</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">low</span></p></td><td class="cl-555d4112"><p class="cl-555d1f0a"><span class="cl-55586406">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d40fd"><p class="cl-555d1f00"><span class="cl-55586406">7</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">41-80</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">female</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">low</span></p></td><td class="cl-555d4106"><p class="cl-555d1f0a"><span class="cl-55586406">yes</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d4110"><p class="cl-555d1f00"><span class="cl-55586406">8</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">15-40</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">male</span></p></td><td class="cl-555d4111"><p class="cl-555d1f0a"><span class="cl-55586406">high</span></p></td><td class="cl-555d4112"><p class="cl-555d1f0a"><span class="cl-55586406">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d40fd"><p class="cl-555d1f00"><span class="cl-55586406">9</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">41-80</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">male</span></p></td><td class="cl-555d40fe"><p class="cl-555d1f0a"><span class="cl-55586406">low</span></p></td><td class="cl-555d4106"><p class="cl-555d1f0a"><span class="cl-55586406">no</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-555d411a"><p class="cl-555d1f00"><span class="cl-55586406">10</span></p></td><td class="cl-555d411b"><p class="cl-555d1f0a"><span class="cl-55586406">41-80</span></p></td><td class="cl-555d411b"><p class="cl-555d1f0a"><span class="cl-55586406">male</span></p></td><td class="cl-555d411b"><p class="cl-555d1f0a"><span class="cl-55586406">low</span></p></td><td class="cl-555d411c"><p class="cl-555d1f0a"><span class="cl-55586406">no</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="64f0e00a-2725-4009-ad5d-0bdc0e2ea8ce"></div>
<script>
var dest = document.getElementById("64f0e00a-2725-4009-ad5d-0bdc0e2ea8ce");
var template = document.getElementById("c6bce922-5e9c-41b0-8324-34bfc2784d46");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>We now draw a sample from this data set and receive the following
data set.</p>
<pre><code>##   Id   Age Gender Status LikeUser
## 1  6 41-80   male    low       no
## 2  3 15-40   male   high       no
## 3  4 41-80 female    low      yes
## 4  1 15-40 female   high       no
## 5  2 15-40 female   high       no
## 6  2 15-40 female   high       no</code></pre>
<p>As you can see, the bootstrapped data contains the second row twice
while the fifth row is missing.</p>
<div id="out-of-bag-data" class="section level3 unnumbered">
<h3 class="unnumbered">Out-Of-Bag data</h3>
<p>Because the data is reshuffled for every new tree, a part of the data
(on average about 30%) remains unused for a given tree. The data that is
not used is called Out-Of-Bag data or OOB. The OOB is important because
the quality of the overall performance of the random forest can be
assessed by applying the resulting tree-model to the data that it was
not fit to. The quality of that tree is then measured in the OOB error,
which is the error rate of the respective tree if applied to the OOB
data.</p>
</div>
<div id="random-variable-selection" class="section level3 unnumbered">
<h3 class="unnumbered">Random Variable Selection</h3>
<p>Random Forests also differ from simple CITs in that at each step, not
all possible variables are considered for a node, but only a subset. For
example, we have a data set with five predicting independent variables
and one dependent variable. When generating a CIT, all possible
variables (variables that do not represent a node further up in the
tree) are considered as splitting candidates. In Random Forests, only a
fixed number (typically the square-root of the number of independent
variables) are considered as candidates for a node. So, at each
potential split, a fixed number of randomly selected variables is
considered potential node candidates.</p>
</div>
<div id="random-forests-in-r" class="section level2 unnumbered">
<h2 class="unnumbered">Random Forests in R</h2>
<p>This section shows how a Random Forest Analysis can be implemented in
R. Ina first step, we load and inspect the data.</p>
<pre class="r"><code># load random forest data
rfdata &lt;- read.delim(&quot;https://slcladal.github.io/data/mblrdata.txt&quot;, header = T, sep = &quot;\t&quot;)</code></pre>
<template id="960da5e2-879d-4e6e-bd94-4a342469b4c5"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-55d74866{table-layout:auto;width:75%;}.cl-55cae756{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55cae760{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55cf5660{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-55cf566a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-55cf74ce{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74d8{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74d9{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74e2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74e3{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74ec{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74ed{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74ee{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74ef{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74f6{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74f7{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55cf74f8{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55c3c3ea{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-55d74866'><caption><span class="cl-55c3c3ea">First 10 rows of the rfdata data.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-55cf74ce"><p class="cl-55cf5660"><span class="cl-55cae756">ID</span></p></td><td class="cl-55cf74d8"><p class="cl-55cf5660"><span class="cl-55cae756">Gender</span></p></td><td class="cl-55cf74d8"><p class="cl-55cf5660"><span class="cl-55cae756">Age</span></p></td><td class="cl-55cf74d8"><p class="cl-55cf5660"><span class="cl-55cae756">ConversationType</span></p></td><td class="cl-55cf74d8"><p class="cl-55cf5660"><span class="cl-55cae756">Priming</span></p></td><td class="cl-55cf74d9"><p class="cl-55cf566a"><span class="cl-55cae756">SUFlike</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-55cf74e2"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-061$C</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Women</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Young</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">MixedGender</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">NoPrime</span></p></td><td class="cl-55cf74ec"><p class="cl-55cf566a"><span class="cl-55cae760">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74ed"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-023$B</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Women</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Young</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">MixedGender</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">NoPrime</span></p></td><td class="cl-55cf74ef"><p class="cl-55cf566a"><span class="cl-55cae760">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74e2"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-054$A</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Women</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Young</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">SameGender</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">NoPrime</span></p></td><td class="cl-55cf74ec"><p class="cl-55cf566a"><span class="cl-55cae760">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74ed"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-090$B</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Women</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Young</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">MixedGender</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">NoPrime</span></p></td><td class="cl-55cf74ef"><p class="cl-55cf566a"><span class="cl-55cae760">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74e2"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-009$B</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Women</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Old</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">SameGender</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Prime</span></p></td><td class="cl-55cf74ec"><p class="cl-55cf566a"><span class="cl-55cae760">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74ed"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-085$E</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Men</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Young</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">MixedGender</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Prime</span></p></td><td class="cl-55cf74ef"><p class="cl-55cf566a"><span class="cl-55cae760">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74e2"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-003$C</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Women</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Young</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">MixedGender</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">NoPrime</span></p></td><td class="cl-55cf74ec"><p class="cl-55cf566a"><span class="cl-55cae760">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74ed"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-084$C</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Women</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">Young</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">SameGender</span></p></td><td class="cl-55cf74ee"><p class="cl-55cf5660"><span class="cl-55cae760">NoPrime</span></p></td><td class="cl-55cf74ef"><p class="cl-55cf566a"><span class="cl-55cae760">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74e2"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-076$A</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Women</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">Young</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">SameGender</span></p></td><td class="cl-55cf74e3"><p class="cl-55cf5660"><span class="cl-55cae760">NoPrime</span></p></td><td class="cl-55cf74ec"><p class="cl-55cf566a"><span class="cl-55cae760">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55cf74f6"><p class="cl-55cf5660"><span class="cl-55cae760">S1A-083$D</span></p></td><td class="cl-55cf74f7"><p class="cl-55cf5660"><span class="cl-55cae760">Men</span></p></td><td class="cl-55cf74f7"><p class="cl-55cf5660"><span class="cl-55cae760">Old</span></p></td><td class="cl-55cf74f7"><p class="cl-55cf5660"><span class="cl-55cae760">MixedGender</span></p></td><td class="cl-55cf74f7"><p class="cl-55cf5660"><span class="cl-55cae760">NoPrime</span></p></td><td class="cl-55cf74f8"><p class="cl-55cf566a"><span class="cl-55cae760">1</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="61045ff4-7312-4d10-8660-2871cd200172"></div>
<script>
var dest = document.getElementById("61045ff4-7312-4d10-8660-2871cd200172");
var template = document.getElementById("960da5e2-879d-4e6e-bd94-4a342469b4c5");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>The data consists of four categorical variables (<code>Gender</code>,
<code>Age</code>, <code>ConversationType</code>, and
<code>SUFlike</code>). Our dependent variable is <code>SUFlike</code>
which stands for speech-unit final <em>like</em> (a pragmatic marker
that is common in Irish English and is used as in <em>A wee girl of her
age, like</em>). While Age and Gender are pretty straight forward what
they are called, <em>ConversationType</em> encodes whether a
conversation has taken place between interlocutors of the same or of
different genders.</p>
<p>Before going any further, we need to factorize the variables as
tree-based models require factors instead of character variables (but
they can, of course, handle numeric and ordinal variables). In addition,
we will check if the data contains missing values (NAs; NA stands for
<em>not available</em>).</p>
<pre class="r"><code># factorize variables (rf require factors instead of character vectors)
rfdata &lt;- rfdata %&gt;%
  dplyr::mutate_if(is.character, factor) %&gt;%
  dplyr::select(-ID)</code></pre>
<template id="a5745fad-7fa8-4d50-9d51-7a379195faa3"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-560a7704{table-layout:auto;width:75%;}.cl-55f41982{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55f4198c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-55f8f22c{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-55f8f236{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-55f90eec{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90ef6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90ef7{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f00{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f01{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f0a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f0b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f14{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f15{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f16{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f1e{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55f90f1f{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-55ecdba4{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-560a7704'><caption><span class="cl-55ecdba4">First 10 rows of the factorized rfdata data.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-55f90eec"><p class="cl-55f8f22c"><span class="cl-55f41982">Gender</span></p></td><td class="cl-55f90ef6"><p class="cl-55f8f22c"><span class="cl-55f41982">Age</span></p></td><td class="cl-55f90ef6"><p class="cl-55f8f22c"><span class="cl-55f41982">ConversationType</span></p></td><td class="cl-55f90ef6"><p class="cl-55f8f22c"><span class="cl-55f41982">Priming</span></p></td><td class="cl-55f90ef7"><p class="cl-55f8f236"><span class="cl-55f41982">SUFlike</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-55f90f00"><p class="cl-55f8f22c"><span class="cl-55f4198c">Women</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">Young</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">MixedGender</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">NoPrime</span></p></td><td class="cl-55f90f0a"><p class="cl-55f8f236"><span class="cl-55f4198c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f0b"><p class="cl-55f8f22c"><span class="cl-55f4198c">Women</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">Young</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">MixedGender</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">NoPrime</span></p></td><td class="cl-55f90f15"><p class="cl-55f8f236"><span class="cl-55f4198c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f00"><p class="cl-55f8f22c"><span class="cl-55f4198c">Women</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">Young</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">SameGender</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">NoPrime</span></p></td><td class="cl-55f90f0a"><p class="cl-55f8f236"><span class="cl-55f4198c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f0b"><p class="cl-55f8f22c"><span class="cl-55f4198c">Women</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">Young</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">MixedGender</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">NoPrime</span></p></td><td class="cl-55f90f15"><p class="cl-55f8f236"><span class="cl-55f4198c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f00"><p class="cl-55f8f22c"><span class="cl-55f4198c">Women</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">Old</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">SameGender</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">Prime</span></p></td><td class="cl-55f90f0a"><p class="cl-55f8f236"><span class="cl-55f4198c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f0b"><p class="cl-55f8f22c"><span class="cl-55f4198c">Men</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">Young</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">MixedGender</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">Prime</span></p></td><td class="cl-55f90f15"><p class="cl-55f8f236"><span class="cl-55f4198c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f00"><p class="cl-55f8f22c"><span class="cl-55f4198c">Women</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">Young</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">MixedGender</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">NoPrime</span></p></td><td class="cl-55f90f0a"><p class="cl-55f8f236"><span class="cl-55f4198c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f0b"><p class="cl-55f8f22c"><span class="cl-55f4198c">Women</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">Young</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">SameGender</span></p></td><td class="cl-55f90f14"><p class="cl-55f8f22c"><span class="cl-55f4198c">NoPrime</span></p></td><td class="cl-55f90f15"><p class="cl-55f8f236"><span class="cl-55f4198c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f00"><p class="cl-55f8f22c"><span class="cl-55f4198c">Women</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">Young</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">SameGender</span></p></td><td class="cl-55f90f01"><p class="cl-55f8f22c"><span class="cl-55f4198c">NoPrime</span></p></td><td class="cl-55f90f0a"><p class="cl-55f8f236"><span class="cl-55f4198c">0</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-55f90f16"><p class="cl-55f8f22c"><span class="cl-55f4198c">Men</span></p></td><td class="cl-55f90f1e"><p class="cl-55f8f22c"><span class="cl-55f4198c">Old</span></p></td><td class="cl-55f90f1e"><p class="cl-55f8f22c"><span class="cl-55f4198c">MixedGender</span></p></td><td class="cl-55f90f1e"><p class="cl-55f8f22c"><span class="cl-55f4198c">NoPrime</span></p></td><td class="cl-55f90f1f"><p class="cl-55f8f236"><span class="cl-55f4198c">1</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="4af5a203-956a-48ce-a03a-7ae1c991b309"></div>
<script>
var dest = document.getElementById("4af5a203-956a-48ce-a03a-7ae1c991b309");
var template = document.getElementById("a5745fad-7fa8-4d50-9d51-7a379195faa3");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>We now check if the data contains missing values and remove those (if
necessary).</p>
<pre class="r"><code># check for NAs
natest &lt;- rfdata %&gt;%
  na.omit()
nrow(natest) # no NAs present in data (same number of rows with NAs omitted)</code></pre>
<pre><code>## [1] 2000</code></pre>
<p>In our case, the data does not contain missing values. Random Forests
offer a very nice way to deal with missing data though. If NAs are
present, they can either be deleted OR their values for any missing
values can be imputed using proximities. In this way, such data points
do not have to be removed which can be problematic especially when
dealing with relatively small data sets. For imputing values, you could
run the code below but as our data does not have NAs, we will skip this
step and just show it here so you can have a look at how it is done.</p>
<pre class="r"><code># replacing NAs with estimates
data.imputed &lt;- rfImpute(SUFlike ~ ., data = rfdata, iter=6)</code></pre>
<p>The argument <code>iter</code> refers to the number of iterations to
run. According to <span class="citation">(<a href="#ref-breiman2001rf"
role="doc-biblioref">Breiman 2001a</a>)</span>, 4 to 6 iterations is
usually good enough. With this data set (if it had NAs) and when we were
to execute the code, the resulting OOB-error rates lie somewhere around
17 and 18 percent. When we were to set <code>iter</code> to 20, we get
values a little better and a little worse, so doing more iterations
doesn’t improve the situation.</p>
<p>Also, if you want to customize the <code>rfImpute</code> function,
you can change the number of trees it uses (the default is 300) and the
number of variables that it will consider at each step.</p>
<p>We will now generate a first random forest object and inspect its
model fit. As random forests rely on re-sampling, we set a seed so that
we arrive at the same estimations.</p>
<pre class="r"><code># set.seed
set.seed(2019120204)
# create initial model
rfmodel1 &lt;- cforest(SUFlike ~ .,  data = rfdata, 
                    controls = cforest_unbiased(ntree = 50, mtry = 3))
# evaluate random forest (model diagnostics)
rfmodel1_pred &lt;- unlist(party::treeresponse(rfmodel1))#[c(FALSE,TRUE)]
somers2(rfmodel1_pred, as.numeric(rfdata$SUFlike))</code></pre>
<pre><code>##            C          Dxy            n      Missing 
##    0.7112131    0.4224262 2000.0000000    0.0000000</code></pre>
<p>The model parameters are good but not excellent: remember that if the
C-value is 0.5, the predictions are random, while the predictions are
perfect if the C-value is 1. C-values above 0.8 indicate real predictive
capacity <span class="citation">(<a href="#ref-baayen2008analyzing"
role="doc-biblioref">Baayen 2008, 204</a>)</span>. Somers’
D<sub>xy</sub> is a value that represents a rank correlation between
predicted probabilities and observed responses. Somers’ D<sub>xy</sub>
values range between 0, which indicates complete randomness, and 1,
which indicates perfect prediction <span class="citation">(<a
href="#ref-baayen2008analyzing" role="doc-biblioref">Baayen 2008,
204</a>)</span>.</p>
<p>In a next step, we extract the variable importance
<code>conditional=T</code> adjusts for correlations between
predictors).</p>
<pre class="r"><code># extract variable importance based on mean decrease in accuracy
rfmodel1_varimp &lt;- varimp(rfmodel1, conditional = T) 
# show variable importance
rfmodel1_varimp</code></pre>
<pre><code>##           Gender              Age ConversationType          Priming 
##      0.003770260      0.000542920      0.002520164      0.022095496</code></pre>
<p>We can also calculate more robust variable importance using the
<code>varimpAUC</code> function from the <code>party</code> package
which calculates importance statistics that are corrected towards class
imbalance, i.e. differences in the number of instances per category. The
variable importance is easily visualized using the <code>dotplot</code>
function from base R.</p>
<pre class="r"><code># extract more robust variable importance 
rfmodel1_robustvarimp &lt;- party::varimp(rfmodel1)  
# plot result
dotchart(sort(rfmodel1_robustvarimp), pch = 20, main = &quot;Conditional importance of variables&quot;)</code></pre>
<p><img src="tree_files/figure-html/rf8-1.png" width="672" /></p>
<p>The plot shows that Age is the most important predictor and that
Priming is not really important as a predictor for speech-unit final
like. Gender and ConversationType are equally important but both much
less so than Age.</p>
<p>We will now use an alternative way to calculate RFs which allows us
to use different diagnostics and pruning techniques by using the
<code>randomForest</code> rather than the <code>cforest</code>
function.</p>
<p>A few words on the parameters of the <code>randomForest</code>
function: if the thing we’re trying to predict is a numeric variable,
the <code>randomForest</code> function will set <code>mtry</code> (the
number of variables considered at each step) to the total number of
variables divided by 3 (rounded down), or to 1 if the division results
in a value less than 1. If the thing we’re trying to predict is a
“factor” (i.e. either “yes/no” or “ranked”), then
<code>randomForest()</code> will set <code>mtry</code> to the square
root of the number of variables (rounded down to the next integer
value).Again, we start by setting a seed to store random numbers and
thus make results reproducible.</p>
<pre class="r"><code># set.seed
set.seed(2019120205)
rfmodel2 &lt;- randomForest::randomForest(SUFlike ~ ., 
                                       data=rfdata, 
                                       mtry = 2,
                                       proximity=TRUE)
# inspect model
rfmodel2 </code></pre>
<pre><code>## 
## Call:
##  randomForest(formula = SUFlike ~ ., data = rfdata, mtry = 2,      proximity = TRUE) 
##                Type of random forest: regression
##                      Number of trees: 500
## No. of variables tried at each split: 2
## 
##           Mean of squared residuals: 0.1277716
##                     % Var explained: 10.28</code></pre>
<p>The output tells us that the model explains less than 15 percent of
the variance. It is recommendable to check if changing parameters causes
and increase in the amount of variance that is explained by a model
(which is desirable). In this case, we can try different values for
<code>mtry</code> and for <code>ntree</code> as shown below and then
compare the performance of the random forest models by inspecting the
amount of variance that they explain. Again, we begin by setting a seed
and then continue by specifying the random forest model.</p>
<pre class="r"><code># set.seed (to store random numbers and thus make results reproducible)
set.seed(2019120206)
# create a new model with fewer trees and that takes 2 variables at a time
rfmodel3 &lt;- randomForest(SUFlike ~ ., data=rfdata, ntree=30, mtry = 4, proximity=TRUE)
# inspect model
rfmodel3</code></pre>
<pre><code>## 
## Call:
##  randomForest(formula = SUFlike ~ ., data = rfdata, ntree = 30,      mtry = 4, proximity = TRUE) 
##                Type of random forest: regression
##                      Number of trees: 30
## No. of variables tried at each split: 4
## 
##           Mean of squared residuals: 0.1283899
##                     % Var explained: 9.85</code></pre>
<p>Despite optimization, the results have not changed but it may be very
useful for other data. To evaluate the tree, we create a confusion
matrix.</p>
<pre class="r"><code># save what the model predicted in a new variable
rfdata$Probability &lt;- predict(rfmodel3, rfdata)
rfdata$Prediction &lt;- ifelse(rfdata$Probability &gt;=.5, 1, 0)
# create confusion matrix to check accuracy
confusionMatrix(as.factor(rfdata$Prediction), as.factor(rfdata$SUFlike))  </code></pre>
<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    0    1
##          0 1622  297
##          1   34   47
##                                              
##                Accuracy : 0.8345             
##                  95% CI : (0.8175, 0.8505)   
##     No Information Rate : 0.828              
##     P-Value [Acc &gt; NIR] : 0.2303             
##                                              
##                   Kappa : 0.1665             
##                                              
##  Mcnemar&#39;s Test P-Value : &lt;0.0000000000000002
##                                              
##             Sensitivity : 0.9795             
##             Specificity : 0.1366             
##          Pos Pred Value : 0.8452             
##          Neg Pred Value : 0.5802             
##              Prevalence : 0.8280             
##          Detection Rate : 0.8110             
##    Detection Prevalence : 0.9595             
##       Balanced Accuracy : 0.5580             
##                                              
##        &#39;Positive&#39; Class : 0                  
## </code></pre>
<p>The RF performs significantly better than a no-information base-line
model but the base-line model already predicts 78.18 percent of cases
correctly (compared to the RF with a prediction accuracy of 82.5
percent).</p>
<p>Unfortunately, we cannot easily compute robust variable importance
for RF models nor C or Somers’ D<sub>xy</sub> which is why it is
advisable to create analogous models using both the <code>cforest</code>
and the <code>randomForest</code> functions. In a last step, we can now
visualize the results of the optimized RF.</p>
<pre class="r"><code># plot variable importance
varImpPlot(rfmodel3, main = &quot;&quot;, pch = 20)</code></pre>
<p><img src="tree_files/figure-html/rf15-1.png" width="672" /></p>
<p>Here is an alternative way of plotting variable importance using the
<code>vip</code> function from the <code>vip</code> package.</p>
<pre class="r"><code># generate vip plot
vip::vip(rfmodel3, geom = &quot;point&quot;, horizontal = FALSE)</code></pre>
<p><img src="tree_files/figure-html/rf16-1.png" width="672" /></p>
<p>Using the <code>vip</code> package, you can also generate variable
importance barplots.</p>
<pre class="r"><code># generate vip plot
vip::vip(rfmodel3, horizontal = FALSE)</code></pre>
<p><img src="tree_files/figure-html/rf17-1.png" width="672" /></p>
<p>A second type of visualization that can provide insights in the
<code>partial</code> function from the <code>pdp</code> package which
shows the effects of individual predictors - but remember that this
still does not provide information about the way that the predictor
interacts with other predictors.</p>
<pre class="r"><code># extract importance of individual variables
rfmodel3 %&gt;%  # the %&gt;% operator is read as &quot;and then&quot;
  partial(pred.var = &quot;Age&quot;) %&gt;%
  autoplot(smooth = TRUE, ylab = expression(f(Age))) +
  theme_light() +
  ggtitle(&quot;Partial Depencence Plot: Age&quot;) + 
  ylim(-20, 0)</code></pre>
<p><img src="tree_files/figure-html/rf18-1.png" width="672" /></p>
<p>You can however use the <code>partial</code> function to show how the
effect of predictors interacts with other predictors (see below).</p>
<pre class="r"><code>partial(rfmodel3, pred.var = c(&quot;Age&quot;, &quot;Gender&quot;), plot = TRUE, plot.engine = &quot;ggplot2&quot;)</code></pre>
<p><img src="tree_files/figure-html/rf19-1.png" width="672" /></p>
<p>Another common way to evaluate the performance of RFs is to split the
data into a test and a training set. the model is then fit to the
training set and, after that, applied to the test set. This allows us to
evaluate how well the RF performs on data that it was not trained on.
This approach is particularly common in machine learning contexts.</p>
</div>
</div>
<div id="boruta" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Boruta</h1>
<p>Boruta <span class="citation">(<a href="#ref-kursa2010feature"
role="doc-biblioref">Kursa, Rudnicki, et al. 2010</a>)</span> is a
variable selection procedure and it represents an extension of random
forest analyses <span class="citation">(<a href="#ref-breiman2001rf"
role="doc-biblioref">Breiman 2001a</a>)</span>. The name <em>Boruta</em>
is derived from a demon in Slavic mythology who dwelled in pine forests.
Boruta is an alternative to regression modeling that is better equipped
to handle small data sets because it uses a distributional approach
during which hundreds of (random) forests are grown from permuted data
sets.</p>
<div id="advantages-1" class="section level2 unnumbered">
<h2 class="unnumbered">Advantages</h2>
<p>Boruta outperforms random forest analyses because:</p>
<ul>
<li><p>Boruta does not provide merely a single value for each predictor
but a distribution of values leading to higher reliability.</p></li>
<li><p>Boruta provides definitive cut-off points for variables that have
no meaningful relationship with the dependent variable. This is a
crucial difference between RF and Boruta that make Boruta particularly
interesting from a variable selection point of view.</p></li>
</ul>
</div>
<div id="procedure" class="section level2 unnumbered">
<h2 class="unnumbered">Procedure</h2>
<p>The Boruta procedure consists out of five steps.</p>
<ul>
<li><p>In a first step, the Boruta algorithm copies the data set and
adds randomness to the data by (re-)shuffling data points and thereby
creating randomized variables. These randomized variables are referred
to as shadow features.</p></li>
<li><p>Secondly, a random forest classifier is trained on the extended
data set.</p></li>
<li><p>In a third step, a feature importance measure (Mean Decrease
Accuracy represented by z-scores) is calculated to determine the
relative importance of all predictors (both original or real variables
and the randomized shadow features).</p></li>
<li><p>In the next step, it is checked at each iteration of the process
whether a real predictor has a higher importance compared with the best
shadow feature. The algorithm keeps track of the performance of the
original variables by storing whether they outperformed the best shadow
feature or not in a vector.</p></li>
<li><p>In the fifth step, predictors that did not outperform the best
shadow feature are removed and the process continues without them. After
a set number of iterations, or if all the variables have been either
confirmed as outperforming the best shadow feature, the algorithm
stops.</p></li>
</ul>
<p>Despite its obvious advantages of Boruta over random forest analyses
and regression modeling, it can neither handle multicollinearity not
hierarchical data structures where data points are nested or grouped by
a given predictor (as is the case in the present analysis as data points
are grouped by adjective type). As Boruta is a variable selection
procedure, it is also limited in the sense that it provides information
on which predictors to include and how good these predictors are
(compared to the shadow variables) while it is neither able to take
hierarchical data structure into account, nor does it provide
information about how one level of a factor compares to other factors.
In other words, Boruta shows that a predictor is relevant and how strong
it is but it does not provide information on how the likelihood of an
outcome being used differs between variable levels, for instance between
men and women.</p>
</div>
<div id="boruta-in-r" class="section level2 unnumbered">
<h2 class="unnumbered">Boruta in R</h2>
<p>We begin by loading and inspecting the data.</p>
<pre class="r"><code># load data
borutadata &lt;- read.delim(&quot;https://slcladal.github.io/data/ampaus05_statz.txt&quot;, header = T, sep = &quot;\t&quot;)</code></pre>
<template id="919de7a6-0b12-43c5-b018-a5aa3bb60925"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-60511ad8{table-layout:auto;width:75%;}.cl-6044788c{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-604478a0{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-6049b680{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6049b68a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-6049d502{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d503{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d50c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d50d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d516{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d517{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d518{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d520{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d521{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d522{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d52a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d52b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d52c{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d52d{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d534{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-6049d535{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-603be636{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-60511ad8'><caption><span class="cl-603be636">First 10 rows of the borutadata data.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-6049d502"><p class="cl-6049b680"><span class="cl-6044788c">Age</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">Adjective</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">FileSpeaker</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">Function</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">Priming</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">Gender</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">Occupation</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">ConversationType</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">AudienceSize</span></p></td><td class="cl-6049d50c"><p class="cl-6049b68a"><span class="cl-6044788c">very</span></p></td><td class="cl-6049d50c"><p class="cl-6049b68a"><span class="cl-6044788c">really</span></p></td><td class="cl-6049d50c"><p class="cl-6049b68a"><span class="cl-6044788c">Freq</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">Gradabilty</span></p></td><td class="cl-6049d503"><p class="cl-6049b680"><span class="cl-6044788c">SemanticCategory</span></p></td><td class="cl-6049d50d"><p class="cl-6049b680"><span class="cl-6044788c">Emotionality</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-6049d516"><p class="cl-6049b680"><span class="cl-604478a0">26-40</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">good</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-001:1$B&gt;</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Attributive</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Men</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">AcademicManagerialProfessionals</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">SameSex</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">MultipleInterlocutors</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">27.84810</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NotGradable</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Value</span></p></td><td class="cl-6049d520"><p class="cl-6049b680"><span class="cl-604478a0">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d521"><p class="cl-6049b680"><span class="cl-604478a0">26-40</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">good</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-001:1$B&gt;</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Attributive</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Men</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">AcademicManagerialProfessionals</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">SameSex</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">MultipleInterlocutors</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">27.84810</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">NotGradable</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Value</span></p></td><td class="cl-6049d52b"><p class="cl-6049b680"><span class="cl-604478a0">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d516"><p class="cl-6049b680"><span class="cl-604478a0">26-40</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">good</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-001:1$B&gt;</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Predicative</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Men</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">AcademicManagerialProfessionals</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">SameSex</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">MultipleInterlocutors</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">27.84810</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NotGradable</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Value</span></p></td><td class="cl-6049d520"><p class="cl-6049b680"><span class="cl-604478a0">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d521"><p class="cl-6049b680"><span class="cl-604478a0">17-25</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">nice</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-003:1$B&gt;</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Attributive</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Men</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">AcademicManagerialProfessionals</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">SameSex</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Dyad</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">1</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">7.29282</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">NotGradable</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">HumanPropensity</span></p></td><td class="cl-6049d52b"><p class="cl-6049b680"><span class="cl-604478a0">NonEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d516"><p class="cl-6049b680"><span class="cl-604478a0">41-80</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">other</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-003:1$A&gt;</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Predicative</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Men</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">AcademicManagerialProfessionals</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">SameSex</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Dyad</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0.61728</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NotGradable</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Value</span></p></td><td class="cl-6049d520"><p class="cl-6049b680"><span class="cl-604478a0">NonEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d521"><p class="cl-6049b680"><span class="cl-604478a0">41-80</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">other</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-004:1$C&gt;</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Predicative</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Men</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0"></span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">MixedSex</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">MultipleInterlocutors</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">1</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">2.46914</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">NotGradable</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Value</span></p></td><td class="cl-6049d52b"><p class="cl-6049b680"><span class="cl-604478a0">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d516"><p class="cl-6049b680"><span class="cl-604478a0">41-80</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">good</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-004:1$B&gt;</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Attributive</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Women</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">AcademicManagerialProfessionals</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">MixedSex</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">MultipleInterlocutors</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">20.98765</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NotGradable</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Value</span></p></td><td class="cl-6049d520"><p class="cl-6049b680"><span class="cl-604478a0">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d521"><p class="cl-6049b680"><span class="cl-604478a0">41-80</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">other</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-005:1$B&gt;</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Predicative</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">Women</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0"></span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">MixedSex</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">MultipleInterlocutors</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">1</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d52a"><p class="cl-6049b68a"><span class="cl-604478a0">0.61728</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">GradabilityUndetermined</span></p></td><td class="cl-6049d522"><p class="cl-6049b680"><span class="cl-604478a0">HumanPropensity</span></p></td><td class="cl-6049d52b"><p class="cl-6049b680"><span class="cl-604478a0">NegativeEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d516"><p class="cl-6049b680"><span class="cl-604478a0">17-25</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">other</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-006:1$B&gt;</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Attributive</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">NoPrime</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Men</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">AcademicManagerialProfessionals</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">MixedSex</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">MultipleInterlocutors</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">1</span></p></td><td class="cl-6049d518"><p class="cl-6049b68a"><span class="cl-604478a0">4.64088</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">GradabilityUndetermined</span></p></td><td class="cl-6049d517"><p class="cl-6049b680"><span class="cl-604478a0">Dimension</span></p></td><td class="cl-6049d520"><p class="cl-6049b680"><span class="cl-604478a0">NonEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-6049d52c"><p class="cl-6049b680"><span class="cl-604478a0">17-25</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">other</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">&lt;S1A-006:1$B&gt;</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">Attributive</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">Prime</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">Men</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">AcademicManagerialProfessionals</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">MixedSex</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">MultipleInterlocutors</span></p></td><td class="cl-6049d534"><p class="cl-6049b68a"><span class="cl-604478a0">0</span></p></td><td class="cl-6049d534"><p class="cl-6049b68a"><span class="cl-604478a0">1</span></p></td><td class="cl-6049d534"><p class="cl-6049b68a"><span class="cl-604478a0">0.44199</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">NotGradable</span></p></td><td class="cl-6049d52d"><p class="cl-6049b680"><span class="cl-604478a0">PhysicalProperty</span></p></td><td class="cl-6049d535"><p class="cl-6049b680"><span class="cl-604478a0">NonEmotional</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="20098fcc-3893-4116-a3ea-11facfb50490"></div>
<script>
var dest = document.getElementById("20098fcc-3893-4116-a3ea-11facfb50490");
var template = document.getElementById("919de7a6-0b12-43c5-b018-a5aa3bb60925");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>As the data contains non-factorized character variables, we convert
those into factors.</p>
<pre class="r"><code># factorize variables (boruta - like rf - require factors instead of character vectors)
borutadata &lt;- borutadata %&gt;%
  dplyr::filter(complete.cases(.)) %&gt;%
  dplyr::mutate_if(is.character, factor)</code></pre>
<template id="71fee7cd-2d1e-4357-8dc5-7aa736d19fef"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  border-color: transparent;
  caption-side: top;
}
.tabwid-caption-bottom table{
  caption-side: bottom;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
.katex-display {
    margin: 0 0 !important;
}
</style><div class="tabwid"><style>.cl-60876bc4{table-layout:auto;width:75%;}.cl-607a917e{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-607a9188{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-607f2acc{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-607f2ad6{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-607f4700{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4701{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f470a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f470b{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f470c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4714{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4715{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4716{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f471e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f471f{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4720{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4728{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4729{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f472a{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4732{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607f4733{background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-607280ba{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}</style><table class='cl-60876bc4'><caption><span class="cl-607280ba">First 10 rows of the factorized borutadata data.</span></caption><thead><tr style="overflow-wrap:break-word;"><td class="cl-607f4700"><p class="cl-607f2acc"><span class="cl-607a917e">Age</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">Adjective</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">FileSpeaker</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">Function</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">Priming</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">Gender</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">Occupation</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">ConversationType</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">AudienceSize</span></p></td><td class="cl-607f470a"><p class="cl-607f2ad6"><span class="cl-607a917e">very</span></p></td><td class="cl-607f470a"><p class="cl-607f2ad6"><span class="cl-607a917e">really</span></p></td><td class="cl-607f470a"><p class="cl-607f2ad6"><span class="cl-607a917e">Freq</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">Gradabilty</span></p></td><td class="cl-607f4701"><p class="cl-607f2acc"><span class="cl-607a917e">SemanticCategory</span></p></td><td class="cl-607f470b"><p class="cl-607f2acc"><span class="cl-607a917e">Emotionality</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-607f470c"><p class="cl-607f2acc"><span class="cl-607a9188">26-40</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">good</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-001:1$B&gt;</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Attributive</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">NoPrime</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Men</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">SameSex</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">MultipleInterlocutors</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">27.84810</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Value</span></p></td><td class="cl-607f4716"><p class="cl-607f2acc"><span class="cl-607a9188">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f471e"><p class="cl-607f2acc"><span class="cl-607a9188">26-40</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">good</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-001:1$B&gt;</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Attributive</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">NoPrime</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Men</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">SameSex</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">MultipleInterlocutors</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">27.84810</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Value</span></p></td><td class="cl-607f4728"><p class="cl-607f2acc"><span class="cl-607a9188">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f470c"><p class="cl-607f2acc"><span class="cl-607a9188">26-40</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">good</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-001:1$B&gt;</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Predicative</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">NoPrime</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Men</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">SameSex</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">MultipleInterlocutors</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">27.84810</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Value</span></p></td><td class="cl-607f4716"><p class="cl-607f2acc"><span class="cl-607a9188">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f471e"><p class="cl-607f2acc"><span class="cl-607a9188">17-25</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">nice</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-003:1$B&gt;</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Attributive</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">NoPrime</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Men</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">SameSex</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Dyad</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">1</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">7.29282</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">HumanPropensity</span></p></td><td class="cl-607f4728"><p class="cl-607f2acc"><span class="cl-607a9188">NonEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f470c"><p class="cl-607f2acc"><span class="cl-607a9188">41-80</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">other</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-003:1$A&gt;</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Predicative</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">NoPrime</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Men</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">SameSex</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Dyad</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0.61728</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Value</span></p></td><td class="cl-607f4716"><p class="cl-607f2acc"><span class="cl-607a9188">NonEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f471e"><p class="cl-607f2acc"><span class="cl-607a9188">41-80</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">good</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-004:1$B&gt;</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Attributive</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">NoPrime</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Women</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">MixedSex</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">MultipleInterlocutors</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">20.98765</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Value</span></p></td><td class="cl-607f4728"><p class="cl-607f2acc"><span class="cl-607a9188">PositiveEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f470c"><p class="cl-607f2acc"><span class="cl-607a9188">17-25</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">other</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-006:1$B&gt;</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Attributive</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">NoPrime</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Men</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">MixedSex</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">MultipleInterlocutors</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">1</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">4.64088</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">GradabilityUndetermined</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Dimension</span></p></td><td class="cl-607f4716"><p class="cl-607f2acc"><span class="cl-607a9188">NonEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f471e"><p class="cl-607f2acc"><span class="cl-607a9188">17-25</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">other</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-006:1$B&gt;</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Attributive</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Prime</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">Men</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">MixedSex</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">MultipleInterlocutors</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">1</span></p></td><td class="cl-607f4720"><p class="cl-607f2ad6"><span class="cl-607a9188">0.44199</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f471f"><p class="cl-607f2acc"><span class="cl-607a9188">PhysicalProperty</span></p></td><td class="cl-607f4728"><p class="cl-607f2acc"><span class="cl-607a9188">NonEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f470c"><p class="cl-607f2acc"><span class="cl-607a9188">17-25</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">other</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-006:1$B&gt;</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Predicative</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Prime</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">Men</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">MixedSex</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">MultipleInterlocutors</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">1</span></p></td><td class="cl-607f4715"><p class="cl-607f2ad6"><span class="cl-607a9188">0.44199</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f4714"><p class="cl-607f2acc"><span class="cl-607a9188">PhysicalProperty</span></p></td><td class="cl-607f4716"><p class="cl-607f2acc"><span class="cl-607a9188">NonEmotional</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-607f4729"><p class="cl-607f2acc"><span class="cl-607a9188">17-25</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">nice</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">&lt;S1A-007:1$A&gt;</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">Attributive</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">NoPrime</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">Women</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">AcademicManagerialProfessionals</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">SameSex</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">Dyad</span></p></td><td class="cl-607f4732"><p class="cl-607f2ad6"><span class="cl-607a9188">0</span></p></td><td class="cl-607f4732"><p class="cl-607f2ad6"><span class="cl-607a9188">1</span></p></td><td class="cl-607f4732"><p class="cl-607f2ad6"><span class="cl-607a9188">7.29282</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">NotGradable</span></p></td><td class="cl-607f472a"><p class="cl-607f2acc"><span class="cl-607a9188">HumanPropensity</span></p></td><td class="cl-607f4733"><p class="cl-607f2acc"><span class="cl-607a9188">NonEmotional</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="4cde2612-2e27-4ac2-a7d1-1713be72c0d3"></div>
<script>
var dest = document.getElementById("4cde2612-2e27-4ac2-a7d1-1713be72c0d3");
var template = document.getElementById("71fee7cd-2d1e-4357-8dc5-7aa736d19fef");
var caption = template.content.querySelector("caption");
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>We can now create our initial Boruta model and set a seed for
reproducibility.</p>
<pre class="r"><code># set.seed 
set.seed(2019120207)
# initial run
boruta1 &lt;- Boruta(really~.,data=borutadata)
print(boruta1)</code></pre>
<pre><code>## Boruta performed 99 iterations in 3.886952 secs.
##  8 attributes confirmed important: Adjective, AudienceSize,
## ConversationType, Emotionality, FileSpeaker and 3 more;
##  5 attributes confirmed unimportant: Age, Gender, Occupation, Priming,
## SemanticCategory;
##  1 tentative attributes left: Gradabilty;</code></pre>
<pre class="r"><code># extract decision
getConfirmedFormula(boruta1)</code></pre>
<pre><code>## really ~ Adjective + FileSpeaker + Function + ConversationType + 
##     AudienceSize + very + Freq + Emotionality
## &lt;environment: 0x000001fda1bfb868&gt;</code></pre>
<p>In a next step, we inspect the history to check if any of the
variables shows drastic fluctuations in their importance assessment.</p>
<pre class="r"><code>plotImpHistory(boruta1)</code></pre>
<p><img src="tree_files/figure-html/bo5-1.png" width="672" /></p>
<p>The fluctuations are do not show clear upward or downward trends
(which what we want). If predictors do perform worse than the shadow
variables, then these variables should be excluded and the Boruta
analysis should be re-run on the data set that does no longer contain
the superfluous variables. Tentative variables can remain but they are
unlikely to have any substantial effect. We thus continue by removing
variables that were confirmed as being unimportant, then setting a new
seed, re-running the Boruta on the reduced data set, and again
inspecting the decisions.</p>
<pre class="r"><code># remove irrelevant variables
rejected &lt;- names(boruta1$finalDecision)[which(boruta1$finalDecision == &quot;Rejected&quot;)]
# update data for boruta
borutadata &lt;- borutadata %&gt;%
  dplyr::select(-rejected)
# set.seed (to store random numbers and thus make results reproducible)
set.seed(2019120208)
# 2nd run
boruta2 &lt;- Boruta(really~.,data=borutadata)
print(boruta2)</code></pre>
<pre><code>## Boruta performed 99 iterations in 3.594943 secs.
##  8 attributes confirmed important: Adjective, AudienceSize,
## ConversationType, Emotionality, FileSpeaker and 3 more;
##  No attributes deemed unimportant.
##  1 tentative attributes left: Gradabilty;</code></pre>
<pre class="r"><code># extract decision
getConfirmedFormula(boruta2)</code></pre>
<pre><code>## really ~ Adjective + FileSpeaker + Function + ConversationType + 
##     AudienceSize + very + Freq + Emotionality
## &lt;environment: 0x000001fda4025660&gt;</code></pre>
<p>Only adjective frequency and adjective type are confirmed as being
important while all other variables are considered tentative. However,
no more variables need to be removed as all remaining variables are not
considered unimportant. In a last step, we visualize the results of the
Boruta analysis.</p>
<pre class="r"><code>borutadf &lt;- as.data.frame(boruta2$ImpHistory) %&gt;%
  tidyr::gather(Variable, Importance, Adjective:shadowMin) %&gt;%
  dplyr::mutate(Type = ifelse(str_detect(Variable, &quot;shadow&quot;), &quot;Control&quot;, &quot;Predictor&quot;)) %&gt;%
  dplyr::mutate(Type = factor(Type),
                Variable = factor(Variable))
ggplot(borutadf, aes(x = reorder(Variable, Importance, mean), y = Importance, fill = Type)) + 
  geom_boxplot() +
  geom_vline(xintercept=3.5, linetype=&quot;dashed&quot;, color = &quot;black&quot;) +
  scale_fill_manual(values = c(&quot;gray80&quot;, &quot;gray40&quot;)) +
  theme_bw() + 
  theme(legend.position = &quot;top&quot;,
        axis.text.x = element_text(angle=90)) +
  labs(x = &quot;Variable&quot;)</code></pre>
<p><img src="tree_files/figure-html/bo7-1.png" width="672" /></p>
<p>Of the remaining variables, adjective frequency and adjective type
have the strongest effect and are confirmed as being important while
syntactic function fails to perform better than the best shadow
variable. All other variables have only a marginal effect on the use of
really as an adjective amplifier.</p>
</div>
</div>
<div id="citation-session-info" class="section level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2023. <em>Tree-Based Models in R</em>.
Brisbane: The University of Queensland. url: <a
href="https://slcladal.github.io/tree.html"
class="uri">https://slcladal.github.io/tree.html</a> (Version
2023.01.10).</p>
<pre><code>@manual{schweinberger2023tree,
  author = {Schweinberger, Martin},
  title = {Tree-Based Models in R},
  note = {https://slcladal.github.io/tree.html},
  year = {2023},
  organization = &quot;The University of Queensland, Australia. School of Languages and Cultures},
  address = {Brisbane},
  edition = {2023.01.10}
}</code></pre>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.2.1 RC (2022-06-17 r82510 ucrt)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 19045)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=German_Germany.utf8  LC_CTYPE=German_Germany.utf8   
## [3] LC_MONETARY=German_Germany.utf8 LC_NUMERIC=C                   
## [5] LC_TIME=German_Germany.utf8    
## 
## attached base packages:
## [1] stats4    grid      stats     graphics  grDevices utils     datasets 
## [8] methods   base     
## 
## other attached packages:
##  [1] flextable_0.8.2      vip_0.3.2            RCurl_1.98-1.8      
##  [4] pdp_0.8.1            randomForest_4.7-1.1 party_1.3-10        
##  [7] strucchange_1.5-3    sandwich_3.0-2       zoo_1.8-10          
## [10] modeltools_0.2-23    Hmisc_4.7-1          Formula_1.2-4       
## [13] survival_3.3-1       Gmisc_3.0.0          htmlTable_2.4.1     
## [16] Rcpp_1.0.9           ggparty_1.0.0        partykit_1.2-16     
## [19] mvtnorm_1.1-3        libcoin_1.0-9        forcats_0.5.2       
## [22] stringr_1.4.1        purrr_0.3.4          readr_2.1.2         
## [25] tidyr_1.2.0          tibble_3.1.8         tidyverse_1.3.2     
## [28] cowplot_1.1.1        caret_6.0-93         lattice_0.20-45     
## [31] ggplot2_3.3.6        Boruta_7.0.0         dplyr_1.0.10        
## [34] tree_1.0-42         
## 
## loaded via a namespace (and not attached):
##   [1] uuid_1.1-0           readxl_1.4.1         backports_1.4.1     
##   [4] systemfonts_1.0.4    plyr_1.8.7           splines_4.2.1       
##   [7] listenv_0.8.0        TH.data_1.1-1        digest_0.6.29       
##  [10] foreach_1.5.2        htmltools_0.5.3      fansi_1.0.3         
##  [13] magrittr_2.0.3       checkmate_2.1.0      googlesheets4_1.0.1 
##  [16] cluster_2.1.4        tzdb_0.3.0           recipes_1.0.1       
##  [19] globals_0.16.1       modelr_0.1.9         gower_1.0.0         
##  [22] matrixStats_0.62.0   officer_0.4.4        hardhat_1.2.0       
##  [25] jpeg_0.1-9           colorspace_2.0-3     rvest_1.0.3         
##  [28] haven_2.5.1          xfun_0.32            crayon_1.5.1        
##  [31] jsonlite_1.8.0       iterators_1.0.14     glue_1.6.2          
##  [34] gtable_0.3.0         gargle_1.2.0         ipred_0.9-13        
##  [37] future.apply_1.9.0   abind_1.4-5          scales_1.2.1        
##  [40] DBI_1.1.3            klippy_0.0.0.9500    proxy_0.4-27        
##  [43] foreign_0.8-82       lava_1.6.10          prodlim_2019.11.13  
##  [46] htmlwidgets_1.5.4    httr_1.4.4           RColorBrewer_1.1-3  
##  [49] ellipsis_0.3.2       farver_2.1.1         pkgconfig_2.0.3     
##  [52] XML_3.99-0.10        nnet_7.3-17          sass_0.4.2          
##  [55] dbplyr_2.2.1         deldir_1.0-6         utf8_1.2.2          
##  [58] labeling_0.4.2       tidyselect_1.1.2     rlang_1.0.4         
##  [61] reshape2_1.4.4       munsell_0.5.0        cellranger_1.1.0    
##  [64] tools_4.2.1          cachem_1.0.6         cli_3.3.0           
##  [67] generics_0.1.3       ranger_0.14.1        broom_1.0.0         
##  [70] evaluate_0.16        fastmap_1.1.0        yaml_2.3.5          
##  [73] ModelMetrics_1.2.2.2 knitr_1.40           fs_1.5.2            
##  [76] zip_2.2.0            forestplot_2.0.1     coin_1.4-2          
##  [79] future_1.27.0        nlme_3.1-157         xml2_1.3.3          
##  [82] compiler_4.2.1       rstudioapi_0.14      png_0.1-7           
##  [85] e1071_1.7-11         reprex_2.0.2         bslib_0.4.0         
##  [88] stringi_1.7.8        highr_0.9            gdtools_0.2.4       
##  [91] Matrix_1.5-1         vctrs_0.4.1          pillar_1.8.1        
##  [94] lifecycle_1.0.1      jquerylib_0.1.4      bitops_1.0-7        
##  [97] data.table_1.14.2    R6_2.5.1             latticeExtra_0.6-30 
## [100] gridExtra_2.3        parallelly_1.32.1    codetools_0.2-18    
## [103] MASS_7.3-57          assertthat_0.2.1     withr_2.5.0         
## [106] multcomp_1.4-20      parallel_4.2.1       hms_1.1.2           
## [109] rpart_4.1.16         timeDate_4021.104    class_7.3-20        
## [112] rmarkdown_2.16       inum_1.0-4           googledrive_2.0.0   
## [115] pROC_1.18.0          lubridate_1.8.0      base64enc_0.1-3     
## [118] interp_1.1-3</code></pre>
<hr />
<p><a href="#introduction">Back to top</a></p>
<p><a href="https://slcladal.github.io/index.html">Back to HOME</a></p>
<hr />
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-baayen2008analyzing" class="csl-entry">
Baayen, R Harald. 2008. <em>Analyzing Linguistic Data. A Practical
Introduction to Statistics Using r</em>. Cambridge: Cambridge University
press.
</div>
<div id="ref-boulesteix2015interaction" class="csl-entry">
Boulesteix, Anne-Laure, Silke Janitza, Alexander Hapfelmeier, Kristel
Van Steen, and Carolin Strobl. 2015. <span>“Letter to the Editor: On the
Term <span>‘Interaction’</span> and Related Phrases in the Literature on
RandomForests.”</span> <em>Briefings in Bioinformatics</em> 16 (2):
338–45. <a
href="https://academic.oup.com/bib/article/16/2/338/246566">https://academic.oup.com/bib/article/16/2/338/246566</a>.
</div>
<div id="ref-breiman2001rf" class="csl-entry">
Breiman, Leo. 2001a. <span>“Random Forests.”</span> <em>Machine
Learning</em> 45 (1): 5–32. <a
href="https://link.springer.com/article/10.1023/A:1010933404324">https://link.springer.com/article/10.1023/A:1010933404324</a>.
</div>
<div id="ref-breiman2001modeling" class="csl-entry">
———. 2001b. <span>“Statistical Modeling: The Two Cultures.”</span>
<em>Statistical Science</em> 16: 199–231. <a
href="https://projecteuclid.org/euclid.ss/1009213726">https://projecteuclid.org/euclid.ss/1009213726</a>.
</div>
<div id="ref-gries2021statistics" class="csl-entry">
Gries, Stefan Th. 2021. <em>Statistics for Linguistics Using r: A
Practical Introduction</em>. Berlin &amp; New York: Mouton de Gruyter.
</div>
<div id="ref-kursa2010feature" class="csl-entry">
Kursa, Miron B, Witold R Rudnicki, et al. 2010. <span>“Feature Selection
with the Boruta Package.”</span> <em>Journal of Statistical
Software</em> 36 (11): 1–13.
</div>
<div id="ref-prasad2006newer" class="csl-entry">
Prasad, Anantha M, Louis R Iverson, and Andy Liaw. 2006. <span>“Newer
Classification and Regression Tree Techniques: Bagging and Random
Forests for Ecological Prediction.”</span> <em>Ecosystems</em> 9 (2):
181–99.
</div>
<div id="ref-strobl2009tree" class="csl-entry">
Strobl, Carolin, James Malley, and Gerhard Tutz. 2009. <span>“An
Introduction to Recursive Partitioning: Rationale,application and
Characteristics of Classification and Regression Trees, Bagging and
Random Forests.”</span> <em>Psychological Methods</em> 14 (4): 323–48.
<a
href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2927982/">https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2927982/</a>.
</div>
<div id="ref-wrigt2016interac" class="csl-entry">
Wright, Marvin N., Andreas Ziegler, and Inke R. König. 2016. <span>“Do
Little Interactions Get Lost in Dark Random Forests?”</span> 17 (145).
<a
href="https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-016-0995-8">https://bmcbioinformatics.biomedcentral.com/articles/10.1186/s12859-016-0995-8</a>.
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
