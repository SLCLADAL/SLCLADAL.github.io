<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="UQ SLC Digital Team" />

<meta name="date" content="2019-01-22" />

<title>Basic Visualizations</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">LADAL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-play-circle"></span>
     
    Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Basics</li>
    <li>
      <a href="hypotheses.html">Hypotheses</a>
    </li>
    <li>
      <a href="significance.html">Significance</a>
    </li>
    <li>
      <a href="errors.html">Errors</a>
    </li>
    <li>
      <a href="researchdesigns.html">Research Designs</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-gear"></span>
     
    Data Processing
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Data Processing</li>
    <li>
      <a href="intror.html">Basics</a>
    </li>
    <li>
      <a href="intror.html">Getting started with R</a>
    </li>
    <li>
      <a href="loading.html">Loading and saving data</a>
    </li>
    <li>
      <a href="page-b.html">Web Crawling</a>
    </li>
    <li>
      <a href="tabulating.html">Tabulating data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-bar-chart"></span>
     
    Visualization
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Visualization</li>
    <li>
      <a href="basicgraphs.html">Basic Visualization Techniques</a>
    </li>
    <li>
      <a href="advancedgraphs.html">Advanced Visualization Techniques</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-eye"></span>
     
    Statistics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Statistics</li>
    <li>
      <a href="descriptives.html">Descriptive Statistics</a>
    </li>
    <li>
      <a href="chi.html">Basic Interential Statistics</a>
    </li>
    <li>
      <a href="regression.html">Advanced Interential Statistics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-bars"></span>
     
    Text Analysis/Corpus Linguistics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Text Analysis/Corpus Linguistics</li>
    <li>
      <a href="page-c.html">Network Analysis</a>
    </li>
    <li>
      <a href="page-c.html">Topic Modeling</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Corpus Linguistics</li>
    <li>
      <a href="page-c.html">Available Software</a>
    </li>
    <li>
      <a href="antconcexcel.html">Corpus Linguistics with AntConc, TextPad and Excel</a>
    </li>
    <li>
      <a href="page-c.html">Corpus Linguistics in R</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">
    <span class="fa fa-info"></span>
     
    Contact
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Basic Visualizations</h1>
<h4 class="author"><em>UQ SLC Digital Team</em></h4>
<h4 class="date"><em>2019-01-22</em></h4>

</div>


<p><img src="images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1">
<h1><span class="header-section-number">1</span> Introduction</h1>
<p>This section discusses how data can be visualized and what needs to be kept in mind when visualizing data, e.g.Â axes labelling, and it exemplifies different types of graphs (scatter plot, line graphs, bar-charts, histograms, pie charts, box-plot). In addition, the pros and cons of different types of graphs are discussed and the steps and procedures to set up graphs are shown so that you can re-create the graphs at home. The practical part also focuses on potential problems you may encounter when setting up a graph. The graphs are plotted in R as it is a very flexible tool for visualization and offers more control over the distinct layers of plots.</p>
<p>As there exists a multitude of different ways to visualize data, this section can only highlight the most common types of visualization. Each type of visualization (or graph or plot) is briefly introduced followed by code which produces the type of visualization in <code>R</code>. This section focuses on using <code>R</code> when dealing with plots because <code>R</code> is extremely flexible when it comes to creating graphics. <code>R</code> is flexible in the sense that one can produce not only a huge variety of different types of visualization in <code>R</code> but also to modify these visualizations to match oneâs individual needs. In addition, a major advantage of using <code>R</code> consists in the fact that the code can be store, distributed, and run very easily. This means that <code>R</code> represents a framework for creating graphs that enables sustainable, reproducible, and transparent procedures.</p>
</div>
<div id="basic-considerations-about-visualizations" class="section level1">
<h1><span class="header-section-number">2</span> Basic Considerations about Visualizations</h1>
<p>Before turning to the practical issues relating to creating graphs, a few words on what one has to keep in mind when visualizing data are in order. On a very general level, graphs should be used to inform the reader about properties and relationships between variables. This implies that graphs must be labelled properly to allow the reader to understand the visualization with ease.</p>
</div>
<div id="graphics-with-r" class="section level1">
<h1><span class="header-section-number">3</span> Graphics with <code>R</code></h1>
<p>A few words on different frameworks for creating graphics in <code>R</code> are in order. There are three frameworks in which to create graphics in <code>R</code>. The <em>basic</em> framework, the <em>lattice</em> framework, and the <em>ggplot</em> or <em>tidyverse</em> framework.</p>
<p>The <em>basic</em> framework is the oldest of the three and is included in the <code>base</code>-package that is automatically activated when entering <code>R</code>. The idea behind the <code>basic</code> environment is that the creation of graphics is seen in analogy to a painter who paints on an empty canvass. Each line or element is added to the graph consecutively which oftentimes leads to code that is very comprehensible but also very long.</p>
<p>The <code>lattice</code> environment was a follow-up to the <code>base</code>-package and it complemented it insofar as it made it much easier to display various variables and variable levels simultaneously. The philosophy of the <code>lattice</code>-package is quite different from the philosophy in the <code>base</code>-package: Whereas everything had to be specified in <code>base</code>, the graphs created in the <code>lattice</code> environment require only very little code but are therefore very easily created when one is satisfied with the design but vey labour intensive when it comes to customizing graphs. However, the `latticeâ package is very handy when summarizing relationships between multiple variable and variable levels.</p>
<p>The <code>ggplot</code> environment was written by Hadley Wickham and it combines the positive aspects of both the <code>base</code> and the <code>lattice</code> package. It was first publicized in the <code>gplot</code> and <code>ggplot1</code> packages but the latter was soon repackaged and improved in the now most widely used package for data visualization: the ggplot2<code>package. The</code>ggplot`-environment implements a philosophy of graphic design described in builds on <em>The Grammar of Graphics</em> by Leland Wilkinson (<span class="citation">(Wilkinson 2006)</span>).</p>
<p>The philosophy of <code>ggplot2</code>is to consider graphics as consisting out of basic elements (called aesthetics and they include, for instance, the data set to be plotted and the axes) and layers that overlayed onto the aesthetics. The idea of the <code>ggplot2</code>package can eb summarized as taking âcare of many of the fiddly details that make plotting a hassle (like drawing legends) as well as providing a powerful model of graphics that makes it easy to produce complex multi-layered graphics.â</p>
<p>In the following, the graphs are initially created in the <code>base</code> environment while <code>lattice</code> and <code>ggplot</code> graphs, if appropriate, are shown after the basic display.</p>
<div id="data" class="section level2">
<h2><span class="header-section-number">3.1</span> Data</h2>
<p>Before turning to the graphs, we will briefly look at the structures of the data sets to what we are working with. In this chapter, we will not use language data but inbuild data sets that are provided by <code>R</code> and already loaded when entering <code>R</code>. The data sets are called <code>iris</code> and <code>mtcars</code>. The <code>iris</code> data set contains information about âmeasurements in centimetres of the variables sepal length and width and petal length and width, respectively, for 50 flowers from each of 3 species of iris. The species are Iris setosa, versicolor, and virginicaâ (cf. <span class="citation">(Becker, Chambers, and Wilks 1988)</span>; <span class="citation">(Anderson 1935)</span>; <span class="citation">(Fisher 1936)</span>). In a first step, we attach the <code>iris</code> data so that we only need to write the variable names without having to repeat the name of the data set. Then, we inspect the structure of the <code>iris</code> data using the <code>str()</code> command.</p>
<pre class="r"><code>attach(iris)               # attach iris
str(iris)                  # inspect  iris data</code></pre>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>The <code>iris</code> data contains four numeric variables (Sepal.Length, Sepal.Width, Petal.Length, Petal.Width) which contain the values for sepal length and width as well as petal length and width. In addition, the data contains a factor or categorical variable (Species) which denotes the flower species. We will now turn to creating the graphs.</p>
</div>
</div>
<div id="scatter-plots" class="section level1">
<h1><span class="header-section-number">4</span> Scatter Plots</h1>
<p>The first, and simplest graph, is a so-called âscatterplotâ. Scatterplots are used when the graph is set up to display the relationship between two numeric variables. We will start off with creating a scatter plot in the <code>base</code> environment, then in the <code>lattice</code> package and finally in the <code>ggplot</code> environment.</p>
<div id="scatter-plots-in-base" class="section level2">
<h2><span class="header-section-number">4.1</span> Scatter Plots in <code>base</code></h2>
<p>The most fundamental function to create plots in the <code>base</code> environment is to use the general <code>plot</code> function. Here, we use that function to create a simple scatter plot.</p>
<pre class="r"><code>plot(Sepal.Length ~ Sepal.Width,         # plot Sepal.Length by Sepal.Width
     type = &quot;p&quot;,                         # plot type p (points) 
     data = iris,                        # data from data set iris  
     ylab = &quot;Sepal Length&quot;,              # add y-axis label 
     xlab = &quot;Sepal Width&quot;,               # add x-axis label 
     main = &quot;plot type &#39;p&#39; (points)&quot;     # add title 
     )                                   # end drawing plot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Let us go over the command. The first part of the call is <code>plot</code> which is the function for plotting data in the <code>base</code> package. In the round brackets are the arguments in which we specify what the plot should look like. The âSepal.Length ~ Sepal.Widthâ part tells <code>R</code> which variables should be displayed and the âtype =âpââ part tells <code>R</code> which type of plot we want (âpâ stands for points, âlâ, for lines, âbâ for both lines and points). The part âdata = irisâ tells <code>R</code> which data set to take the data from, and âylab =âSepal Lengthââ and âxlab =âSepal Widthââ informs <code>R</code> about the axesâ labels. The part âmain =âplot type âpâ (points)&quot; informs <code>R</code> about what we want as the main title of the plot.</p>
<p>In a next step, we will change the title, add two regression lines to the scatterplot (in the first case a linear and in the second case a smoothed regression line) and we will change the points as well as the colour of the points.</p>
<pre class="r"><code>plot(Sepal.Length ~ Sepal.Width,          # plot Sepal.Length by Sepal.Width 
     type = &quot;p&quot;,                          # plot type p (points) 
     data = iris,                         # data from data set iris  
     ylab = &quot;Sepal Length&quot;,               # add y-axis label 
     xlab = &quot;Sepal Width&quot;,                # add x-axis label 
     main = &quot;Scatterplot&quot;,                # add title 
     pch = 20,                            # use point symbol 20 (filled circles)
     col = &quot;lightgrey&quot;                    # define symbol color as lightgrey
     )                                    # end drawing plot
abline(                                   # add regression line (y~x) 
  lm(Sepal.Length ~ Sepal.Width),         # draw rgeression line of linear model (lm)   
  col=&quot;red&quot;                               # define line colour as red
  )                                       # end drawing line             
lines(                                    # add line (x,y)
  lowess(Sepal.Width, Sepal.Length),      # draw smoothed lowess line (x,y) 
  col=&quot;blue&quot;                              # define line colour as blue
  )                                       # end drawing line</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p>The only things that are different in the main call are the <code>pch</code> argument with has changed the points into filled dots (this is what the 20 stands for) and the <code>col</code> argument which we have specified as âlightgreyâ. The regression lines are added using the <code>abline</code> and the <code>lines</code> argument.</p>
</div>
<div id="scatter-plots-in-lattice" class="section level2">
<h2><span class="header-section-number">4.2</span> Scatter Plots in <code>lattice</code></h2>
<p>In order to be able to plot data using the <code>lattice</code> package, we need to install and activate it first.</p>
<pre class="r"><code>#install.packages(&quot;lattice&quot;) # install lattice package (remove # to activate code)
library(lattice)             # activate lattice package</code></pre>
<p>After the <code>lattice</code> package is loaded, we can create a first simple scatter plot using the <code>xyplot</code> function form the <code>lattice</code> package.</p>
<pre class="r"><code>xyplot(Sepal.Length ~ Sepal.Width,  # plot Sepal.Length by Sepal.Width
       ylab = &quot;Sepal Length&quot;,       # add y-axis label 
       xlab = &quot;Sepal Width&quot;         # add x-axis label 
       )                            # end drawing plot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<p>Since the <code>lattice</code> package was created to plot multiple relationships with a single call, we will now make use of that feature and plot multiple relationships at once. In addition, we will add a grid to the plot to improve comparability of data points within the graph.</p>
<pre class="r"><code>xyplot(Sepal.Length ~ Sepal.Width | Species, # plot Sepal.Length by Sepal.Width by Species
       ylab = &quot;Sepal Length&quot;,                # add y-axis label
       xlab = &quot;Sepal Width&quot;,                 # add y-axis label
       grid = TRUE                           # add grids to panels
       )                                     # end drawing plot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>The only new code in the chunk above is the â| Speciesâ part. This part means that the relationship between Sepal.Length and Sepal.Width should be displayed by Species. So, the |-symbol can be translated into âbyâ. The splitting of the plot into different panels for Species is then done automatically. Next, we will use the <code>ggplot2</code>-package to create a scatter plot</p>
</div>
<div id="scatter-plots-in-ggplot2" class="section level2">
<h2><span class="header-section-number">4.3</span> Scatter Plots in <code>ggplot2</code></h2>
<p>As with the <code>lattice</code>-package, we need to install and activate the <code>ggplot2</code> before we are able to plot data using the <code>ggplot2</code> package.</p>
<pre class="r"><code>#install.packages(&quot;ggplot2&quot;)   # install ggplot2 package (remove # to activate code)
library(ggplot2)               # activate ggplot2 package</code></pre>
<p>Next, we create a very basic scatterplot in <code>ggplot2</code>. The advantages of using <code>ggplot2</code> will be shown below.</p>
<pre class="r"><code>ggplot(iris,                                    # plot data from data set iris  
       aes(x=Sepal.Length, y= Sepal.Width)) +   # define x- and y-axis
  geom_point()                                  # define plot type (what should be drawn)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<p>Letâs go over the code above. The function call for plotting in <code>ggplot2</code> is simply <code>ggplot</code>. This function takes the data set as its first argument and then requires aesthetics. The aesthetics are defined within the <code>ggplot</code> function as the arguments of <code>aes</code>. The <code>aes</code> function takes the axes as the arguments (in the current case). Then, we need to define the type of plot that we want. As we want a scatter plot with points, we add the <code>geom_point()</code> function without any arguments (as we do not want to specify the size, colour, and shape of the points just yet).</p>
<p>The advantage of <code>ggplot2</code> is that is really easy to modify the plot by adding new layers and to change the basic outlook by modifying the theme which is what we will do in the code below.</p>
<pre class="r"><code>ggplot(iris,                                 # plot data from data set iris
       aes(x=Sepal.Length, y= Sepal.Width,   # define x- and y-axis
           color = Species)) +               # define to color by Species
  geom_point() +                             # define plot type (what should be drawn)
  theme_bw()                                 # define theme (black and white theme)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>The example above is intended to show that creating ggplots is can be very simple but <code>ggplot2</code> is extremely flexible and thus allows us to modify the plot in various ways. To exemplify how a ggplot may be modified, we will change the colour of the dots, add a white rather than a grey background.</p>
<pre class="r"><code>scatterplot &lt;- ggplot(          # create plot object called scatterplot
  iris,                         # plot data from data set iris 
       aes(x=Sepal.Length,      # define x--axis
           y= Sepal.Width,      # define y-axis and color by Species
           color = Species)) +  # color by Species
  geom_point() +                # define plot type (what should be drawn)
  scale_color_manual(           # color manually
    values = c(&#39;indianred4&#39;, &#39;darkgrey&#39;, &#39;gold&#39;)) + # define colours to be used
  theme_bw()                    # define theme (black and white theme)</code></pre>
<p>The white background is created by specifying the theme as a black and white theme (<code>theme_bw()</code>) while the colour of the dots is changed by specifying that the colour should be applied by Species (<code>color = Species</code>). Then, the colours to be used are defined in the function <code>scale_color_manual</code>.</p>
<p>In addition, we can add regression lines with error bars by Species.</p>
<pre class="r"><code>scatterplot + geom_smooth(method = &quot;lm&quot;)    # add regression line to object scatterplot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Another option is to plot density layers instead of plotting the data points.</p>
<pre class="r"><code>ggplot(          # create plot object called scatterplot
  iris,                         # plot data from data set iris 
       aes(x=Sepal.Length,      # define x--axis
           y= Sepal.Width,      # define y-axis and color by Species
           color = Species)) +  # color by Species
    scale_color_manual(           # color manually
    values = c(&#39;indianred4&#39;, &#39;darkgrey&#39;, &#39;gold&#39;)) + # define colors to be used
  theme_bw() +                    # define theme (black and white theme)
  geom_density_2d()    # add 2-dimensional density to object scatterplot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div id="extensions-of-scatter-and-dot-plots" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Extensions of Scatter and Dot Plots</h3>
<p>Although these are not scatterplots, plots with dot-symbols are very flexible and can be extended to show properties of the distribution of values. One way to create such a plot is to plot means as dot-symbols and add error bars to provide information about the underlying distribution. The plot below illustrates such a plot and additionally shows how plots can be further customized.</p>
<pre class="r"><code>ggplot(iris,                                     # create plot based on iris data
       aes(Species, Sepal.Length,                # define x- and y-axes
           colour = Species)) +                  # color by Species
  ggtitle(&quot;Sepal Length by Species&quot;) +           # add title
  stat_summary(fun.y = mean, geom = &quot;point&quot;,     # create a dot at means
               aes(group= Species)) +            # means by Species 
  stat_summary(fun.data = mean_cl_boot,          # bootstrap data
               geom = &quot;errorbar&quot;, width = 0.2) + # add error bars
  coord_cartesian(ylim = c(0, 8)) +              # define y-axis range
  theme_set(theme_bw(base_size = 20)) +          # define font size
  theme(axis.text.x = element_text(size=24,          # define font size of x-axis text
                                   face=&quot;plain&quot;),    # define style
        axis.text.y = element_text(size=24,          # define font size of y-axis text
                                   face=&quot;plain&quot;),    # define style
        axis.title.x = element_text(colour=&quot;grey20&quot;, # define color of x-axis title
                                    size=24,         # define font size of x-axis title
                                    face=&quot;plain&quot;),   # define style
        axis.title.y = element_text(colour=&quot;grey20&quot;, # define color of y-axis title
                                    size=24,         # define font size of x-axis title
                                    angle=90,        # define angle of x-axis title
                                    face=&quot;plain&quot;)) + # define style
  labs(x = &quot;Species&quot;, y = &quot;Sepal Length (cm)&quot;) +     # define axes labels
  scale_color_manual(values = c(&quot;grey20&quot;, &quot;grey20&quot;, &quot;grey20&quot;), # define to color manually
                     guide = FALSE)                  # suppress legend</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="line-graphs" class="section level1">
<h1><span class="header-section-number">5</span> Line Graphs</h1>
<p>Next, we will create a line chart. Line charts are used when we have numeric values that belong together in one way or another. A typical and common example is a series of points (e.g.Â mean values) for categorical variables. The following will focus on the creation of line graphs first in the <code>base</code>-package and in the <code>ggplot</code>-environment without detailing line graphs in the <code>lattice</code> environments as <code>lattice</code> does not have a ready-made function for creating line graphs.</p>
<div id="line-graphs-in-base" class="section level2">
<h2><span class="header-section-number">5.1</span> Line Graphs in <code>base</code></h2>
<p>The implementation of line graphs in the <code>base</code> package is very simple and there are two ways to create such graphs. In contrast to the first example, we will use the <code>mtcars</code> data set and transform it into a format that allows us to create line graphs.</p>
<pre class="r"><code>#install.packages(&quot;dplyr&quot;)             # install dplyr package (remove # to activate code)
library(dplyr)                         # activate dplyr package
linedata &lt;- mtcars %&gt;%                 # create object linedata with mtcars data
  group_by(cyl) %&gt;%                    # group mtcars data by cyl
  summarize(                           # summarize grouped data
    MilesPerGallon_mean = mean(mpg),   # create variable MilesPerGallon_mean (means of mpg)
    Weigth_mean  = mean(wt),           # create variable Weigth_mean (means of wt)
    HorsePower_mean  = mean(hp),       # create variable HorsePower_mean (means of hp)
    Speed_mean = mean(qsec)            # create variable Speed_mean (means of qsec)
  )                                    # end summary
attach(linedata)                       # attach data
linedata                               # inspect data</code></pre>
<p>After formatting the data, we will now create the line graph with the <code>plot</code> function from the <code>base</code> package.</p>
<pre class="r"><code>plot(MilesPerGallon_mean,    # plot MilesPerGallon_mean 
     type = &quot;b&quot;)             # type of graph (both symbols and lines)
lines(Speed_mean,            # draw line for Speed_mean
      type = &quot;b&quot;)            # type of graph (both symbols and lines)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>The first thing to note is that by default, the <code>plot</code> function will only draw a single line and all other lines have to be added using the <code>lines</code> function. The <code>type</code> = âbâ part means that we want both points and a line. Also, although the code is very transparent, the line graph is not (yet) very appealing and the labels on the x-axis are, in fact, wrong. To improve the design and make the graph more appealing but also to correct the erroneous axis labelling, we will recreate the graph and customize it to match our needs.</p>
<pre class="r"><code>plot(MilesPerGallon_mean,             # plot MilesPerGallon_mean
     type = &quot;b&quot;,                      # type of graph (both symbols and lines)
     ylim = c(10, 30),                # y-axis range
     ylab = &quot;Value&quot;,                  # y-axis title 
     xlab = &quot;Number of Cylinders&quot;,    # x-axis title  
     axes = F)                        # suppress drawing of axes 
lines(Speed_mean,                     # draw line for Speed_mean
      type = &quot;b&quot;,                     # draw both symbols and lines 
      lty = 2,                        # draw line type 2 (dashed) 
      pch = 2)                        # draw symbols type 2 (empty triangles)
axis(1,                               # x-axis
     at = 1:3,                        # tick marks at positions 1 to 3
     lab = c(&quot;4&quot;,&quot;6&quot;,&quot;8&quot;)             # define tick marks
     )                                # end x-axis definition
axis(2,                               # y-axis 
     at = seq(10, 30, 5),             # tick marks at positions 10 to 30 with interval 5 
     las = 1,                         # draw tick marks perpendicular to axis
     lab = seq(10, 30, 5)             # define tick marks labels
     )                                # end y-axis definition
box()                                 # draw box around plotting area
legend(&quot;topright&quot;,                    # add legend at position top right 
       c(&quot;Miles per Gallon&quot;,&quot;Speed (1/4 Mile in sec.)&quot;), # add description of legend elements
       lty = c(1, 2)                  # define line types to be associated with elements
       )                              # end legend definition</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<p>In the code above, we have explicitly defined the y-axis range by stating âylim = c(10, 30)â which means that the y-axis stretches from values of 10 to 30. In a next step, we have provided axes labels (ylab = âValueâ and xlab = âNumber of Cylindersâ). The part âaxes = Fâ informs <code>R</code> that we do not want it to draw the default axes. In the <code>lines</code> function, we have defined the line type (lty = 2 means that we want a dashed line and pch = 2 means that we want empty triangles rather than empty circles as symbols). Then, we define our customized axes. The <code>axis</code> function takes the side of the graph (1 is the x-axis, 2 the y-axis, etc.), the position of the tick marks (at) and the label of the tick marks (lab = c(â4â,â6â,â8â)) as arguments. Next, we force <code>R</code> to draw a box around the plot and added a legend using the <code>legend</code> function.</p>
</div>
<div id="line-graphs-in-ggplot2" class="section level2">
<h2><span class="header-section-number">5.2</span> Line Graphs in <code>ggplot2</code></h2>
<p>We now turn to creating line graphs with <code>ggplot2</code>. To show the usefulness of <code>ggplot</code>, we create a slightly different data set by factorizing cyl in the linedata.</p>
<pre class="r"><code>ggplot(linedata,                               # plot data from data set linedata 
       aes(cyl, MilesPerGallon_mean)) +        # define x- and y-axis and color by cyl
  geom_line(color = &#39;lightgray&#39;) +             # draw line and define colour of line
  geom_line(y = Speed_mean, color = &#39;gold&#39;) +  # draw line for Speed_mean
  labs(x = &quot;Number of Cylinders&quot;) +            # add x-axis label
  scale_y_continuous(name=&quot;Value&quot;,             # customize y-axis label
                     limits=c(10, 30)) +       # customize tick positions 
  scale_x_continuous(breaks=c(4, 6, 8),        # customize x-axis tick positions
        labels=c(&quot;4&quot;, &quot;6&quot;, &quot;8&quot;)) +             # add labels to customized x-axis tick positions
  theme_bw()                                   # define theme (black and white theme)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<p>Another very useful function when creating line graphs with <code>ggplot</code> is <code>geom_smooth</code> which smoothes the lines to be drawn.</p>
<pre class="r"><code>ggplot(linedata,                                  # plot data from data set linedata 
       aes(cyl, MilesPerGallon_mean)) +           # define x- and y-axis and color by cyl
  geom_smooth(aes(y = MilesPerGallon_mean,        # draw smoothed line for MilesPerGallon_mean 
                  color = &quot;MilesPerGallon_mean&quot;,  # define color for line
                  linetype = &quot;MilesPerGallon_mean&quot;)) +      # define line type
  geom_smooth(aes(y = Speed_mean,                 # draw smoothed line for Speed_mean
                  color = &quot;Speed_mean&quot;,           # define color for line
                  linetype = &quot;Speed_mean&quot;))  +    # define line type
  guides(color=guide_legend(override.aes=list(fill=NA))) +  # legend without background color
  theme(legend.position=&quot;top&quot;) +                         # define legend position
  scale_linetype_manual(values=c(&quot;longdash&quot;, &quot;dotted&quot;),  # define linetype
                        name=c(&quot;Variables&quot;),             # define header for linetype guide
                        breaks = c(&quot;MilesPerGallon_mean&quot;, &quot;Speed_mean&quot;),   # define linetypes
                        labels = c(&quot;MilesPerGallon_mean&quot;, &quot;Speed_mean&quot;)) + # define labels
  scale_colour_manual(values=c(&quot;goldenrod2&quot;, &quot;indianred4&quot;),                # define colors
                      name=c(&quot;Variables&quot;),                               # define legend header
                      breaks=c(&quot;MilesPerGallon_mean&quot;, &quot;Speed_mean&quot;),     # define elements
                      labels = c(&quot;MilesPerGallon_mean&quot;, &quot;Speed_mean&quot;)) + # define labels
  labs(x = &quot;Number of Cylinders&quot;) +      # add x-axis label
  scale_x_continuous(breaks=c(4, 6, 8),  # customize x-axis tick positions
        labels=c(&quot;4&quot;, &quot;6&quot;, &quot;8&quot;)) +       # add labels to customized x-axis tick positions
  scale_y_continuous(name=&quot;Value&quot;,       # add y-axis label
                     limits=c(10, 30)) + # customize tick positions of y-axis
  theme_set(theme_bw(base_size = 10))    # define theme (black and white theme)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<p>Although the code for the <code>geom_smooth</code> line graph is much longer and requires addition specifications, it is a very nice way to portrait the development of variables (here the miles per gallon and the quarter mile speed) across the range of another variable (here the number of cylinders).</p>
</div>
</div>
<div id="barplots" class="section level1">
<h1><span class="header-section-number">6</span> Barplots</h1>
<p>One very common data structure to visualize is tables containing absolute frequencies or counts. The default way to visualize such frequency tables are barplots. This section deals with such bar plots and offers practical tips on how to modify and customize such plots.</p>
<div id="barplots-in-base" class="section level2">
<h2><span class="header-section-number">6.1</span> Barplots in <code>base</code></h2>
<p>This section deals with bar plots that are typically used to show counts of variable levels.</p>
<pre class="r"><code>counts &lt;- table(mtcars$gear)     # create table of gears in mtcars 
barplot(counts,                  # start barplot and use counts table
        main=&quot;Frequency of cars by their number of gears&quot;,   # title of bar plot
        xlab=&quot;Number of Gears&quot;,  # x-axis label
        ylim = c(0,20)           # y-axis range
        )                        # end plot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
<p>The bar plot above is not very nice, so we will modify it do create a nicer design with horizontal rather than vertical bars and adjusted colours.</p>
<pre class="r"><code>barplot(counts,          # create barplot of counts
        main=&quot;Frequency of cars by their number of gears&quot;, # title of the bar plot
        horiz = T,       # bars horizontal rather than vertical
        xlab=&quot;Number of Gears&quot;,                # x-axis label
        col = c(&quot;grey30&quot;, &quot;grey50&quot;, &quot;grey70&quot;), # colour of bars
        xlim = c(0,20),  # y-axis range
        las = 1          # define that labels should be perpendicular to the axis
        )                # end plot
box()                    # create box around panel</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>WE will briefly turn to pie charts because pie charts because they are frequently used although they have some severe shortcomings. Consider the following example for we will create another data set to highlight the issues that arise when using pie charts.</p>
<pre class="r"><code>Values &lt;- c(10, 12, 7, 14, 9)                              # create a vactor of values
Labels &lt;- c(&quot;US&quot;, &quot;UK&quot;, &quot;Australia&quot;, &quot;Germany&quot;, &quot;France&quot;)  # create a vector of labels
Percentages &lt;- round(Values/sum(Values)*100)               # calculate the percentages for each element in values
Labels &lt;- paste(Labels, Percentages)                       # add percentage values to labels
Labels &lt;- paste(Labels,&quot;%&quot;,sep=&quot;&quot;)                         # add % symbol to labels
piedata &lt;- data.frame(Values, Percentages, Labels)         # combine in a data frame
attach(piedata)                                            # attach piedata to avoid having to specify the data
piedata                                                    # inspect data frame</code></pre>
<pre class="r"><code>pie(Values,
    labels = Labels, 
    col=rainbow(length(Values)),
    main=&quot;Pie Chart of Countries&quot;)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>If the slices of the piechart were not labelled, it would be difficult to see which slices are smaller or bigger compared to other slices. This problem can easily be avoided when using bar charts.</p>
<pre class="r"><code>barplot(                                         # create bar plot
        Values[order(Values, decreasing = T)],   # plot Values in decreasing order data
        ylim = c(0,20),                          # y-axis range
        col=rainbow(length(Values)),             # add colors
        main=&quot;Pie Chart of Countries&quot;            # define plot title
        )                                        # end plot
text(                                            # add text (labels)
  seq(0.7, 5.5, 1.2),                            # define the x-axis positions of the labels
  Values[order(Values, decreasing = T)] + 2,     # define the y-axis positions of the labels (2 higher than bar)
  Labels[order(Values, decreasing = T)]          # define text to be plotted
  )                                              # end writing text</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p>Compared with the piechart, it is much easier to grasp the relative size and order of the percentage values of the countries. This goes to show that pie charts are unfit to show relationships between elements in a graph and, as a general rule of thumb, should be avoided.</p>
<p>Another feature of barplots is that the bars can be stacked and normalized so that changes in percentages become visible. One such example is shown below but before we can create such a graph, we need to create an appropriate data set.</p>
<pre class="r"><code>barplotdata=matrix(sample(1:50,15) , nrow=3)                   # create a matrix called barplotdata
colnames(barplotdata)=c(&quot;1900&quot;,&quot;1920&quot;,&quot;1940&quot;,&quot;1960&quot;,&quot;1980&quot;)    # add column names
rownames(barplotdata)=c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;)                           # add rownames
barplotdatapercent=apply(barplotdata, 2, function(x) { round(x*100/sum(x),1) }) # calculate percentages
barplotdatapercent                                                              # inspect data</code></pre>
<p>Now we can create a stacked barplot.</p>
<pre class="r"><code>barplot(                                 # create a barplot
  barplotdatapercent,                    # use barplotdatapercent
  main=&quot;Stacked Barplot&quot;,                # add title
  xlab=&quot;Decade&quot;,                         # add x-axis label
  ylab=&quot;Percent&quot;,                        # add y-axis label
  col=c(&quot;darkblue&quot;,&quot;red&quot;, &quot;gold&quot;),       # define colors
  legend = rownames(barplotdatapercent), # add a legend
  beside=F                               # do not place bars beside each other (stack the bars)
)                                        # end barplot
box()                                    # create a box around the plot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<p>Stacked barplots should only be used when dealing with percentages because trends in the data will be more difficult to detect if the bars are of unequal height. Therefore, avoid stacking when dealing with uneven column sums. Another issue to consider is the number of variable levels: when dealing with many variable levels, stacked barplots tend to become rather confusing, so either collapse infrequent variable levels or choose another visualization type (in cases when dealing with few frequent and many infrequent variable levels, line graphs tend to work better).</p>
</div>
<div id="grouped-barplots" class="section level2">
<h2><span class="header-section-number">6.2</span> Grouped Barplots</h2>
<p>Another alternative to stacked barplots are grouped barplots. In addition to linegraphs, grouped barplots are particularly useful when dealing with frequency counts.</p>
<pre class="r"><code>barplot(                                 # create a barplot
  barplotdata,                           # use barplotdata
  main=&quot;Grouped Barplot&quot;,                # add title
  xlab=&quot;Decade&quot;,                         # add x-axis label
  ylab=&quot;Percent&quot;,                        # add y-axis label
  ylim=c(0,50),                          # define y-axis range
  col=c(&quot;darkblue&quot;,&quot;red&quot;, &quot;gold&quot;),       # define colours
  beside=T,                              # place bars beside each other (group the bars)
  legend = rownames(barplotdata),        # add a legend
  args.legend=list(                      # place legend beside plotting area
    x=22,                                # define x-axis position
    y=max(barplotdata),                  # define y-axis position
    bty = &quot;n&quot;                            # separate legend elements with line break
    )                                    # end legend definition
)                                        # end barplot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>After having dealt with barplots in <code>base</code>, we will now turn to barplots in <code>ggplot</code>.</p>
</div>
<div id="barplots-in-ggplot" class="section level2">
<h2><span class="header-section-number">6.3</span> Barplots in <code>ggplot</code></h2>
<p>The logic of creating barplots in <code>ggplot</code> is again very similar to what we have encountered above. The code is also very similar as we only need to modify the data and change the specification of <code>geom_line</code> to <code>geom_bar</code>. Before we can start plotting, however, we will create two data sets that are set up in a way that it is easy to plot them.</p>
<pre class="r"><code>barplotdatagg1 &lt;- data.frame(                     # create a data set called barplotdatagg1
  rep(rownames(barplotdata), ncol(barplotdata)),  # create a vector with Variable values
  rep(colnames(barplotdata), each = nrow(barplotdata)), # create a vector with Decade values
  as.vector(barplotdata)                          # create a vector with Frequency values
  )                                               # end data set creation
colnames(barplotdatagg1) &lt;- c(&quot;Variable&quot;, &quot;Decade&quot;, &quot;Frequency&quot;) # define column names
attach(barplotdatagg1)                            # attach barplotdatagg1 data set
head(barplotdatagg1)                              # inspect barplotdatagg1</code></pre>
<p>We now create a second data set that contains frequencies per decade (without regard for Species).</p>
<pre class="r"><code>barplotdatagg2 &lt;- barplotdatagg1 %&gt;% # create a data set called barplotdatagg2
  group_by(Decade) %&gt;%               # group by Decade
  summarize(                         # start summary 
    CumFreq = sum(Frequency)         # create variable of cululative frequencies
  )                                  # end data set creation
attach(barplotdatagg2)               # attach barplotdatagg2 data set
head(barplotdatagg2)                 # inspect barplotdatagg2</code></pre>
<p>Now that the data is in the appropriate format, we can create a barplot of the data using the <code>ggplot</code> function.</p>
<pre class="r"><code>ggplot(barplotdatagg2,             # plot barplotdatagg
       aes(Decade, CumFreq)) +     # define x- and y-axis
  geom_bar(stat=&quot;identity&quot;) +      # determine type of plot
  theme_bw()                       # define theme (black and white theme)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>After having created a simple barplot, we will now turn to plotting grouped data using the data set we created first.</p>
<pre class="r"><code>ggplot(barplotdatagg1,                   # plot barplotdatagg1
       aes(Decade, Frequency,            # define x- and y-axis
           fill = Variable)) +           # define grouping variable
  geom_bar(stat=&quot;identity&quot;,              # determine type of plot
           position=position_dodge()) +  # determine grouping
  scale_fill_manual(values=c(&quot;goldenrod2&quot;, &quot;gray70&quot;, &quot;indianred4&quot;)) + # define colors
  geom_text(aes(label=Frequency), vjust=1.6, color=&quot;white&quot;, # add text and define color
            position = position_dodge(0.9), size=3.5) +     # define text position and size
  theme_bw()                                                # define theme (black and white)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
</div>
<div id="barplots-for-questionaires" class="section level2">
<h2><span class="header-section-number">6.4</span> Barplots for Questionaires</h2>
<p>Barplots are particularly useful when visualizing data obtained through Likert items. As this is a very common issue that empirical researchers face. Accordingly, the following section exemplifies how to display such data using the Likert package. In a first step, we need to install the package (if it is not already installed).</p>
<pre class="r"><code>#install.packages(&quot;likert&quot;)             # install likert for lickert visualizations (remove # to activate code)
library(likert)                         # activate package</code></pre>
<p>In a next step, we clean the data and a extract a subset for the data visualization example.</p>
<pre class="r"><code>data(pisaitems)           # use a provided dataset called pisaitems
items28 &lt;- pisaitems[, substr(names(pisaitems), 1, 5) == &quot;ST24Q&quot;] # extract a subset of the data for visualization
questionl28 &lt;- likert(items28) # plot the data
summary(questionl28) </code></pre>
<p>After extracting a sample of the data,w e plot it to show how the Likert data can be displayed.</p>
<pre class="r"><code>plot(questionl28)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<div id="barplots-with-negative-values" class="section level3">
<h3><span class="header-section-number">6.4.1</span> Barplots with Negative Values</h3>
<p>Another frequent task is to evaluate the divergence of values from a reference, for instance when dealing with language learners where native speakers serve as a reference or target. To illustrate how such data can be visualized, we load the scales package as we want to create a barplot in which we show the divergence of learners from native speakers regarding certain features and how that divergence changes over time.</p>
<pre class="r"><code>#install.packages(&quot;scales&quot;)  # install scales library (remove # to activate code)
library(scales)               # activate libraries</code></pre>
<p>In a next step, we create an example data set which mirrors the format we expect for the actual data.</p>
<pre class="r"><code>Test1 &lt;- c(11.2, 13.5, 200, 185, 1.3, 3.5)      # create a vector with values called Test1
Test2 &lt;- c(12.2, 14.7, 210, 175, 1.9, 3.0)      # create a vector with values called Test2
Test3 &lt;- c(13.2, 15.1, 177, 173, 2.4, 2.9)      # create a vector with values called Test3
testdata &lt;- data.frame(Test1, Test2, Test3)     # combine vectors in a data frame
rownames(testdata) &lt;- c(&quot;Feature1_Student&quot;,     # add rownames
                        &quot;Feature1_Reference&quot;, 
                        &quot;Feature2_Student&quot;, 
                        &quot;Feature2_Reference&quot;, 
                        &quot;Feature3_Student&quot;, 
                        &quot;Feature3_Reference&quot;)
testdata                                        # inspect data</code></pre>
<p>We can now determine how the learners deviate from the native speakers.</p>
<pre class="r"><code># determine divergence from reference
FeatureA &lt;- t(testdata[1,] - testdata[2,])  # row 1 (student) minus row 2 (reference)
FeatureB &lt;- t(testdata[3,] - testdata[4,])  # row 3 (student) minus row 4 (reference)
FeatureC &lt;- t(testdata[5,] - testdata[6,])  # row 5 (student) minus row 6 (reference)
plottable &lt;- data.frame(rep(rownames(FeatureA), 3), 
                  c(FeatureA, FeatureB, FeatureC), 
                  c(rep(&quot;FeatureA&quot;, 3), rep(&quot;FeatureB&quot;, 3), rep(&quot;FeatureC&quot;, 3)))
colnames(plottable) &lt;- c(&quot;Test&quot;, &quot;Value&quot;, &quot;Feature&quot;)
plottable                                          # inspect data</code></pre>
<p>Finally, we graphically display the divergence using a barplot.</p>
<pre class="r"><code># create plot
ggplot(plottable, aes(Test, Value)) +                                           # determine data and axes
  facet_grid(vars(Feature), scales = &quot;free_y&quot;) +                                # separate plots for each feature
  geom_bar(stat = &quot;identity&quot;, aes(fill = Test)) +                               # cerate bars
  theme_bw() +                                                                  # white background
  guides(fill=FALSE) +                                                          # no legend
  geom_bar(stat=&quot;identity&quot;, fill=rep(c(&quot;goldenrod2&quot;, &quot;gray70&quot;, &quot;indianred4&quot;), 3)) + # add color
  labs(x = &quot;&quot;, y = &quot;Score&quot;)                                                     # axes titles</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
</div>
</div>
<div id="extensions-of-barplots-associationplot" class="section level2">
<h2><span class="header-section-number">6.5</span> Extensions of Barplots: Associationplot</h2>
<p>A plot type that is related to barplots is the association plot. Association plots are similar to the barplot which shows deviations from a reference as above but association plots show the difference between the observed and expected frequencies in bin. Therefore, they are often used when graphically representing tables with absolute frequencies. In order to plot an association plot, we need to load the <code>vcd</code> package. For the example here, we are also changing the labels in the table from âMaleâ and âFemaleâ to âMâ and âFâ because otherwise, the labels would overlap.</p>
<pre class="r"><code>#install.packages(&quot;vcd&quot;)                         # install vcd for mosaic plot (remove # to activate code)
library(vcd)                                     # activate vcd package
attr(HairEyeColor, &quot;dimnames&quot;)$Sex=c(&quot;M&quot;, &quot;F&quot;)   # recode the Sex variable to avoid overlay in the plot</code></pre>
<p>Association plots are created by using the <code>assoc</code> function which takes a table (or a similar format such as a matrix or a data frame) as their argument. In addition, we specify <code>shade</code> as T in order to colour code the bars in the association plot and to add a legend.</p>
<pre class="r"><code>assoc(HairEyeColor, 
      shade=TRUE)</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-39-1.png" width="672" /></p>
</div>
<div id="extensions-of-barplots-mosaicplot" class="section level2">
<h2><span class="header-section-number">6.6</span> Extensions of Barplots: Mosaicplot</h2>
<p>Another plot which is useful to graphically depict the relationship of categorical variables is the mosaic plot. The size of the boxes in a mosaic plot indicate how frequent that subcategory is and the colours show whether or not the category differs from the value that is expected if given the overall distribution in the table. In addition, the hue of the colour shows how great the difference between observed and expected is and thus indicates whether the respective subcategory deviates significantly from the expected frequency.</p>
<pre class="r"><code>mosaic(HairEyeColor, # create a mosaic plot with the HairEyeColor data set
       shade=T,      # color code difference between observed and expected values
       legend=TRUE)  # add a legend to explain the color coding</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-40-1.png" width="672" /> According to the mosaic plot above, people who have blond hair and brown eyes occur less frequently than expected if there were no correlation between eye and hair colour (as indicated by the red rectangles in the lower left corner). The combination of blond hair and blue eyes is, however, substantially more frequent than would be expected by chance.</p>
</div>
</div>
<div id="boxplots" class="section level1">
<h1><span class="header-section-number">7</span> Boxplots</h1>
<p>So far, we have plotted values but we have not plotted the underlying distributions. For instance, we have plotted mean values but not the variance within the distribution. One handy way to combine plotting general trends and their underlying distributions including their range are boxplots.</p>
<div id="boxplots-in-base" class="section level2">
<h2><span class="header-section-number">7.1</span> Boxplots in <code>base</code></h2>
<p>Boxplots, or Box-and-Whisker Plots, are exploratory graphics first created by John W. Tukey and they show the relationships between categorical and numeric variables. They are very useful because they not only provide measures of central tendency (the median which is the line in the middle of the box) but they also offer information about the distribution of the data. To elaborate, fifty percent of data points fall within the box while seventy-five percent of data points fall within the whiskers (the lines which look like extended error bars): the box thus encompasses the interquartile range between the first and third quartile. The whiskers show the minimum and maximum values in the data and only outliers (data points that lie 1.5 times the interquartile range or more above the third quartile or 1.5 times the interquartile range or more below the first quartile. If the whiskers differ in length, then this means that the data is asymmetrically distributed.</p>
<pre class="r"><code>boxplot(Sepal.Length~Species,                              # create a boxplot of Sepal.Length by Species
        data=iris,                                         # use data set iris
        main=&quot;Boxplot&quot;,                                    # add title
        ylab=&quot;Sepal Length (cm)&quot;,                          # add y-axis label
        xlab=&quot;Species&quot;,                                    # add x-axis label
        col = c(&quot;lightgrey&quot;, &quot;lightblue&quot;, &quot;lightgreen&quot;)    # defibe color of boxes
        )                                                  # end plot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-41-1.png" width="672" /></p>
<p>Another interesting feature of boxplots is that they allow us to visually get an idea whether categories differ significantly. Because if add <code>notch = T</code> and the notches of the boxplots do not overlap, then this is a very strong indication that the categories actually differ significantly (see below).</p>
<pre class="r"><code>boxplot(Sepal.Length~Species,                              # create a boxplot of Sepal.Length by Species
        data=iris,                                         # use data set iris
        main=&quot;Boxplot&quot;,                                    # add title
        ylab=&quot;Sepal Length (cm)&quot;,                          # add y-axis label
        xlab=&quot;Species&quot;,                                    # add x-axis label
        col = c(&quot;lightgrey&quot;, &quot;lightblue&quot;, &quot;lightgreen&quot;),   # defibe color of boxes
        notch = T                                          # add notches
        )                                                  # end plot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
</div>
<div id="boxplots-in-ggplot" class="section level2">
<h2><span class="header-section-number">7.2</span> Boxplots in <code>ggplot</code></h2>
<p>We will now use the <code>ggplot</code> function to create boxplots.</p>
<pre class="r"><code>ggplot(iris,                                   # create a boxplot with iris data
       aes(Species, Sepal.Length,              # define x- and y-axis
           color = Species)) +                 # define coloring factor
         geom_boxplot(outlier.colour=&quot;black&quot;,  # define outlier color
                      outlier.shape=16,        # define outlier shape
                      outlier.size=2,          # define outlier size
                      notch=FALSE,             # do not draw notches
                      fill=c(&quot;gold&quot;, &quot;gray70&quot;, &quot;indianred4&quot;),  # define colors of boxes
                      color=&quot;black&quot;            # define color edges
                      )                        # end plot</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-43-1.png" width="672" /></p>
<div id="extensions-of-boxplots-violine-plots" class="section level3">
<h3><span class="header-section-number">7.2.1</span> Extensions of Boxplots: Violine Plots</h3>
<p>An alternative to boxplots which display the distribution within the data even more accurately are violin plots.</p>
<pre class="r"><code>ggplot(iris,                                # use iris data
       aes(x=Species, y=Sepal.Length,       # define axes
           fill=Species)) +                 # color by Species
  geom_violin(trim=FALSE)+                  # cerate violin plots
  geom_boxplot(width=0.1, fill=&quot;white&quot;)+    # create (additional) boxplots
  labs(title=&quot;Sepal Length  by Species&quot;,    # determine title
       x=&quot;Species&quot;, y = &quot;Length (cm)&quot;) +    # determine axes labels
  scale_fill_manual(values=c(&quot;#999999&quot;, &quot;#E69F00&quot;, &quot;#56B4E9&quot;)) + # define colours
  theme_bw() +                              # use black ad white theme
  theme(legend.position=&quot;none&quot;)             # surpress legend</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-44-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="density-plots" class="section level1">
<h1><span class="header-section-number">8</span> Density Plots</h1>
<p>Another way to visualize the distribution of the data with respect to numeric variables are density plots or Kernel Density Plots. Density plots smooth the data using so-called kernel smoothing to even out the distribution of frequencies along the lines of a numeric or interval variable. The peaks of density plots help display where values are concentrated over the interval. To show the relationship between the variable and the density plot, we will first create a scatter plot and then create a density plot of the variable displayed on the x-axis of the scatter plot.</p>
<pre class="r"><code>ggplot(iris,                                    # use iris data
       aes(x=Sepal.Length, y=Sepal.Width,       # define axes
           color=Species)) +                    # colour by Species
  geom_point() +                                # create dot plot
  scale_color_manual(values = c(&#39;indianred4&#39;, &#39;darkgrey&#39;, &#39;gold&#39;)) + # define colours 
  theme(legend.position=c(0,1), legend.justification=c(0,1)) # add legend</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-45-1.png" width="672" /></p>
<p>We will now create a marginal density plot of Sepal.Length (x-axis).</p>
<pre class="r"><code>ggplot(iris,                               # use iris data
       aes(Sepal.Length, fill=Species)) +  # define axis and coloring
  geom_density(alpha=.5) +                 # create density plot and define smoothing factor
  scale_fill_manual(values = c(&#39;indianred4&#39;, &#39;darkgrey&#39;, &#39;gold&#39;)) + # define colours
  theme(legend.position = &quot;none&quot;)          # surpress legend</code></pre>
<p><img src="basicgraphs_files/figure-html/unnamed-chunk-46-1.png" width="672" /></p>
<p>The density plot show that the species differ substantially in their sepal length as the peaks of the three species are located at different points on the x-axis.</p>
</div>
<div id="wordclouds" class="section level1">
<h1><span class="header-section-number">9</span> Wordclouds</h1>
<p>Word clouds visualize word frequencies of either single corpus or different corpora. Although word clouds are rarely used in academic publications, they are a common way to display language data and the topics of texts - which may be thought of as their semantic content. To exemplify how to use word clouds, we are going to have a look at the election programs (Wahlkampfprogramme) of German political parties for the Bundestag elections 2013.</p>
<p>Prepare data by removing all lists from the current work space and installing packages we need or which may be useful</p>
<pre class="r"><code># (to activate just delete the #)
#install.packages(&quot;tm&quot;)
#install.packages(&quot;wordcloud&quot;)
#install.packages(&quot;Rstem&quot;)
#install.packages(&quot;stringr&quot;)
#install.packages(&quot;SnowballC&quot;)

# Initiate the packages
library(tm)
library(wordcloud)
#library(Rstem)
library(stringr)
library(SnowballC)</code></pre>
<p>Read in data</p>

<p>At first, I thought that word clouds are simply a fancy but not very helpful way to inspect language data but I have to admit that word clouds really surprised me as they do appear to possess potential to offer an idea of what groups of people are talking about.</p>
<p>The comparative word cloud shows that the <em>FDP</em> stresses concepts like âwettbewerbâ, âfreiheitâ, âchancenâ, âliberalâ thereby stressing their liberal outlook (they didnât make it and didnât deserve it by the way - just my opinion). <em>Die GrÃ¼nen</em> support every nonsense as they are âfÃ¼râ everything and relied more on emphasizing âfrauenâ, âzukunftâ, and âteilhabeâ which is in line with their feel-good philosophy. <em>Die Linke</em> rallied on about what we have to be done (âmÃ¼ssenâ), and used words like âsozialâ, âbeschÃ¤ftigtenâ, and âÃ¶ffentlichâ a lot showing their emphasis on economic issues. The social democrats (<em>SPD</em>) addressed topics like âkommunenâ, âarbeitâ, âgesellschaftâ, âbildungâ, and âgerechtigkeitâ - so they essentially used their typical buzz words (just sayinâ). Finally, the <em>CDU/CSU</em> mentioned âlÃ¤ndlichâ, âwohlstandâ, âunser*, âandâweiterhin&quot; to suggest that they will just continue with whatever nothing that have been doing over the past years.</p>
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-anderson1935iris">
<p>Anderson, Edgar. 1935. âThe Irises of the Gaspe Peninsula.â <em>Bulletin of the American Iris Society</em> 59: 2â5.</p>
</div>
<div id="ref-becker1988s">
<p>Becker, Richard A., John M. Chambers, and Allen R. Wilks. 1988. <em>The New S Language</em>. Wadsworth &amp; Brooks/Cole.</p>
</div>
<div id="ref-fisher1936iris">
<p>Fisher, R. A. 1936. âThe Use of Multiple Measurements in Taxonomic Problems.â <em>Annals of Eugenics</em> 7 (2): 179â88.</p>
</div>
<div id="ref-wilkinson2006grammar">
<p>Wilkinson, Leland. 2006. <em>The Grammar of Graphics</em>. Canada: Springer Science &amp; Business Media.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
