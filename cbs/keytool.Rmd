
![An interactive LADAL notebook](https://slcladal.github.io/images/uq1.jpg)


This notebook-based tool accompanies the [Language Technology and Data Analysis Laboratory (LADAL) tutorial *Analyzing Collocations, N-grams, and Keywords in R*](https://ladal.edu.au/coll.html). 

<div class="warning" style='padding:0.1em; background-color: rgba(215,209,204,.3); color:#51247a'>
<span>
<p style='margin-top:1em; text-align:center'>
<b>The code chunks below calculate keyness statistics that represent how characteristic words are for a text or corpus. </b>! 
<br>
</p>
<p style='margin-left:1em;'>
</p></span>
</div>

<br>




## Using your own data

<div class="warning" style='padding:0.1em; background-color: rgba(215,209,204,.3); color:#51247a'>
<span>
<p style='margin-top:1em; text-align:center'>
To <b>use your own data</b>, click on the folder called <b>`MyTexts`</b> (it is in the menu to the left of the screen) and then simply drag and drop your txt-files into the folder. <br>
<br>
<b>IMPORTANT</b>: load two txt-files - <b>one called *text1*</b> containing the target text/corpus and <b>another called *text2*</b> containing the reference text/corpus!
<br>
<br>When you then execute the code chunk below, you will upload your own data and you can then use it in this notebook.<br>You can upload <b>only txt-files</b> (simple unformatted files created in or saved by a text editor)! <br>The notebook assumes that you upload some form of text data - not tabular data! 
<br>
</p>
<p style='margin-left:1em;'>
</p></span>
</div>

<br>


```{r}
# load function that helps loading texts
source("https://slcladal.github.io/rscripts/loadkeytxts.R")
# load texts
text <- loadkeytxts()
# inspect the structure of the text object
str(text)
```

After loading the target and reference, we prepare the data for analysis.

```{r}
# load function that helps loading texts
source("https://slcladal.github.io/rscripts/prepkeys.R")
# prepare texts
keystb <- prepkeydat(text)
# inspect the structure of the text object
head(keystb)
```

Now, we extract the association measures (if the table has many rows, this may take a few minutes).

```{r}
# load function that extract association measures
source("https://slcladal.github.io/rscripts/keystats.R")
# load texts
keys <- keystats(mytable)
# inspect first 10 rows of the data
head(keys, 10)
```


## Exporting the association table

To export the table with the association measures as an MS Excel spreadsheet, we use `write_xlsx`. Be aware that we use the `here` function to  save the file in the current working directory.

```{r eval = F, warning=F, message=F}
# save data for MyOutput folder
write_xlsx(keys, here::here("notebooks/MyOutput/keys.xlsx"))
```

<div class="warning" style='padding:0.1em; background-color: rgba(215,209,204,.3); color:#51247a'>
<span>
<p style='margin-top:1em; text-align:center'>
<b>You will find the generated MS Excel spreadsheet named *keys.xlsx* in the `MyOutput` folder (located on the left side of the screen).</b> <br><br>Simply double-click the `MyOutput` folder icon, then right-click on the *keys.xlsx* file, and choose Download from the dropdown menu to download the file. <br>
</p>
<p style='margin-left:1em;'>
</p></span>
</div>

<br>



***

[Back to LADAL](https://ladal.edu.au/coll.html)

***



