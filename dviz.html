<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Martin Schweinberger" />

<meta name="date" content="2022-05-04" />

<title>Data Visualization with R</title>

<script src="site_libs/header-attrs-2.14/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>
<link href="site_libs/tabwid-1.0.0/tabwid.css" rel="stylesheet" />
<link rel="stylesheet" href="styles.css" />

<!--html_preserve-->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-VSGK4KYDQZ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-VSGK4KYDQZ');
</script>
<!--/html_preserve-->

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>





<style type="text/css">
/* for pandoc --citeproc since 2.11 */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  
  <!-- Added by SKC - LADAL image and thicker top with   -->
  <div class="container-fluid navbar-top" >
    <a href="index.html"> <!-- Make entire top row and text clickable home link  -->
        <div class="row">
            <div class="navbar-brand col-md-12">
              <img src="ladal_icon_cas_tran_white_trimed.png" class="navbar-icon" alt="LADAL"/>
              <span class="navbar-title-note navbar-collapse collapse" >Language Technology and Data Analysis Laboratory</span>
            </div>
        </div>
    </a>
  </div>
  
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <!-- SKC removed  navbar brand -->
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">HOME</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    ABOUT LADAL
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="people.html">People | Collabs</a>
    </li>
    <li>
      <a href="news.html">News</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    EVENTS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="workshops.html">Workshops</a>
    </li>
    <li>
      <a href="webinars2022.html">LADAL Webinar Series 2022</a>
    </li>
    <li>
      <a href="opening.html">LADAL Webinar Series 2021</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    DATA SCIENCE BASICS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introduction to Data Science</li>
    <li>
      <a href="comp.html">Working with Computers</a>
    </li>
    <li>
      <a href="repro.html">Data Management and Reproducibility</a>
    </li>
    <li>
      <a href="introquant.html">Introduction to Quantitative Reasoning</a>
    </li>
    <li>
      <a href="basicquant.html">Basic Concepts in Quantitative Research</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    R BASICS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introduction to R</li>
    <li>
      <a href="whyr.html">Why R?</a>
    </li>
    <li>
      <a href="intror.html">Getting started</a>
    </li>
    <li>
      <a href="string.html">String Processing</a>
    </li>
    <li>
      <a href="regex.html">Regular Expressions</a>
    </li>
    <li>
      <a href="table.html">Handling tables in R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    TUTORIALS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Data Visualization</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="introviz.html">Introduction to Data Viz</a>
        </li>
        <li>
          <a href="dviz.html">Data Visualization with R</a>
        </li>
        <li>
          <a href="maps.html">Displaying Geo-Spatial Data</a>
        </li>
        <li>
          <a href="motion.html">Interactive Charts</a>
        </li>
      </ul>
    </li>
    <li class="divider"></li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Statistics</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="dstats.html">Descriptive Statistics</a>
        </li>
        <li>
          <a href="basicstatz.html">Basic Inferential Statistics</a>
        </li>
        <li>
          <a href="regression.html">Regression Analysis</a>
        </li>
        <li>
          <a href="tree.html">Tree-Based Models</a>
        </li>
        <li>
          <a href="clust.html">Cluster and Correspondence Analysis</a>
        </li>
        <li>
          <a href="lexsim.html">Introduction to Lexical Similarity</a>
        </li>
        <li>
          <a href="svm.html">Semantic Vector Space Models</a>
        </li>
        <li>
          <a href="pwr.html">Power Analysis</a>
        </li>
      </ul>
    </li>
    <li class="divider"></li>
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Text Analytics</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="textanalysis.html">Text Analysis and Distant Reading</a>
        </li>
        <li>
          <a href="kwics.html">Concordancing (keywords-in-context)</a>
        </li>
        <li>
          <a href="net.html">Network Analysis</a>
        </li>
        <li>
          <a href="coll.html">Co-occurrence and Collocation Analysis</a>
        </li>
        <li>
          <a href="topicmodels.html">Topic Modeling</a>
        </li>
        <li>
          <a href="sentiment.html">Sentiment Analysis</a>
        </li>
        <li>
          <a href="tagging.html">Tagging and Parsing</a>
        </li>
        <li>
          <a href="txtsum.html">Automated Text Summarization</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    FOCUS STUDIES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="corplingr.html">Corpus Linguistics with R</a>
    </li>
    <li>
      <a href="llr.html">Analyzing Learner Language using R</a>
    </li>
    <li>
      <a href="lex.html">Lexicography and Dictionaries with R</a>
    </li>
    <li>
      <a href="surveys.html">Questionnaires and Surveys with R</a>
    </li>
    <li>
      <a href="vc.html">Phonetics: Creating Vowel Charts with Praat and R</a>
    </li>
    <li>
      <a href="litsty.html">Computational Literary Stylistics with R</a>
    </li>
    <li>
      <a href="phylo.html">Phylogenetics for linguistic typology</a>
    </li>
    <li>
      <a href="reinfnlp.html">Reinforcement Learning in NLP</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Useful How-To Tutorials</li>
    <li>
      <a href="pdf2txt.html">Converting PDFs to txt</a>
    </li>
    <li>
      <a href="webcrawling.html">Web Crawling using R</a>
    </li>
    <li>
      <a href="gutenberg.html">Downloading Texts from Project Gutenberg</a>
    </li>
    <li>
      <a href="rename.html">Renaming files with R</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    RESOURCES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="contact.html">Contact</a>
    </li>
    <li>
      <a href="services.html">Services</a>
    </li>
    <li>
      <a href="links.html">Links</a>
    </li>
    <li>
      <a href="base.html">Tutorial stylesheet</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Data Visualization with R</h1>
<h4 class="author">Martin Schweinberger</h4>
<h4 class="date">2022-05-04</h4>

</div>



<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-130562131-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-130562131-1');
</script>

<p><img src="https://slcladal.github.io/images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1 unnumbered">
<h1 class="unnumbered">Introduction</h1>
<p>This tutorial introduces different types of data visualization. A
more in-depth and highly recommendable resource for data visualization
in R is <span class="citation">Wickham (<a
href="#ref-wickham2016ggplot2" role="doc-biblioref">2016</a>)</span>. A
more general introduction to data visualization - which is still highly
recommendable is <span class="citation">Healy (<a
href="#ref-healy2018data" role="doc-biblioref">2018</a>)</span>.</p>
<p>This tutorial is aimed at beginners and intermediate users of R with
the aim of showcasing how to visualize data using R. The aim is not to
provide a fully-fledged analysis but rather to show and exemplify
selected useful methods for data visualizations.</p>
<div class="warning"
style="padding:0.1em; background-color:#f2f2f2; color:#51247a">
<span>
<p style="margin-top:1em; text-align:center">
The entire R Notebook for the tutorial can be downloaded <a
href="https://slcladal.github.io/dviz.Rmd"><strong>here</strong></a>. If
you want to render the R Notebook on your machine, i.e. knitting the
document to html or a pdf, you need to make sure that you have R and
RStudio installed and you also need to download the <a
href="https://slcladal.github.io/bibliography.bib"><strong>bibliography
file</strong></a> and store it in the same folder where you store the
Rmd file. <br><br> <strong><a
href="https://colab.research.google.com/drive/1KkHwo64MEgVOhdH51tey3SfrPE06cmaP?usp=sharing">Here</a></strong>
is a <strong>link to an interactive version of this tutorial on Google
Colab</strong>. The interactive tutorial is based on a Jupyter notebook
of this tutorial. This interactive Jupyter notebook allows you to
execute code yourself and - if you copy the Jupyter notebook - you can
also change and edit the notebook, e.g. you can change code and upload
your own data.<br>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<p><br></p>
<p><strong>Graphics philosophies</strong></p>
<p>Before we start, a few words on different frameworks for creating
graphics in R are in order. There are three main frameworks in which to
create graphics in R. The <em>basic</em> framework, the <em>lattice</em>
framework, and the <em>ggplot</em> or <em>tidyverse</em> framework.
These frameworks reflect the changing nature of R as a programming
language (or as a programming environment). The so-called <em>base
R</em> consists of about 30 packages that are always loaded
automatically when you open R - it is, so to say - the default version
of using R when nothing else is loaded. The <em>base R</em> framework is
the oldest way to generate visualizations in R that was used when other
packages did not exists yet. However, <em>base R</em> can and is still
used to create visualizations although most visualizations are now
generated using the <em>ggplot</em> or <em>tidyverse</em> framework.</p>
<p><strong>The ggplot framework</strong></p>
<p>The <em>ggplot</em> environment was written by <a
href="http://hadley.nz/">Hadley Wickham</a> and it implements a
philosophy of graphic design described in builds on <em>The Grammar of
Graphics</em> by Leland Wilkinson <span class="citation">(<a
href="#ref-wilkinson2012grammar" role="doc-biblioref">Wilkinson
2012</a>)</span>. Thus, ggplots typically start with the function call
(<code>ggplot</code>) followed by the specification of the data, then
the aesthetics (<code>aes</code>), and then a specification of the type
of plot that is created (<code>geom_line</code> for line graphs,
<code>geom_box</code> for box plots, <code>geom_bar</code> for bar
graphs, <code>geom_text</code> for text, etc.). In addition, ggplot
allows to specify all elements that the graph consists of (e.g. the
theme and axes).</p>
<p><strong>Drag’n Drop with esquisse</strong></p>
<p>While the underlying logic and the visualizations generated by
<code>ggplot</code> are really nice and have led to a major shift from
base R and lattice to ggplot, generating ggplot visualizations is
arguably more complex. To help deal with this added complexity, I
recommend using the <code>esquisse</code> package (initially) which
allows you to generate very nice ggplot visualizations by dragging and
dropping into a GUI (Graphical User Interface). An additional advantage
is that <code>esquisse</code> also provides the code which you can then
copy and integrate into scripts or customize further. <a
href="https://dreamrs.github.io/esquisse/articles/get-started.html">Here</a>
is a tutorial on how to generate ggplot visualizations using
<code>esquisse</code> and <a
href="https://www.youtube.com/watch?v=xA9PMizB1VA">here</a> is a YouTube
tutorial showing you how to do this.</p>
<p><strong>Preparation and session set up</strong></p>
<p>This tutorial is based on R. If you have not installed R or are new
to it, you will find an introduction to and more information how to use
R <a href="https://slcladal.github.io/intror.html">here</a>. For this
tutorials, we need to install certain <em>packages</em> from an R
<em>library</em> so that the scripts shown below are executed without
errors. Before turning to the code below, please install the packages by
running the code below this paragraph. If you have already installed the
packages mentioned below, then you can skip ahead and ignore this
section. To install the necessary packages, simply run the following
code - it may take some time (between 1 and 5 minutes to install all of
the libraries so you do not need to worry if it takes some time).</p>
<pre class="r"><code># install packages
install.packages(&quot;lattice&quot;)
install.packages(&quot;dplyr&quot;)
install.packages(&quot;stringr&quot;)
install.packages(&quot;ggplot2&quot;)
install.packages(&quot;likert&quot;)
install.packages(&quot;scales&quot;)
install.packages(&quot;vcd&quot;)
install.packages(&quot;tm&quot;)
install.packages(&quot;ggridges&quot;)
install.packages(&quot;SnowballC&quot;)
install.packages(&quot;tidyr&quot;)
install.packages(&quot;gridExtra&quot;)
install.packages(&quot;knitr&quot;)
install.packages(&quot;DT&quot;)
install.packages(&quot;wordcloud&quot;)
install.packages(&quot;flextable&quot;)
install.packages(&quot;hexbin&quot;)
install.packages(&quot;EnvStats&quot;)
install.packages(&quot;ggstatsplot&quot;)
install.packages(&quot;PMCMRplus&quot;)
install.packages(&quot;rstantools&quot;)
# install klippy for copy-to-clipboard button in code chunks
install.packages(&quot;remotes&quot;)
remotes::install_github(&quot;rlesur/klippy&quot;)</code></pre>
<p>Now that we have installed the packages, we activate them as shown
below.</p>
<pre class="r klippy"><code># set options
options(stringsAsFactors = F)          # no automatic data transformation
options(&quot;scipen&quot; = 100, &quot;digits&quot; = 12) # suppress math annotation
# activate packages
library(lattice)
library(dplyr)
library(stringr)
library(ggplot2)
library(likert)
#library(scales)
library(vcd)
library(tm)
library(ggridges)
#library(SnowballC)
library(tidyr)
#library(gridExtra)
library(knitr)
library(DT)
library(wordcloud)
library(flextable)
library(hexbin)
# activate klippy for copy-to-clipboard button
klippy::klippy()</code></pre>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('left', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<p>Once you have installed R and RStudio and initiated the session by
executing the code shown above, you are good to go.</p>
</div>
<div id="getting-started" class="section level1 unnumbered">
<h1 class="unnumbered">Getting started</h1>
<p>Before turning to the graphs, we load the data that we will display.
The data set is called <code>lmmdata</code> but we will change the name
to <code>pdat</code> for this tutorial. The data set is based on the <a
href="https://www.ling.upenn.edu/hist-corpora/"><em>Penn Parsed Corpora
of Historical English</em></a> (PPC) and it contains the date when a
text was written (<code>Date</code>), the genre of the text
(<code>Genre</code>), the name of the text (<code>Text</code>), the
relative frequency of prepositions in the text
(<code>Prepositions</code>), and the region in which the text was
written (<code>Region</code>). We also add two more variables to the
data called <code>GenreRedux</code> and <code>DateRedux</code>.
<code>GenreRedux</code> collapses the existing genres into five main
categories (<em>Conversational</em>, <em>Religious</em>, <em>Legal</em>,
<em>Fiction</em>, and <em>NonFiction</em>) while <code>DateRedux</code>
collapses the dates when the texts were composed into five main periods
(1150-1499, 1500-1599, 1600-1699, 1700-1799, and 1800-1913). We also
factorize non-numeric variables.</p>
<pre class="r"><code># load data
pdat  &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/pvd.rda&quot;, &quot;rb&quot;))</code></pre>
<p>Let’s briefly inspect the data.</p>
<template id="14ec464a-9510-4c28-ba4d-e8c375b0ee64"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-e1f43e5e{table-layout:auto;width:95%;}.cl-e1e67116{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e1e67120{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-e1e69678{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e1e69682{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-e1e70e78{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70e8c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70e8d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70e8e{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70e96{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70e97{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70ea0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70ea1{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70ea2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70eaa{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70eab{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70eac{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70ead{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70eb4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70eb5{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-e1e70ebe{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-e1f43e5e'>
<caption class="Table Caption">
<p>First 15 rows of the pdat data.</p>
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-e1e70ead"><p class="cl-e1e69678"><span class="cl-e1e67116">Date</span></p></td><td class="cl-e1e70eb4"><p class="cl-e1e69682"><span class="cl-e1e67116">Genre</span></p></td><td class="cl-e1e70eb4"><p class="cl-e1e69682"><span class="cl-e1e67116">Text</span></p></td><td class="cl-e1e70eb5"><p class="cl-e1e69678"><span class="cl-e1e67116">Prepositions</span></p></td><td class="cl-e1e70eb4"><p class="cl-e1e69682"><span class="cl-e1e67116">Region</span></p></td><td class="cl-e1e70eb4"><p class="cl-e1e69682"><span class="cl-e1e67116">GenreRedux</span></p></td><td class="cl-e1e70ebe"><p class="cl-e1e69682"><span class="cl-e1e67116">DateRedux</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e8d"><p class="cl-e1e69678"><span class="cl-e1e67120">1,736</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Science</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">albin</span></p></td><td class="cl-e1e70e8e"><p class="cl-e1e69678"><span class="cl-e1e67120">166.01</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70e78"><p class="cl-e1e69682"><span class="cl-e1e67120">1700-1799</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e97"><p class="cl-e1e69678"><span class="cl-e1e67120">1,711</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Education</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">anon</span></p></td><td class="cl-e1e70ea1"><p class="cl-e1e69678"><span class="cl-e1e67120">139.86</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70ea0"><p class="cl-e1e69682"><span class="cl-e1e67120">1700-1799</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e8d"><p class="cl-e1e69678"><span class="cl-e1e67120">1,808</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">PrivateLetter</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">austen</span></p></td><td class="cl-e1e70e8e"><p class="cl-e1e69678"><span class="cl-e1e67120">130.78</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Conversational</span></p></td><td class="cl-e1e70e78"><p class="cl-e1e69682"><span class="cl-e1e67120">1800-1913</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e97"><p class="cl-e1e69678"><span class="cl-e1e67120">1,878</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Education</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">bain</span></p></td><td class="cl-e1e70ea1"><p class="cl-e1e69678"><span class="cl-e1e67120">151.29</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70ea0"><p class="cl-e1e69682"><span class="cl-e1e67120">1800-1913</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e8d"><p class="cl-e1e69678"><span class="cl-e1e67120">1,743</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Education</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">barclay</span></p></td><td class="cl-e1e70e8e"><p class="cl-e1e69678"><span class="cl-e1e67120">145.72</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70e78"><p class="cl-e1e69682"><span class="cl-e1e67120">1700-1799</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e97"><p class="cl-e1e69678"><span class="cl-e1e67120">1,908</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Education</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">benson</span></p></td><td class="cl-e1e70ea1"><p class="cl-e1e69678"><span class="cl-e1e67120">120.77</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70ea0"><p class="cl-e1e69682"><span class="cl-e1e67120">1800-1913</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e8d"><p class="cl-e1e69678"><span class="cl-e1e67120">1,906</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Diary</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">benson</span></p></td><td class="cl-e1e70e8e"><p class="cl-e1e69678"><span class="cl-e1e67120">119.17</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Conversational</span></p></td><td class="cl-e1e70e78"><p class="cl-e1e69682"><span class="cl-e1e67120">1800-1913</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e97"><p class="cl-e1e69678"><span class="cl-e1e67120">1,897</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Philosophy</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">boethja</span></p></td><td class="cl-e1e70ea1"><p class="cl-e1e69678"><span class="cl-e1e67120">132.96</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70ea0"><p class="cl-e1e69682"><span class="cl-e1e67120">1800-1913</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e8d"><p class="cl-e1e69678"><span class="cl-e1e67120">1,785</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Philosophy</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">boethri</span></p></td><td class="cl-e1e70e8e"><p class="cl-e1e69678"><span class="cl-e1e67120">130.49</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70e78"><p class="cl-e1e69682"><span class="cl-e1e67120">1700-1799</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e97"><p class="cl-e1e69678"><span class="cl-e1e67120">1,776</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Diary</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">boswell</span></p></td><td class="cl-e1e70ea1"><p class="cl-e1e69678"><span class="cl-e1e67120">135.94</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Conversational</span></p></td><td class="cl-e1e70ea0"><p class="cl-e1e69682"><span class="cl-e1e67120">1700-1799</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e8d"><p class="cl-e1e69678"><span class="cl-e1e67120">1,905</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Travel</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">bradley</span></p></td><td class="cl-e1e70e8e"><p class="cl-e1e69678"><span class="cl-e1e67120">154.20</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70e78"><p class="cl-e1e69682"><span class="cl-e1e67120">1800-1913</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e97"><p class="cl-e1e69678"><span class="cl-e1e67120">1,711</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Education</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">brightland</span></p></td><td class="cl-e1e70ea1"><p class="cl-e1e69678"><span class="cl-e1e67120">149.14</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">NonFiction</span></p></td><td class="cl-e1e70ea0"><p class="cl-e1e69682"><span class="cl-e1e67120">1700-1799</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e8d"><p class="cl-e1e69678"><span class="cl-e1e67120">1,762</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Sermon</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">burton</span></p></td><td class="cl-e1e70e8e"><p class="cl-e1e69678"><span class="cl-e1e67120">159.71</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e8c"><p class="cl-e1e69682"><span class="cl-e1e67120">Religious</span></p></td><td class="cl-e1e70e78"><p class="cl-e1e69682"><span class="cl-e1e67120">1700-1799</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70e97"><p class="cl-e1e69678"><span class="cl-e1e67120">1,726</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Sermon</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">butler</span></p></td><td class="cl-e1e70ea1"><p class="cl-e1e69678"><span class="cl-e1e67120">157.49</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70e96"><p class="cl-e1e69682"><span class="cl-e1e67120">Religious</span></p></td><td class="cl-e1e70ea0"><p class="cl-e1e69682"><span class="cl-e1e67120">1700-1799</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-e1e70ea2"><p class="cl-e1e69678"><span class="cl-e1e67120">1,835</span></p></td><td class="cl-e1e70eac"><p class="cl-e1e69682"><span class="cl-e1e67120">PrivateLetter</span></p></td><td class="cl-e1e70eac"><p class="cl-e1e69682"><span class="cl-e1e67120">carlyle</span></p></td><td class="cl-e1e70eab"><p class="cl-e1e69678"><span class="cl-e1e67120">124.16</span></p></td><td class="cl-e1e70eac"><p class="cl-e1e69682"><span class="cl-e1e67120">North</span></p></td><td class="cl-e1e70eac"><p class="cl-e1e69682"><span class="cl-e1e67120">Conversational</span></p></td><td class="cl-e1e70eaa"><p class="cl-e1e69682"><span class="cl-e1e67120">1800-1913</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="2a3ec664-06f1-4f53-9451-7b4fecb18e43"></div>
<script>
var dest = document.getElementById("2a3ec664-06f1-4f53-9451-7b4fecb18e43");
var template = document.getElementById("14ec464a-9510-4c28-ba4d-e8c375b0ee64");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>In addition, we will create a vector with colors that we will be
using throughout this tutorial. This is not really necessary but it
shares us from having to specify colors every time when we do not want
to use the default colors that R provides. In this case, we will specify
five colors but this palette could be extended. You can also check out
the colors that are available in R <a
href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">here</a>
and the palettes or sets of colors <a
href="https://www.datanovia.com/en/blog/top-r-color-palettes-to-know-for-great-data-visualization/">here</a>.</p>
<pre class="r"><code>clrs5 &lt;- c(&quot;indianred4&quot;, &quot;gray30&quot;, &quot;darkblue&quot;, &quot;orange&quot;, &quot;gray80&quot;)
clrs3 &lt;- c(&quot;indianred4&quot;, &quot;gray30&quot;, &quot;darkblue&quot;)
clrs2 &lt;- c(&quot;orange&quot;, &quot;gray80&quot;)</code></pre>
<p>We will now turn to creating the graphs.</p>
</div>
<div id="dot-and-scatter-plots" class="section level1 unnumbered">
<h1 class="unnumbered">Dot and Scatter Plots</h1>
<p>The first, and simplest graph, is a so-called <em>scatter</em> or
<em>dot plot</em>. Scatter plots are used when the graph is set up to
display the relationship between two numeric variables. We will start
off with creating a scatter plot in <em>base</em>, then in
<em>lattice</em> and finally in the <em>ggplot</em> environment.</p>
<div id="scatter-plots-in-base" class="section level2 unnumbered">
<h2 class="unnumbered">Scatter Plots in base</h2>
<p>The most fundamental function to create plots in the <em>base</em>
environment is to use the general “plot” function. Here, we use that
function to create a simple scatter plot.</p>
<pre class="r"><code># create simple scatter plot
plot(Prepositions ~ Date,                 # plot Prepositions by Date
     type = &quot;p&quot;,                          # plot type p (points) 
     data = pdat,                     # data from data set pdat  
     ylab = &quot;Prepositions (Frequency)&quot;,   # add y-axis label 
     xlab = &quot;Date (year of composition)&quot;, # add x-axis label 
     main = &quot;plot type &#39;p&#39; (points)&quot;      # add title 
     )                                    # end drawing plot</code></pre>
<p><img src="dviz_files/figure-html/scatter1-1.png" width="672" /></p>
<p>Let us go over the command. The first part of the call is
<code>plot</code> which is the function for plotting data in base R. In
the round brackets are the arguments in which we specify what the plot
should look like. The <code>Prepositions ~ Date</code> part tells R
which variables should be displayed and the <code>type = "p"</code> part
tells R which type of plot we want (<code>p</code> stands for points,
<code>l</code> for lines, <code>b</code> for both lines and points). The
part <code>data = pdat</code> tells R which data set to take the data
from, and <code>ylab = "Prepositions (Frequency)"</code> and
<code>xlab = "Date (year of composition)"</code> informs R about the
axes’ labels. The part <code>main = "plot type 'p' (points)"</code>
informs R about what we want as the main title of the plot.</p>
<p>In a next step, we will change the title, add two regression lines to
the scatterplot (in the first case a linear and in the second case a
smoothed regression line) and we will change the points as well as the
color of the points.</p>
<pre class="r"><code># create simple scatter plot with regression lines (ablines)
plot(Prepositions ~ Date,                 # plot Prepositions by Date
     type = &quot;p&quot;,                          # plot type p (points) 
     data = pdat,                     # data from data set iris  
     ylab = &quot;Prepositions (Frequency)&quot;,   # add y-axis label 
     xlab = &quot;Date (year of composition)&quot;, # add x-axis label 
     main = &quot;Scatterplot&quot;,                # add title 
     pch = 20,                            # use point symbol 20 (filled circles)
     col = &quot;lightgrey&quot;                    # define symbol colour as light grey
     )                                    # end drawing plot
abline(                                   # add regression line (y~x) 
  lm(pdat$Prepositions ~ pdat$Date),      # draw regression line of linear model (lm) 
  col=&quot;red&quot;                               # define line colour as red
  )                                       # end drawing line             
lines(                                    # add line (x,y)
  lowess(pdat$Prepositions ~ pdat$Date),  # draw smoothed lowess line (x,y) 
  col=&quot;blue&quot;                              # define line colour as blue
  )                                       # end drawing line</code></pre>
<p><img src="dviz_files/figure-html/scatter2-1.png" width="672" /></p>
<p>The only things that are different in the main call are the
<code>pch</code> argument with has changed the points into filled dots
(this is what the 20 stands for) and the <code>col</code> argument which
we have specified as <code>lightgrey</code>. The regression lines are
added using the <code>abline</code> and the <code>lines</code>
argument.</p>
<hr />
<div class="warning"
style="padding:0.1em; background-color:#51247a; color:#f2f2f2">
<span>
<p style="margin-top:1em; text-align:center">
<b>EXERCISE TIME!</b>
</p>
<p style="margin-left:1em;">
</p>
<p></span></p>
</div>
<div class="question">
<p>`</p>
<ol style="list-style-type: decimal">
<li>Load the data set called <em>data03</em> and create a simple
scatterplot showing the <code>Variable1</code> on the x-axis and
<code>Variable2</code> on the y-axis.<br>Tipp: Use the code below to
load the data.</li>
</ol>
<pre class="r"><code>data03  &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/d03.rda&quot;, &quot;rb&quot;))</code></pre>
<details>
<summary>
Answer
</summary>
<pre class="r"><code>  # load data03
  data03 &lt;- read.delim(&quot;https://slcladal.github.io/data/data03.txt&quot;, 
    sep = &quot;\t&quot;, header = T)
  # create simple scatter plot
  plot(Variable2 ~ Variable1, 
       type = &quot;p&quot;, 
       data = data03, 
       ylab = &quot;Variable1&quot;, 
       xlab = &quot;Variable2&quot;,       
       main = &quot;Scatterplot Exercise&quot;,   
       pch = 20,        
       col = &quot;darkgrey&quot; 
       )</code></pre>
<img src="dviz_files/figure-html/ex2_1-1.png" width="672" />
</details>
</div>
<p>`</p>
<hr />
</div>
<div id="scatter-plots-in-lattice" class="section level2 unnumbered">
<h2 class="unnumbered">Scatter Plots in lattice</h2>
<p>We now turn to data visualization in <code>lattice</code>. As the
<code>lattice</code> package is already loaded, we can create a first
simple scatter plot using the <code>xyplot</code> function form the
<code>lattice</code> package. The scatter plot shows the relative
frequency of prepositions by year of composition.</p>
<pre class="r"><code># create simple scatter plot
xyplot(Prepositions ~ Date,  
       # add y-axis label 
       ylab = &quot;Prepositions (Frequency)&quot;,   
       # add x-axis label
       xlab = &quot;Date (year of composition)&quot;, 
       data = pdat)                                    </code></pre>
<p><img src="dviz_files/figure-html/scatter6-1.png" width="672" /></p>
<p>Since the <code>lattice</code> package was created to plot multiple
relationships with a single call, we will now make use of that feature
and plot multiple relationships at once. In addition, we will add a grid
to the plot to improve comparability of data points within the graph.
Thus, the scatter plot shows the relative frequency of prepositions by
year of composition and genre.</p>
<pre class="r"><code># create scatter plots by species
xyplot(Prepositions ~ Date | Genre,     
       # add y-axis label
       ylab = &quot;Prepositions (Frequency)&quot;, 
       # add y-axis label
       xlab = &quot;Date (year of composition)&quot;, 
       # add grids to panels
       grid = TRUE,
       data = pdat
       )    </code></pre>
<p><img src="dviz_files/figure-html/scatter7-1.png" width="672" /></p>
<p>The only new code in the chunk above is the “| Genre” part. This part
means that the relationship between Prepositions and Date should be
displayed by Genre So, the |-symbol can be translated into “by”. The
splitting of the plot into different panels for Genre is then done
automatically.</p>
<p>Like in base, we can modify lattice-plots and specify, e.g. the
symbols that are plotted or their color.</p>
<pre class="r"><code># create scatter plots by species
xyplot(Prepositions ~ Date | Genre,
       ylab = &quot;Prepositions (Frequency)&quot;,  
       xlab = &quot;Date (year of composition)&quot;, 
       grid = TRUE,   
       # symbol type (20 = filled dots)
       pch = 20,            
       # color of symbols
       col = &quot;black&quot;,
       data = pdat
       ) </code></pre>
<p><img src="dviz_files/figure-html/scatter7b-1.png" width="672" /></p>
<p>Next, we will use the <code>ggplot2</code> package to create a
scatter plot.</p>
</div>
<div id="scatter-plots-in-ggplot2" class="section level2 unnumbered">
<h2 class="unnumbered">Scatter Plots in ggplot2</h2>
<p>We now turn to data visualization using <em>ggplot</em>. As the
<em>ggplot2</em> package is already loaded, we create a very basic
scatterplot in <em>ggplot2</em> using the <code>geom_point</code>
function to show the advantages of creating visualizations in this
environment.</p>
<pre class="r"><code># create simple scatter plot
# use data set &quot;pdat&quot;
ggplot(pdat,  
       # define axes
       aes(x= Date,        
           y= Prepositions)) + 
  # define plot type
  geom_point()                  </code></pre>
<p><img src="dviz_files/figure-html/scatter9-1.png" width="672" /></p>
<p>Let’s go over the code above. The function call for plotting in
“ggplot2” is simply “ggplot”. This function takes the data set as its
first argument and then requires aesthetics. The aesthetics are defined
within the “ggplot” function as the arguments of “aes”. The “aes”
function takes the axes as the arguments (in the current case). Then, we
need to define the type of plot that we want. As we want a scatter plot
with points, we add the “geom_point()” function without any arguments
(as we do not want to specify the size, colour, and shape of the points
just yet).</p>
<p>The advantage of “ggplot2” is that is really easy to modify the plot
by adding new layers and to change the basic outlook by modifying the
theme which is what we will do in the code below.</p>
<pre class="r"><code>ggplot(pdat,    
       # define axes
       aes(x=Date,             
           y= Prepositions, 
           # define to color by Species
           color = GenreRedux)) + 
  # define plot type
  geom_point() +   
  # define theme  as black and white (bw)
  theme_bw()                   </code></pre>
<p><img src="dviz_files/figure-html/scatter10-1.png" width="672" /></p>
<p>The white background is created by specifying the theme as a black
and white theme (<code>theme_bw()</code>) while the color of the dots is
changed by specifying that the color should be applied by Species
(<code>color = GenreRedux</code>). Then, the colors to be used are
defined in the function <code>scale_color_manual</code>.</p>
<p>We can now specify the symbols in the scatter plot.</p>
<pre class="r"><code># create scatter plot colored by genre
ggplot(pdat, aes(Date, Prepositions, color = GenreRedux, shape = GenreRedux)) +
  geom_point() +
  guides(shape=guide_legend(override.aes=list(fill=NA))) +
  scale_shape_manual(name = &quot;Genre&quot;, 
                     breaks = names(table(pdat$GenreRedux)), 
                     values = 1:5) +
  scale_color_manual(name = &quot;Genre&quot;, 
                     breaks = names(table(pdat$GenreRedux)), 
                     values = clrs5) +
  theme_bw() +
  theme(legend.position=&quot;top&quot;)</code></pre>
<p><img src="dviz_files/figure-html/scatter12-1.png" width="672" /></p>
</div>
<div id="extensions-of-dot-plots" class="section level2 unnumbered">
<h2 class="unnumbered">Extensions of dot plots</h2>
<p>In addition, we can add regression lines with error bars by Species
and, if we want to show separate windows for the plots, we can use the
“facet_grid” or “facet_wrap” function and define by which variable we
want to create different panels.</p>
<pre class="r"><code># create scatter plot colored by genre in different panels
ggplot(pdat, aes(Date, Prepositions,  color = Genre)) +
  facet_wrap(vars(Genre), ncol = 4) +
  geom_point() + 
  geom_smooth(method = &quot;lm&quot;, se = F) +
  theme_bw() +
  theme(legend.title = element_blank(), 
        axis.text.x = element_text(size=8, angle=90))</code></pre>
<p><img src="dviz_files/figure-html/scatter13-1.png" width="672" /></p>
<p>If we only want to show the lines, we simply drop the “geom_point”
function.</p>
<pre class="r"><code># create scatter plot colored by genre in different panels
ggplot(pdat, aes(x=Date, y= Prepositions,  color = Genre)) +
  facet_wrap(vars(Genre), ncol = 4) +
  geom_smooth(method = &quot;lm&quot;, se = F) +
  theme_bw() +
  theme(legend.title = element_blank(), 
        axis.text.x = element_text(size=8, angle=90))</code></pre>
<p><img src="dviz_files/figure-html/scatter14-1.png" width="672" /></p>
<p>Another option is to plot density layers instead of plotting the data
points.</p>
<pre class="r"><code># create scatter density plot
ggplot(pdat, aes(x=Date, y= Prepositions,  color = GenreRedux)) +
    facet_wrap(vars(GenreRedux), ncol = 5) +
  theme_bw() +                  
  geom_density_2d() +
  theme(legend.position = &quot;top&quot;,
        legend.title = element_blank(), 
        axis.text.x = element_text(size=8, angle=90))</code></pre>
<p><img src="dviz_files/figure-html/scatter15-1.png" width="672" /></p>
<p>Although these are not scatterplots, plots with dot-symbols are very
flexible and can be extended to show properties of the distribution of
values. One way to create such a plot is to plot means as dot-symbols
and add error bars to provide information about the underlying
distribution. The plot below illustrates such a plot and additionally
shows how plots can be further customized.</p>
<pre class="r"><code># scatter plot with error bars
ggplot(pdat, aes(x=reorder(Genre, Prepositions, mean), y= Prepositions,  group = Genre)) +                 
  stat_summary(fun = mean, geom = &quot;point&quot;, aes(group= Genre)) +          
  stat_summary(fun.data = mean_cl_boot,       
               # add error bars
               geom = &quot;errorbar&quot;, width = 0.2) + 
  # def. y-axis range
  coord_cartesian(ylim = c(100, 200)) +              
  # def. font size
  theme_bw(base_size = 15) +         
  # def. x- and y-axis
  theme(axis.text.x = element_text(size=10, angle = 90),  
        axis.text.y = element_text(size=10, face=&quot;plain&quot;)) + 
  # def. axes labels
  labs(x = &quot;Genre&quot;, y = &quot;Prepositions (Frequency)&quot;) +     
  # def. to col.
  scale_color_manual(guide = FALSE)          </code></pre>
<p><img src="dviz_files/figure-html/scatter16-1.png" width="672" /></p>
<p>Balloon plots are an extension of scatter plots that are typically
used to display data that represents * two categorical variables * one
numeric variable.</p>
<pre class="r"><code># ballon plot
pdat %&gt;%
  dplyr::mutate(DateRedux = factor(DateRedux)) %&gt;%
  dplyr::group_by(DateRedux, GenreRedux) %&gt;%
  dplyr::summarise(Prepositions = mean(Prepositions)) %&gt;%
  ggplot(aes(DateRedux, 100, 
             size = Prepositions,
             fill = GenreRedux)) +
  facet_grid(vars(GenreRedux)) +
  geom_point(shape = 21) +
  scale_size_area(max_size = 15) +
  coord_cartesian(ylim = c(50, 150)) +
  theme_bw() +
  theme(axis.title.y=element_blank(),
        axis.text.y=element_blank(),
        axis.ticks.y=element_blank()) +
  scale_fill_discrete(guide = &quot;none&quot;)</code></pre>
<p><img src="dviz_files/figure-html/bal1-1.png" width="672" /></p>
</div>
</div>
<div id="density-plots" class="section level1 unnumbered">
<h1 class="unnumbered">Density Plots</h1>
<p>Another way to visualize the distribution of the data with respect to
numeric variables are density plots or Kernel Density Plots. Density
plots smooth the data using so-called kernel smoothing to even out the
distribution of frequencies along the lines of a numeric or interval
variable. The peaks of density plots help display where values are
concentrated over the interval. To show the relationship between the
variable and the density plot, we will first create a scatter plot and
then create a density plot of the variable displayed on the x-axis of
the scatter plot.</p>
<pre class="r"><code># create dot plot
ggplot(pdat, aes(x = Date, y = Prepositions, color=Region)) +  
  geom_point() +  
  scale_color_manual(values = clrs2) + 
  theme(legend.position=c(0,1), legend.justification=c(0,1)) </code></pre>
<p><img src="dviz_files/figure-html/dens1-1.png" width="672" /></p>
<p>We will now create a marginal density plot of Date (x-axis) to show
when texts from the north and south were particularly common.</p>
<pre class="r"><code># create dot plot
ggplot(pdat, aes(Date, fill=Region)) +  
  geom_density(alpha=.5) +  
  scale_fill_manual(values = clrs2) + 
  theme(legend.position=c(0,1), legend.justification=c(0,1)) </code></pre>
<p><img src="dviz_files/figure-html/dens2-1.png" width="672" /></p>
<p>The density plot shows that the texts differ substantially with
respect to where they were written as the distribution of texts written
in southern Britain continues way into the 19<sup>th</sup> century while
we only have texts written in north until about 1800.</p>
<pre class="r"><code># create dot plot
ggplot(pdat, aes(Date, Prepositions)) +  
  geom_density2d_filled()</code></pre>
<p><img src="dviz_files/figure-html/dens3-1.png" width="672" /></p>
<p>An alternative method for displaying densities is by using a hex plot
as shown below. Hex plots divide the plotting area into hexagons and
display density as hue of the hexagons.</p>
<pre class="r"><code># create dot plot
pdat %&gt;%
  ggplot(aes(x = Date, y = Prepositions)) +  
  geom_hex()</code></pre>
<p><img src="dviz_files/figure-html/hex_01-1.png" width="672" /></p>
<p>We are now in a position to start creating line graphs with
<em>ggplot</em>.</p>
</div>
<div id="line-graphs" class="section level1 unnumbered">
<h1 class="unnumbered">Line Graphs</h1>
<p>Line graphs are used when we have numeric values that are linked (in
one way or another) because they come from the same speaker or genre as
in our case).</p>
<pre class="r"><code>pdat %&gt;%
  dplyr::group_by(DateRedux, GenreRedux) %&gt;%
  dplyr::summarise(Frequency = mean(Prepositions)) %&gt;%
  ggplot(aes(x=DateRedux, y= Frequency, group= GenreRedux, color = GenreRedux)) +
  # add geom layer with lines
  geom_line()</code></pre>
<p><img src="dviz_files/figure-html/line1-1.png" width="672" /></p>
<div id="smoothed-line-graphs" class="section level2 unnumbered">
<h2 class="unnumbered">Smoothed line graphs</h2>
<p>Another very useful function when creating line graphs with “ggplot”
is “geom_smooth” which <em>smoothes</em> the lines to be drawn.</p>
<pre class="r"><code>ggplot(pdat, aes(x=DateRedux, y= Prepositions, group= GenreRedux, color = GenreRedux)) +
  # add geom layer with lines
  geom_smooth()</code></pre>
<p><img src="dviz_files/figure-html/line2-1.png" width="672" /></p>
<p>As this smoothed line graph is extremely useful, we will customize it
to show how to modify your graph.</p>
<pre class="r"><code># define aesthetics
ggplot(pdat, aes(x=Date, y= Prepositions,  color = GenreRedux, linetype = GenreRedux)) +
  # add geom layer with lines
  geom_smooth(se = F) +  
  # legend without background color
  guides(color=guide_legend(override.aes=list(fill=NA))) +  
  # def. legend position
  theme(legend.position=&quot;top&quot;) +  
  # def. linetype
  scale_linetype_manual(values=c(&quot;twodash&quot;, &quot;dashed&quot;, &quot;dotdash&quot;, &quot;dotted&quot;, &quot;solid&quot;), 
                        # def. legend header
                        name=c(&quot;Genre&quot;),
                        # def. linetypes
                        breaks = names(table(pdat$GenreRedux)),
                        # def. labels
                        labels = names(table(pdat$GenreRedux))) + 
  # def. col.
  scale_colour_manual(values=clrs5,
                      # define legend header
                      name=c(&quot;Genre&quot;),
                      # define elements
                      breaks=names(table(pdat$GenreRedux)),  
                      # define labels
                      labels = names(table(pdat$GenreRedux))) +
  # add x-axis label
  labs(x = &quot;Year&quot;) +      
  # customize x-axis tick positions
  scale_x_continuous(breaks=seq(1100, 1900, 100), 
                     # add labels to x-axis tick pos.
                     labels=seq(1100, 1900, 100)) +
  # add y-axis label
  scale_y_continuous(name=&quot;Relative frequency \n(per 1,000 words)&quot;,  
                     # customize tick y-axis
                     limits=c(100, 200)) + 
  # define theme  as black and white
  theme_bw(base_size = 10)  </code></pre>
<p><img src="dviz_files/figure-html/line3-1.png" width="672" /></p>
<p>Although the code for the customized smoothed line graph is much
longer and requires addition specifications, it is a very nice way to
portrait the development over time.</p>
</div>
<div id="ribbon-plots" class="section level2 unnumbered">
<h2 class="unnumbered">Ribbon plots</h2>
<p>Ribbon plots show an area, typically between minimum and maximum
values. In addition, ribbon plots commonly also show the mean as
depicted below.</p>
<pre class="r"><code># create dot plot
pdat %&gt;%
  dplyr::mutate(DateRedux = as.numeric(DateRedux)) %&gt;%
  dplyr::group_by(DateRedux) %&gt;%
  dplyr::summarise(Mean = mean(Prepositions),
                   Min = min(Prepositions),
                   Max = max(Prepositions)) %&gt;%
  ggplot(aes(x = DateRedux, y = Mean)) +  
  geom_ribbon(aes(ymin = Min, ymax = Max), fill = &quot;gray80&quot;) +
  geom_line() +
  scale_x_continuous(labels = names(table(pdat$DateRedux)))</code></pre>
<p><img src="dviz_files/figure-html/rib_01-1.png" width="672" /></p>
</div>
<div id="line-graphs-for-likert-data" class="section level2 unnumbered">
<h2 class="unnumbered">Line graphs for Likert data</h2>
<p>A special case of line graphs is used when dealing with Likert-scaled
variables. In such cases, the line graph displays the density of
cumulative frequencies of responses. The difference between the
cumulative frequencies of responses displays differences in preferences.
We will only focus on how to create such graphs using the “ggplot”
environment here as it has an inbuilt function (“ecdf”) which is
designed to handle such data.</p>
<p>In a first step, we create a data set which consists of a
Likert-scaled variable. The fictitious data created here consists of
rating of students from three courses about how satisfied they were with
their language-learning course. The response to the Likert item is
numeric so that “strongly disagree/very dissatisfied” would get the
lowest and “strongly agree/very satisfied” the highest numeric
value.</p>
<pre class="r"><code>ldat &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/lid.rda&quot;, &quot;rb&quot;))</code></pre>
<p>Let’s briefly inspect the data.</p>
<template id="862e6975-3a52-4af3-94da-e3938eb87f3d"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-f240fda6{table-layout:auto;width:95%;}.cl-f233f458{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f233f46c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f2340b96{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f2340ba0{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f2344610{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2344611{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f234461a{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f234461b{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f234461c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2344624{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2344625{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2344626{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-f240fda6'>
<caption class="Table Caption">
<p>First 15 rows of the ldat data.</p>
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-f2344625"><p class="cl-f2340b96"><span class="cl-f233f458">Course</span></p></td><td class="cl-f2344626"><p class="cl-f2340ba0"><span class="cl-f233f458">Satisfaction</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f2344610"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f2344611"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f234461a"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f234461b"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2344610"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f2344611"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f234461a"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f234461b"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2344610"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f2344611"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f234461a"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f234461b"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2344610"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f2344611"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f234461a"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f234461b"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2344610"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f2344611"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f234461a"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f234461b"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2344610"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f2344611"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f234461a"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f234461b"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2344610"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f2344611"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f234461a"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f234461b"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f234461c"><p class="cl-f2340b96"><span class="cl-f233f46c">Chinese</span></p></td><td class="cl-f2344624"><p class="cl-f2340ba0"><span class="cl-f233f46c">1</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="a93639e3-371c-48c1-905b-5bdb2cca8612"></div>
<script>
var dest = document.getElementById("a93639e3-371c-48c1-905b-5bdb2cca8612");
var template = document.getElementById("862e6975-3a52-4af3-94da-e3938eb87f3d");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Now that we have data resembling a Likert-scaled item from a
questionnaire, we will display the data in a cumulative line graph.</p>
<pre class="r"><code># create cumulative density plot
ggplot(ldat,aes(x = Satisfaction, color = Course)) + 
  geom_step(aes(y = ..y..), stat = &quot;ecdf&quot;) +
  labs(y = &quot;Cumulative Density&quot;) + 
  scale_x_discrete(limits = 1:5, breaks = 1:5,
        labels=c(&quot;very dissatisfied&quot;, &quot;dissatisfied&quot;, &quot;neutral&quot;, &quot;satisfied&quot;, &quot;very satisfied&quot;)) + 
  scale_colour_manual(values = clrs3)  </code></pre>
<p><img src="dviz_files/figure-html/llik_05-1.png" width="672" /></p>
<p>The satisfaction of the German course was the lowest as the red line
shows the highest density (frequency of responses) of “very
dissatisfied” and “dissatisfied” ratings. The students in our fictitious
data set were most satisfied with the Chinese course as the blue line is
the lowest for “very dissatisfied” and “dissatisfied” ratings while the
difference between the courses shrinks for “satisfied” and “very
satisfied”. The Japanese language course is in-between the German and
the Chinese course.</p>
</div>
</div>
<div id="pie-charts" class="section level1 unnumbered">
<h1 class="unnumbered">Pie charts</h1>
<p>Most commonly, the data for visualization comes from tables of
absolute frequencies associated with a categorical or nominal variable.
The default way to visualize such frequency tables are pie charts and
bar plots.</p>
<p>In a first step, we modify the original data to get counts and
percentages. The data represents the number of documents per time period
and the percentage of those documents across all time periods.</p>
<pre class="r"><code># create bar plot data
bdat &lt;- pdat %&gt;%
  dplyr::mutate(DateRedux = factor(DateRedux)) %&gt;%
  group_by(DateRedux) %&gt;%
  dplyr::summarise(Frequency = n()) %&gt;%
  dplyr::mutate(Percent = round(Frequency/sum(Frequency)*100, 1))</code></pre>
<p>Let’s briefly inspect the data.</p>
<template id="2ca505aa-11a5-48b9-a215-c656918a1b61"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-f2afa99a{table-layout:auto;width:95%;}.cl-f2a16240{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f2a16254{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f2a195b2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f2a195bc{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f2a1e9f4{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1e9fe{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea08{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea12{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea1c{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea26{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea27{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea30{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea3a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea3b{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea44{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f2a1ea45{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-f2afa99a'>
<caption class="Table Caption">
<p>First 15 rows of the bdat data.</p>
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-f2a1ea3b"><p class="cl-f2a195b2"><span class="cl-f2a16240">DateRedux</span></p></td><td class="cl-f2a1ea44"><p class="cl-f2a195bc"><span class="cl-f2a16240">Frequency</span></p></td><td class="cl-f2a1ea45"><p class="cl-f2a195bc"><span class="cl-f2a16240">Percent</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f2a1e9fe"><p class="cl-f2a195b2"><span class="cl-f2a16254">1150-1499</span></p></td><td class="cl-f2a1ea08"><p class="cl-f2a195bc"><span class="cl-f2a16254">34</span></p></td><td class="cl-f2a1e9f4"><p class="cl-f2a195bc"><span class="cl-f2a16254">6.3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2a1ea12"><p class="cl-f2a195b2"><span class="cl-f2a16254">1500-1599</span></p></td><td class="cl-f2a1ea26"><p class="cl-f2a195bc"><span class="cl-f2a16254">180</span></p></td><td class="cl-f2a1ea1c"><p class="cl-f2a195bc"><span class="cl-f2a16254">33.5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2a1e9fe"><p class="cl-f2a195b2"><span class="cl-f2a16254">1600-1699</span></p></td><td class="cl-f2a1ea08"><p class="cl-f2a195bc"><span class="cl-f2a16254">225</span></p></td><td class="cl-f2a1e9f4"><p class="cl-f2a195bc"><span class="cl-f2a16254">41.9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2a1ea12"><p class="cl-f2a195b2"><span class="cl-f2a16254">1700-1799</span></p></td><td class="cl-f2a1ea26"><p class="cl-f2a195bc"><span class="cl-f2a16254">53</span></p></td><td class="cl-f2a1ea1c"><p class="cl-f2a195bc"><span class="cl-f2a16254">9.9</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f2a1ea27"><p class="cl-f2a195b2"><span class="cl-f2a16254">1800-1913</span></p></td><td class="cl-f2a1ea30"><p class="cl-f2a195bc"><span class="cl-f2a16254">45</span></p></td><td class="cl-f2a1ea3a"><p class="cl-f2a195bc"><span class="cl-f2a16254">8.4</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="89edb8de-555c-4b89-be36-1eb1c2ef1771"></div>
<script>
var dest = document.getElementById("89edb8de-555c-4b89-be36-1eb1c2ef1771");
var template = document.getElementById("2ca505aa-11a5-48b9-a215-c656918a1b61");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Before creating bar plots, we will briefly turn to pie charts because
pie charts are very common despite suffering from certain shortcomings.
Consider the following example which highlights some of the issues that
arise when using pie charts. In base R, we create pie charts using the
<code>pie</code> function as shown below.</p>
<pre class="r"><code>pie(bdat$Percent,
    col = clrs5,
    labels = bdat$Percent)
legend(&quot;topright&quot;, names(table(bdat$DateRedux)), 
       fill = clrs5)</code></pre>
<p><img src="dviz_files/figure-html/pie_03-1.png" width="672" /></p>
<p>In ggplot, we create pie charts by using the <code>geom_bar</code>
and then define `coord_polar(“y”, start=0). In contrast to base R, the
labeling is not as easy as in base R. We will thus start with a pie
chart without labels and then add the labels in a next step.</p>
<pre class="r"><code>ggplot(bdat,  aes(&quot;&quot;, Percent, fill = DateRedux)) + 
  geom_bar(stat=&quot;identity&quot;, width=1, color = &quot;white&quot;) +
  coord_polar(&quot;y&quot;, start=0) +
  scale_fill_manual(values = clrs5) +
  theme_void()</code></pre>
<p><img src="dviz_files/figure-html/pie_05-1.png" width="672" /></p>
<p>If the slices of the pie chart are not labelled, it is difficult to
see which slices are smaller or bigger compared to other slices. This
problem can easily be avoided when using a bar plot instead.</p>
<p>The labelling of pie charts is, however, somewhat tedious as the
positioning is tricky. Below is an example for adding labels without
specification.</p>
<pre class="r"><code># create pie chart
ggplot(bdat,  aes(&quot;&quot;, Percent, fill = DateRedux)) + 
  geom_bar(stat=&quot;identity&quot;, width=1, color = &quot;white&quot;) +
  coord_polar(&quot;y&quot;, start=0) +
  scale_fill_manual(values = clrs5) +
  theme_void() +
  geom_text(aes(y = Percent, label = Percent), color = &quot;white&quot;, size=6)</code></pre>
<p><img src="dviz_files/figure-html/pie_07-1.png" width="672" /></p>
<p>To place the labels where they make sense, we will add another
variable to the data called “Position”.</p>
<pre class="r"><code>piedata &lt;- bdat %&gt;%
  dplyr::arrange(desc(DateRedux)) %&gt;%
  dplyr::mutate(Position = cumsum(Percent)- 0.5*Percent)</code></pre>
<p>Let’s briefly inspect the data.</p>
<template id="7a526044-6a49-4412-a101-1a9dd2bd7d3c"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-f376c0de{table-layout:auto;width:95%;}.cl-f36a30f8{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f36a3102{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f36a47aa{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f36a47b4{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f36a7f68{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f7c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f7d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f7e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f86{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f90{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f91{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f92{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f9a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7f9b{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7fa4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f36a7fa5{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-f376c0de'>
<caption class="Table Caption">
<p>First 15 rows of the edited and re-arranged piedata data.</p>
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-f36a7f9b"><p class="cl-f36a47aa"><span class="cl-f36a30f8">DateRedux</span></p></td><td class="cl-f36a7fa4"><p class="cl-f36a47b4"><span class="cl-f36a30f8">Frequency</span></p></td><td class="cl-f36a7fa4"><p class="cl-f36a47b4"><span class="cl-f36a30f8">Percent</span></p></td><td class="cl-f36a7fa5"><p class="cl-f36a47b4"><span class="cl-f36a30f8">Position</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f36a7f68"><p class="cl-f36a47aa"><span class="cl-f36a3102">1800-1913</span></p></td><td class="cl-f36a7f7c"><p class="cl-f36a47b4"><span class="cl-f36a3102">45</span></p></td><td class="cl-f36a7f7c"><p class="cl-f36a47b4"><span class="cl-f36a3102">8.4</span></p></td><td class="cl-f36a7f7d"><p class="cl-f36a47b4"><span class="cl-f36a3102">4.20</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f36a7f86"><p class="cl-f36a47aa"><span class="cl-f36a3102">1700-1799</span></p></td><td class="cl-f36a7f7e"><p class="cl-f36a47b4"><span class="cl-f36a3102">53</span></p></td><td class="cl-f36a7f7e"><p class="cl-f36a47b4"><span class="cl-f36a3102">9.9</span></p></td><td class="cl-f36a7f90"><p class="cl-f36a47b4"><span class="cl-f36a3102">13.35</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f36a7f68"><p class="cl-f36a47aa"><span class="cl-f36a3102">1600-1699</span></p></td><td class="cl-f36a7f7c"><p class="cl-f36a47b4"><span class="cl-f36a3102">225</span></p></td><td class="cl-f36a7f7c"><p class="cl-f36a47b4"><span class="cl-f36a3102">41.9</span></p></td><td class="cl-f36a7f7d"><p class="cl-f36a47b4"><span class="cl-f36a3102">39.25</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f36a7f86"><p class="cl-f36a47aa"><span class="cl-f36a3102">1500-1599</span></p></td><td class="cl-f36a7f7e"><p class="cl-f36a47b4"><span class="cl-f36a3102">180</span></p></td><td class="cl-f36a7f7e"><p class="cl-f36a47b4"><span class="cl-f36a3102">33.5</span></p></td><td class="cl-f36a7f90"><p class="cl-f36a47b4"><span class="cl-f36a3102">76.95</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f36a7f91"><p class="cl-f36a47aa"><span class="cl-f36a3102">1150-1499</span></p></td><td class="cl-f36a7f92"><p class="cl-f36a47b4"><span class="cl-f36a3102">34</span></p></td><td class="cl-f36a7f92"><p class="cl-f36a47b4"><span class="cl-f36a3102">6.3</span></p></td><td class="cl-f36a7f9a"><p class="cl-f36a47b4"><span class="cl-f36a3102">96.85</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="bd8a687f-da7f-4608-bf41-5d877d895549"></div>
<script>
var dest = document.getElementById("bd8a687f-da7f-4608-bf41-5d877d895549");
var template = document.getElementById("7a526044-6a49-4412-a101-1a9dd2bd7d3c");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Now that we have specified the position, we can include it into the
pie chart.</p>
<pre class="r"><code># create pie chart
ggplot(piedata,  aes(&quot;&quot;, Percent, fill = DateRedux)) + 
  geom_bar(stat=&quot;identity&quot;, width=1, color = &quot;white&quot;) +
  coord_polar(&quot;y&quot;, start=0) +
  scale_fill_manual(values = clrs5) +
  theme_void() +
  geom_text(aes(y = Position, label = Percent), color = &quot;white&quot;, size=6)</code></pre>
<p><img src="dviz_files/figure-html/pie_11-1.png" width="672" /></p>
</div>
<div id="histograms" class="section level1 unnumbered">
<h1 class="unnumbered">Histograms</h1>
<p>Histograms summarize numeric variables by showing their distribution
across bins.</p>
<div id="histograms-in-base-r" class="section level2 unnumbered">
<h2 class="unnumbered">Histograms in base R</h2>
<p>To create histograms in base R, we simply use the <code>hist</code>
function and add the variable that we want to summarize as its
argument.</p>
<pre class="r"><code>hist(pdat$Prepositions,
     xlab = &quot;Prepositions (per 1,000 words)&quot;,
     main = &quot;&quot;)</code></pre>
<p><img src="dviz_files/figure-html/hist_01-1.png" width="672" /></p>
</div>
<div id="histograms-in-ggplot" class="section level2 unnumbered">
<h2 class="unnumbered">Histograms in ggplot</h2>
<p>Using <code>ggplot</code>, we specify the variable we want to
summarize in the aesthetics and use the <code>geom_histogram</code>
function to generate a histogram.</p>
<pre class="r"><code>ggplot(pdat, aes(Prepositions)) +
  geom_histogram()</code></pre>
<p><img src="dviz_files/figure-html/hist_02-1.png" width="672" /></p>
<p>We can simply add information about a second variable by specifying
this variable as the basis for the coloring of the bars (which we do by
specify the <code>fill</code> argument).</p>
<pre class="r"><code>ggplot(pdat, aes(Prepositions, fill = Region)) +
  geom_histogram()</code></pre>
<p><img src="dviz_files/figure-html/hist_03-1.png" width="672" /></p>
</div>
</div>
<div id="bar-plots" class="section level1 unnumbered">
<h1 class="unnumbered">Bar plots</h1>
<p>Like pie charts, bar plot display frequency information across
categorical variable levels.</p>
<div id="bar-plots-in-base-r" class="section level2 unnumbered">
<h2 class="unnumbered">Bar plots in base R</h2>
<p>In base R, we use the <code>barplot</code> function to create
barplots. The <code>barplot</code> function is very flexible but takes a
table with frequency counts as its main argument. We can also specify
axes labels, a title, the color of the bras, and the axes limits. We
specify text, grids, and boxes separately after the <code>barplot</code>
function call.</p>
<pre class="r"><code># create simple scatter plot
barplot(table(pdat$DateRedux),        # plot Texts by DateRedux
     ylab = &quot;Texts (Frequency)&quot;,          # add y-axis label 
     xlab = &quot;Period of composition&quot;,      # add x-axis label 
     main = &quot;bar plot in base R&quot;,         # add title
     col = clrs5,                         # add colors
     ylim = c(0, 250)                     # define y-axis limits
     )                                    # end drawing plot
grid()                                    # add grid
text(seq(0.7, 5.5, 1.2),                  # add label positions (x-axis)
     table(pdat$DateRedux)+10,        # add label positions (y-axis)
     table(pdat$DateRedux))           # add labels
box()                                     # add box</code></pre>
<p><img src="dviz_files/figure-html/bar1-1.png" width="672" /></p>
<p>To create grouped bar plots, we tabulate the variables that we are
interested in. In the this example, we group by Region as shown
below.</p>
<pre class="r"><code># create simple scatter plot
barplot(table(pdat$DateRedux, pdat$Region), # plot Texts by DateRedux
        beside = T,                          # bars beside each other
        ylab = &quot;Texts (Frequency)&quot;,          # add y-axis label 
        xlab = &quot;Period of composition&quot;,      # add x-axis label
        main = &quot;grouped bar plot in base R&quot;, # add title
        col = clrs5,                         # add colors
        ylim = c(0, 250)                     # define y-axis limits
        )                                    # end drawing plot
grid()                                       # add grid
text(c(seq(1.5, 5.5, 1.0), seq(7.5, 11.5, 1.0)),    # add label positions (x-axis)
     table(pdat$DateRedux, pdat$Region)+10, # add label positions (y-axis)
     table(pdat$DateRedux, pdat$Region))    # add labels
legend(&quot;topleft&quot;, names(table(pdat$DateRedux)), # add legend
       fill = clrs5)                        # add colors
box()                                       # add box</code></pre>
<p><img src="dviz_files/figure-html/bar2-1.png" width="672" /></p>
<p>To transpose the plot, i.e. showing the Frequencies on the x- rather
than the y-axis, we set the argument <code>horiz</code> to
<code>TRUE</code>.</p>
<pre class="r"><code># create simple scatter plot
barplot(table(pdat$DateRedux),        # plot Texts by DateRedux
     ylab = &quot;Texts (Frequency)&quot;,          # add y-axis label 
     xlab = &quot;Period of composition&quot;,      # add x-axis label
     col = clrs5,                         # add colors
     horiz = T,                           # horizontal bars
     xlim = c(0, 250),                    # define x-axis limits
     las = 2,                             # change direction of axis labels
     cex.names = .5)                      # reduce font of axis labels
box()                                     # add box</code></pre>
<p><img src="dviz_files/figure-html/bar3-1.png" width="672" /></p>
</div>
<div id="bar-plots-in-ggplot" class="section level2 unnumbered">
<h2 class="unnumbered">Bar plots in ggplot</h2>
<p>The creation of barplots in ggplot works just like other types of
visualizations in this framework. We first define the data and the
aesthetics and then use the <code>geom_bar</code> to create a
barplot.</p>
<pre class="r"><code># bar plot
ggplot(bdat, aes(DateRedux, Percent, fill = DateRedux)) +
  geom_bar(stat=&quot;identity&quot;) +          # determine type of plot
  theme_bw() +                         # use black &amp; white theme
  # add and define text
  geom_text(aes(y = Percent-5, label = Percent), color = &quot;white&quot;, size=3) + 
  # add colors
  scale_fill_manual(values = clrs5) +
  # suppress legend
  theme(legend.position=&quot;none&quot;)</code></pre>
<p><img src="dviz_files/figure-html/bar4-1.png" width="672" /></p>
<p>Compared with the pie chart, it is much easier to grasp the relative
size and order of the percentage values which shows that pie charts are
unfit to show relationships between elements in a graph and, as a
general rule of thumb, should be avoided.</p>
<p>Bar plot can be grouped to add another layer of information which is
particularly useful when dealing with frequency counts across multiple
categorical variables. To create grouped bar plots, we plot
<code>Region</code> while including <code>DateRedux</code> as the
<code>fill</code> argument. Also, we use the command
<code>position=position_dodge()</code>.</p>
<pre class="r"><code># bar plot
ggplot(pdat, aes(Region, fill = DateRedux)) + 
  geom_bar(position = position_dodge(), stat = &quot;count&quot;) +  
  theme_bw() +
  scale_fill_manual(values = clrs5)</code></pre>
<p><img src="dviz_files/figure-html/bar5-1.png" width="672" /> If we
leave out the <code>position=position_dodge()</code> argument, we get a
stacked bar plot as shown below.</p>
<pre class="r"><code># bar plot
ggplot(pdat, aes(DateRedux, fill = GenreRedux)) + 
  geom_bar(stat=&quot;count&quot;) +  
  theme_bw() +
  scale_fill_manual(values = clrs5)    </code></pre>
<p><img src="dviz_files/figure-html/bar6-1.png" width="672" /></p>
<p>One issue to consider when using stacked bar plots is the number of
variable levels: when dealing with many variable levels, stacked bar
plots tend to become rather confusing. This can be solved by either
collapsing infrequent variable levels or choose a colour palette that
reflects some other inherent piece of information such as
<em>formality</em> (e.g. blue) versus <em>informality</em>
(e.g. red).</p>
<p>Stacked bar plots can also be normalized so that changes in
percentages become visible. This is done by exchanging
<code>position=position_dodge()</code> with
<code>position="fill"</code>.</p>
<pre class="r"><code># bar plot
ggplot(pdat, aes(DateRedux, fill = GenreRedux)) + 
  geom_bar(stat=&quot;count&quot;, position=&quot;fill&quot;) +  
  theme_bw() +
  scale_fill_manual(values = clrs5) +
  labs(y = &quot;Probability&quot;)</code></pre>
<p><img src="dviz_files/figure-html/bar7-1.png" width="672" /></p>
</div>
<div id="bar-plots-for-likert-data" class="section level2 unnumbered">
<h2 class="unnumbered">Bar plots for Likert data</h2>
<p>Bar plots are particularly useful when visualizing data obtained
through Likert items. As this is a very common issue that empirical
researchers face. There are two basic ways to display Likert items using
bar plots: grouped bar plots and more elaborate scaled bar plots.</p>
<p>Although we have seen above how to create grouped bar plots, we will
repeat it here with the language course example used above when we used
cumulative density line graphs to visualise how to display Likert
data.</p>
<p>In a first step, we recreate the data set which we have used above.
The data set consists of a Likert-scaled variable (Satisfaction) which
represents rating of students from three courses about how satisfied
they were with their language-learning course. The response to the
Likert item is numeric so that “strongly disagree/very dissatisfied”
would get the lowest and “strongly agree/very satisfied” the highest
numeric value.</p>
<pre class="r"><code># create likert data
nlik &lt;- ldat %&gt;%
  dplyr::group_by(Course, Satisfaction) %&gt;%
  dplyr::summarize(Frequency = n())
# inspect data
head(nlik)</code></pre>
<pre><code>## # A tibble: 6 × 3
## # Groups:   Course [2]
##   Course  Satisfaction Frequency
##   &lt;chr&gt;          &lt;int&gt;     &lt;int&gt;
## 1 Chinese            1        20
## 2 Chinese            2        30
## 3 Chinese            3        25
## 4 Chinese            4        10
## 5 Chinese            5        15
## 6 German             1        40</code></pre>
<p>Now that we have data resembling a Likert-scaled item from a
questionnaire, we will display the data in a cumulative line graph.</p>
<pre class="r"><code># create grouped bar plot
ggplot(nlik, aes(Satisfaction, Frequency,  fill = Course)) +
  geom_bar(stat=&quot;identity&quot;, position=position_dodge()) +
  # define colors
  scale_fill_manual(values=clrs5) + 
  # add text and define colour
  geom_text(aes(label=Frequency), vjust=1.6, color=&quot;white&quot;, 
            # define text position and size
            position = position_dodge(0.9),  size=3.5) +     
    scale_x_discrete(limits=c(&quot;1&quot;,&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,&quot;5&quot;), breaks=c(1,2,3,4,5),
        labels=c(&quot;very dissatisfied&quot;, &quot;dissatisfied&quot;,  &quot;neutral&quot;, &quot;satisfied&quot;, 
                 &quot;very satisfied&quot;)) + 
  theme_bw()</code></pre>
<p><img src="dviz_files/figure-html/bar9-1.png" width="672" /></p>
<p>Another and very interesting way to display such data is by using the
Likert package. In a first step, we need to activate the package, clean
the data, and extract a subset for the data visualization example.</p>
<pre class="r"><code>sdat &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/sdd.rda&quot;, &quot;rb&quot;))</code></pre>
<template id="27c5d261-450e-4473-a641-8b268361a696"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-f7c26864{table-layout:auto;width:95%;}.cl-f7b49932{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f7b4993c{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f7b4b0c0{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f7b4b0ca{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f7b553ae{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553c2{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553cc{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553cd{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553d6{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553d7{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553ea{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553f4{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553f5{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b553fe{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b55408{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b55409{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b5540a{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b55412{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b5541c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7b5541d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-f7c26864'>
<caption class="Table Caption">
<p>First 15 rows of the sdat data.</p>
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-f7b5540a"><p class="cl-f7b4b0c0"><span class="cl-f7b49932">Group</span></p></td><td class="cl-f7b5541d"><p class="cl-f7b4b0c0"><span class="cl-f7b49932">Respondent</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">How.did.you.like.the.course.</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">How.did.you.like.the.teacher.</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">Was.the.content.intersting.</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">Was.the.content.adequate.for.the.course.</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">Were.there.enough.discussions.</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">Was.the.use.of.online.materials.appropriate.</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">Was.the.teacher.appropriately.prepared.</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">Was.the.workload.of.the.course.appropriate.</span></p></td><td class="cl-f7b55412"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">Was.the.course.content.enganging.</span></p></td><td class="cl-f7b5541c"><p class="cl-f7b4b0ca"><span class="cl-f7b49932">Were.there.enough.interactive.exerceises.included.in.the.sessions.</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f7b553cc"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553c2"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553cd"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553d6"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553ea"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G2</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553f4"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553cc"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553c2"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G3</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">2</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553cd"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553d6"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553ea"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G4</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553f4"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553cc"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553c2"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553cd"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553d6"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553ea"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G6</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">2</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553f4"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553cc"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553c2"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G7</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">2</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553cd"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553d6"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553ea"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G8</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553f4"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553cc"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553c2"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G9</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553cd"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553d6"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553ea"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G10</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553f4"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553cc"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553c2"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G11</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">2</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553cd"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553d6"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553ea"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G12</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553f4"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553cc"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553c2"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G13</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553ae"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553cd"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553d6"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b553ea"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G14</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">5</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553d7"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">2</span></p></td><td class="cl-f7b553f4"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7b553fe"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">German</span></p></td><td class="cl-f7b55408"><p class="cl-f7b4b0c0"><span class="cl-f7b4993c">G15</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">2</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">1</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">4</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">3</span></p></td><td class="cl-f7b553f5"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">2</span></p></td><td class="cl-f7b55409"><p class="cl-f7b4b0ca"><span class="cl-f7b4993c">2</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="e316de71-36df-4838-bea0-ee7d021f12fd"></div>
<script>
var dest = document.getElementById("e316de71-36df-4838-bea0-ee7d021f12fd");
var template = document.getElementById("27c5d261-450e-4473-a641-8b268361a696");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>As you can see, we need to clean and adapt the column names. To do
this, we will</p>
<ul>
<li>add an identifier which shows which question we are dealing with
(e.g. Q 1: question text)</li>
<li>remove the dots between words with spaces</li>
<li>add a question mark at the end of questions</li>
<li>remove superfluous white spaces</li>
</ul>
<pre class="r"><code># clean column names
colnames(sdat)[3:ncol(sdat)] &lt;- paste0(&quot;Q &quot;, str_pad(1:10, 2, &quot;left&quot;, &quot;0&quot;), &quot;: &quot;, colnames(sdat)[3:ncol(sdat)]) %&gt;%
  stringr::str_replace_all(&quot;\\.&quot;, &quot; &quot;) %&gt;%
  stringr::str_squish() %&gt;%
  stringr::str_replace_all(&quot;$&quot;, &quot;?&quot;)
# inspect column names
colnames(sdat)</code></pre>
<pre><code>##  [1] &quot;Group&quot;                                                                   
##  [2] &quot;Respondent&quot;                                                              
##  [3] &quot;Q 01: How did you like the course?&quot;                                      
##  [4] &quot;Q 02: How did you like the teacher?&quot;                                     
##  [5] &quot;Q 03: Was the content intersting?&quot;                                       
##  [6] &quot;Q 04: Was the content adequate for the course?&quot;                          
##  [7] &quot;Q 05: Were there enough discussions?&quot;                                    
##  [8] &quot;Q 06: Was the use of online materials appropriate?&quot;                      
##  [9] &quot;Q 07: Was the teacher appropriately prepared?&quot;                           
## [10] &quot;Q 08: Was the workload of the course appropriate?&quot;                       
## [11] &quot;Q 09: Was the course content enganging?&quot;                                 
## [12] &quot;Q 10: Were there enough interactive exerceises included in the sessions?&quot;</code></pre>
<p>Now, that we have nice column names, we will replace the numeric
values (1 to 5) with labels ranging from <em>disagree</em> to
<em>agree</em> and convert our data into a data frame.</p>
<pre class="r"><code>lbs &lt;- c(&quot;disagree&quot;, &quot;somewhat disagree&quot;, &quot;neither agree nor disagree&quot;,  &quot;somewhat agree&quot;, &quot;agree&quot;)
survey &lt;- sdat %&gt;%
  dplyr::mutate_if(is.character, factor) %&gt;%
  dplyr::mutate_if(is.numeric, factor, levels = 1:5, labels = lbs) %&gt;%
  drop_na() %&gt;%
  as.data.frame()</code></pre>
<template id="9dd60d12-ed29-44c2-973c-41deaf3551a2"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-f80551ce{table-layout:auto;width:95%;}.cl-f7f8797c{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f7f87990{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-f7f894ca{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-f7f90482{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f9048c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f90496{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f90497{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f904a0{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f904a1{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f904aa{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f904ab{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f904ac{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f904b4{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f904b5{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-f7f904b6{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-f80551ce'>
<caption class="Table Caption">
<p>First 15 rows of the survey data.</p>
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-f7f904b4"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Group</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Respondent</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 01: How did you like the course?</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 02: How did you like the teacher?</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 03: Was the content intersting?</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 04: Was the content adequate for the course?</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 05: Were there enough discussions?</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 06: Was the use of online materials appropriate?</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 07: Was the teacher appropriately prepared?</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 08: Was the workload of the course appropriate?</span></p></td><td class="cl-f7f904b5"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 09: Was the course content enganging?</span></p></td><td class="cl-f7f904b6"><p class="cl-f7f894ca"><span class="cl-f7f8797c">Q 10: Were there enough interactive exerceises included in the sessions?</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-f7f90482"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">G1</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f90496"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f904a0"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">G2</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f904a1"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f90482"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">G3</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90496"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f904a0"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">G4</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f904a1"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f90482"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">G5</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f90496"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f904a0"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">G6</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f904a1"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f90482"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">G7</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f90496"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f904a0"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">G8</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f904a1"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f90482"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">G9</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90496"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f904a0"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">G10</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f904a1"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f90482"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">G11</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f90496"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f904a0"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">G12</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f904a1"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f90482"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">G13</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f9048c"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90496"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f904a0"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">G14</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f90497"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat disagree</span></p></td><td class="cl-f7f904a1"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-f7f904ab"><p class="cl-f7f894ca"><span class="cl-f7f87990">German</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">G15</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat disagree</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">disagree</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat agree</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">neither agree nor disagree</span></p></td><td class="cl-f7f904aa"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat disagree</span></p></td><td class="cl-f7f904ac"><p class="cl-f7f894ca"><span class="cl-f7f87990">somewhat disagree</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="eba460e6-5567-4a46-9c87-164b11b30e01"></div>
<script>
var dest = document.getElementById("eba460e6-5567-4a46-9c87-164b11b30e01");
var template = document.getElementById("9dd60d12-ed29-44c2-973c-41deaf3551a2");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Now, we can use the <code>plot</code> and the <code>likert</code>
function to visualize the survey data.</p>
<pre class="r"><code># load package
library(likert)
# generate plot
plot(likert(survey[,3:12]), ordered = F, wrap= 60)</code></pre>
<p><img src="dviz_files/figure-html/likert13-1.png" width="672" /></p>
<p>To save this plot, you can use the <code>save_plot</code> function
from the <code>cowplot</code> package as shown below.</p>
<pre class="r"><code>survey_p1 &lt;- plot(likert(survey[,3:12]), ordered = F, wrap= 60)
# save plot
cowplot::save_plot(here(&quot;images&quot;, &quot;stu_p1.png&quot;), # where to save the plot
                   survey_p1,        # object to plot
                   base_asp = 1.5,  # ratio of space fro questions vs space for plot
                   base_height = 8) # size! higher for smaller font size</code></pre>
<p>An additional and very helpful feature is that the
<code>likert</code> package enables grouping the data as shown below.
The display columns 3 to 8 and use column 1 for grouping.</p>
<pre class="r"><code># create plot
plot(likert(survey[,3:8], grouping = survey[,1]))</code></pre>
<p><img src="dviz_files/figure-html/likert17-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
<div id="comparative-bar-plots-with-negative-values"
class="section level2 unnumbered">
<h2 class="unnumbered">Comparative bar plots with negative values</h2>
<p>Another frequent task is to evaluate the divergence of values from a
reference, for instance when dealing with language learners where native
speakers serve as a reference or target. To illustrate how such data can
be visualized, we load the scales package as we want to create a bar
plot in which we show the divergence of learners from native speakers
regarding certain features and how that divergence changes over time.
Then, we create an example data set which mirrors the format we expect
for the actual data.</p>
<pre class="r"><code># create a vector with values called Test1
Test1 &lt;- c(11.2, 13.5, 200, 185, 1.3, 3.5) 
# create a vector with values called Test2
Test2 &lt;- c(12.2, 14.7, 210, 175, 1.9, 3.0)   
# create a vector with values called Test3
Test3 &lt;- c(13.2, 15.1, 177, 173, 2.4, 2.9)    
# combine vectors in a data frame
testdata &lt;- data.frame(Test1, Test2, Test3)     
# add rownames
rownames(testdata) &lt;- c(&quot;Feature1_Student&quot;,     
                        &quot;Feature1_Reference&quot;, 
                        &quot;Feature2_Student&quot;, 
                        &quot;Feature2_Reference&quot;, 
                        &quot;Feature3_Student&quot;, 
                        &quot;Feature3_Reference&quot;)
# inspect data
testdata                                        </code></pre>
<pre><code>##                    Test1 Test2 Test3
## Feature1_Student    11.2  12.2  13.2
## Feature1_Reference  13.5  14.7  15.1
## Feature2_Student   200.0 210.0 177.0
## Feature2_Reference 185.0 175.0 173.0
## Feature3_Student     1.3   1.9   2.4
## Feature3_Reference   3.5   3.0   2.9</code></pre>
<p>We can now determine how the learners deviate from the native
speakers.</p>
<pre class="r"><code># determine divergence from reference
# row 1 (student) minus row 2 (reference)
FeatureA &lt;- t(testdata[1,] - testdata[2,]) 
# row 3 (student) minus row 4 (reference)
FeatureB &lt;- t(testdata[3,] - testdata[4,])  
# row 5 (student) minus row 6 (reference)
FeatureC &lt;- t(testdata[5,] - testdata[6,])  
# create data frame
plottable &lt;- data.frame(rep(rownames(FeatureA), 3), 
                  c(FeatureA, FeatureB, FeatureC), 
                  c(rep(&quot;FeatureA&quot;, 3), 
                    rep(&quot;FeatureB&quot;, 3), 
                    rep(&quot;FeatureC&quot;, 3)))
# def. col. names
colnames(plottable) &lt;- c(&quot;Test&quot;, &quot;Value&quot;, &quot;Feature&quot;)
# inspect data
plottable                                         </code></pre>
<pre><code>##    Test Value  Feature
## 1 Test1  -2.3 FeatureA
## 2 Test2  -2.5 FeatureA
## 3 Test3  -1.9 FeatureA
## 4 Test1  15.0 FeatureB
## 5 Test2  35.0 FeatureB
## 6 Test3   4.0 FeatureB
## 7 Test1  -2.2 FeatureC
## 8 Test2  -1.1 FeatureC
## 9 Test3  -0.5 FeatureC</code></pre>
<p>Finally, we graphically display the divergence using a bar plot.</p>
<pre class="r"><code># create plot
ggplot(plottable, 
       aes(Test, Value)) + # def. x/y-axes
  # separate plots for each feature
  facet_grid(vars(Feature), scales = &quot;free_y&quot;) +
  # create bars
  geom_bar(stat = &quot;identity&quot;, aes(fill = Test)) +  
  # black and white theme
  theme_bw() +
  # suppress legend   
  guides(fill=FALSE) + 
  # def. colours   
  geom_bar(stat=&quot;identity&quot;, fill=rep(clrs5[1:3], 3)) + 
  # axes titles
  labs(x = &quot;&quot;, y = &quot;Score&quot;)                                               </code></pre>
<p><img src="dviz_files/figure-html/bar23-1.png" width="672" /></p>
</div>
</div>
<div id="ridge-plots" class="section level1 unnumbered">
<h1 class="unnumbered">Ridge Plots</h1>
<p>A very nice option to display frequency information about levels of a
categorical variable are ridge plots. To generate ridge plots, we can
use the <code>ggridges</code> package written by <a
href="https://github.com/clauswilke">Claus Wilke</a>.</p>
<pre class="r"><code># load package
library(ggridges)
# create ridge plot
pdat %&gt;%
  ggplot(aes(x = Prepositions, y = GenreRedux, fill = GenreRedux)) +
  geom_density_ridges() +
  theme_ridges() + 
  theme(legend.position = &quot;none&quot;) + 
  labs(y = &quot;&quot;, x = &quot;Density of the relative frequency of prepostions&quot;)</code></pre>
<p><img src="dviz_files/figure-html/rid_01-1.png" width="672" /></p>
<p>You can easily replace the density displays by histograms which only
requires to define the <code>stat</code> argument and the bin width.</p>
<pre class="r"><code># create ridge plot
pdat %&gt;%
  ggplot(aes(x = Prepositions, y = GenreRedux, fill = GenreRedux)) +
  geom_density_ridges(alpha=0.6, stat=&quot;binline&quot;, bins=20) +
  theme_ridges() + 
  theme(legend.position = &quot;none&quot;) + 
  labs(y = &quot;&quot;, x = &quot;Histograms of the relative frequency of prepostions&quot;)</code></pre>
<p><img src="dviz_files/figure-html/rid_02-1.png" width="672" /></p>
</div>
<div id="boxplots" class="section level1 unnumbered">
<h1 class="unnumbered">Boxplots</h1>
<p>So far, we have plotted values but we have not plotted the underlying
distributions. For instance, we have plotted mean values but not the
variance within the distribution. One handy way to combine plotting
general trends and their underlying distributions are boxplots.</p>
<p>Boxplots, or Box-and-Whisker Plots, are exploratory graphics first
created by John W. Tukey and they show the relationships between
categorical and numeric variables. They are very useful because they not
only provide measures of central tendency (the median which is the line
in the middle of the box) but they also offer information about the
distribution of the data. To elaborate, fifty percent of data points
fall within the box while seventy-five percent of data points fall
within the whiskers (the lines which look like extended error bars): the
box thus encompasses the interquartile range between the first and third
quartile. The whiskers show the minimum and maximum values in the data
and only outliers (data points that lie 1.5 times the interquartile
range or more above the third quartile or 1.5 times the interquartile
range or more below the first quartile. If the whiskers differ in
length, then this means that the data is asymmetrically distributed.</p>
<pre class="r"><code># create boxplot
ggplot(pdat, aes(DateRedux, Prepositions, color = GenreRedux)) +                 
  geom_boxplot(fill=clrs5, 
               color=&quot;black&quot;) </code></pre>
<p><img src="dviz_files/figure-html/box1-1.png" width="672" /></p>
<p>Another interesting feature of boxplots is that they allow us to
visually get an idea whether categories differ significantly. Because if
add “notch = T” and the notches of the boxplots do not overlap, then
this is a very strong indication that the categories actually differ
significantly (see below).</p>
<pre class="r"><code># create boxplot
ggplot(pdat, aes(DateRedux, Prepositions, color = GenreRedux)) +                 
  geom_boxplot(outlier.colour=&quot;red&quot;, 
               outlier.shape=2, 
               outlier.size=5, 
               notch=T, 
               fill=clrs5, 
               color=&quot;black&quot;) </code></pre>
<p><img src="dviz_files/figure-html/box3-1.png" width="672" /></p>
<pre class="r"><code>library(EnvStats)
# create boxplot
ggplot(pdat, aes(DateRedux, Prepositions, fill = DateRedux, color = DateRedux)) +                 
  geom_boxplot(varwidth = T, color = &quot;black&quot;, alpha = .2) +
  geom_jitter(alpha = .2, height = 0, width = .2) + 
  facet_grid(~Region) +
  EnvStats::stat_n_text(y.pos = 65) +
  theme(legend.position = &quot;none&quot;) +
  labs(x = &quot;&quot;, y = &quot;Frequency (per 1,000 words)&quot;) +
  ggtitle(&quot;Use of prepositions in English texts across time and regions&quot;)</code></pre>
<p><img src="dviz_files/figure-html/box4-1.png" width="672" /></p>
<pre class="r"><code>library(ggstatsplot)
# create boxplot
ggstatsplot::ggbetweenstats(data = pdat,
                            x = DateRedux,
                            y = Prepositions,
                            plottype = &quot;box&quot;,
                            type = &quot;p&quot;,
                            conf.level = 0.95)</code></pre>
<p><img src="dviz_files/figure-html/box5-1.png" width="672" /></p>
</div>
<div id="violin-plots" class="section level1 unnumbered">
<h1 class="unnumbered">Violin plots</h1>
<p>An alternative to boxplots which display the distribution within the
data even more accurately are violin plots.</p>
<pre class="r"><code>ggplot(pdat, aes(DateRedux, Prepositions, fill = DateRedux)) +  
  geom_violin(trim = FALSE, alpha = .5) +  
  scale_fill_manual(values = clrs5) +
  theme_bw() +
  theme(legend.position = &quot;none&quot;)         </code></pre>
<p><img src="dviz_files/figure-html/vio1-1.png" width="672" /></p>
</div>
<div id="word-clouds" class="section level1 unnumbered">
<h1 class="unnumbered">Word clouds</h1>
<p>Word clouds visualize word frequencies of either single corpus or
different corpora. Although word clouds are rarely used in academic
publications, they are a common way to display language data and the
topics of texts - which may be thought of as their semantic content. To
exemplify how to use word clouds, we are going to have a look at rally
speeches of Hillary Clinton and Donald Trump that were given during
their 2016 campaigns. In a first step, we load and process the data as
the relevant packages are already loaded.</p>
<pre class="r"><code># load and process speeches by clinton
clinton &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/Clinton.rda&quot;, &quot;rb&quot;)) %&gt;% paste0(collapse = &quot; &quot;)
# load and process speeches by trump
trump &lt;- base::readRDS(url(&quot;https://slcladal.github.io/data/Trump.rda&quot;, &quot;rb&quot;)) %&gt;%  paste0(collapse = &quot; &quot;)</code></pre>
<p>After loading the data, we need to clean it.</p>
<pre class="r"><code># clean texts
docs &lt;- Corpus(VectorSource(c(clinton, trump))) %&gt;%
  # clean text data
  tm::tm_map(removePunctuation) %&gt;%
  tm::tm_map(removeNumbers) %&gt;%
  tm::tm_map(tolower)  %&gt;%
  tm::tm_map(removeWords, stopwords(&quot;english&quot;)) %&gt;%
  tm::tm_map(stripWhitespace) %&gt;%
  tm::tm_map(PlainTextDocument)
# create term document matrix
tdm &lt;- TermDocumentMatrix(docs) %&gt;%
  as.matrix()
colnames(tdm) &lt;- c(&quot;Clinton&quot;,&quot;Trump&quot;)</code></pre>
<p>Next, we normalize the absolute frequencies of the terms in the
document by converting them into relative frequencies.</p>
<pre class="r"><code># calculate rel. freq.
tdm[, 1] &lt;- as.vector(unlist(sapply(tdm[, 1], function(x) round(x/colSums(tdm)[1]*1000, 0) )))
# calculate rel. freq.
tdm[, 2] &lt;- as.vector(unlist(sapply(tdm[, 2], function(x) round(x/colSums(tdm)[2]*1000, 0) )))</code></pre>
<p>After processing the data, we can now create word clouds. However,
there are different word clouds:</p>
<ul>
<li>(Common) word clouds</li>
<li>Comparative clouds</li>
<li>Commonality clouds</li>
</ul>
<p>Common or simple word clouds simply show the frequency of word types
while comparative word clouds show which word types are particularly
overrepresented in one sub-corpus compared to another sub-corpus.
Commonality word clouds show words that are shared and are thus
particularly indistinctive for different sub-corpora.</p>
<p>Let us first inspect a common word cloud of the corpus.</p>
<pre class="r"><code># load package
library(wordcloud)
# create word cloud
wordcloud(docs, max.words = 100, 
          colors = brewer.pal(6, &quot;BrBG&quot;), 
          random.order = FALSE)</code></pre>
<p><img src="dviz_files/figure-html/wc5-1.png" width="672" /></p>
<p>The common word cloud shows the frequencies of words regardless of
who used them. In contrast, the comparative cloud shown below highlights
words that differ most with respect to their frequencies in the
sub-corpora under investigation.</p>
<pre class="r"><code># create comparison cloud
comparison.cloud(tdm, 
                 max.words = 100, 
                 random.order = FALSE, 
                 colors = c(&quot;blue&quot;, &quot;red&quot;), 
                 title.bg.colors=&quot;white&quot;,
                 bg.color = &quot;black&quot;)</code></pre>
<p><img src="dviz_files/figure-html/wc6-1.png" width="672" /></p>
<p>The opposite of comparative clouds are commonality clouds which
highlight words that use with similar relative frequencies in the
sub-corpora under investigation and that are therefore particularly
indistinctive.</p>
<pre class="r"><code># create commonality cloud
commonality.cloud(tdm, 
                  max.words = 100, 
                  random.order = FALSE, 
          colors = brewer.pal(6, &quot;Spectral&quot;))</code></pre>
<p><img src="dviz_files/figure-html/wc7-1.png" width="672" /></p>
<p>At first, I thought that word clouds are simply a fancy but not very
helpful way to inspect language data but I have to admit that word
clouds really surprised me as they do appear to possess potential to
provide an idea of what groups of people are talking about. The
comparative word cloud shows that the Trump uses a lot of contractions
(“’re”, “’ll”, etc.) and stresses concepts linked to the future
(<em>going</em>) thereby stressing his vision of the US
(<em>great</em>). In Contrast, Clinton did not use contractions but
talked about <em>Americans</em>, <em>work</em>, the <em>economy</em>,
and <em>women</em>.</p>
</div>
<div id="association-plots" class="section level1 unnumbered">
<h1 class="unnumbered">Association plots</h1>
<p>Another plot type that is related to bar plots is the association
plot. Association plots are similar to bar plots in that they display
difference as bars above or below a line (as shown above). However,
association plots show the difference between the observed and expected
frequencies rather than differences as deviations from a reference.
Therefore, they are often used when graphically representing tables with
absolute frequencies. We use the already loaded <em>vcd</em> package to
create association plots.</p>
<p>We also modify the reduced pdat as association plots work on matrices
rather than data frames or tibbles. In addition, we will drop more
genres as to avoid overlap in the y-axis labels later on.</p>
<pre class="r"><code># reduce data
assocdata &lt;- pdat %&gt;%
  droplevels() %&gt;%
  dplyr::mutate(GenreRedux &lt;- as.character(GenreRedux),
                GenreRedux = dplyr::case_when(GenreRedux == &quot;Conversational&quot; ~ &quot;Conv.&quot;,
                                              GenreRedux == &quot;Religious&quot; ~ &quot;Relig.&quot;,
                                              TRUE ~ GenreRedux)) %&gt;%
  dplyr::group_by(GenreRedux, DateRedux) %&gt;%
  dplyr::summarise(Prepositions = round(mean(Prepositions), 0)) %&gt;%
  tidyr::spread(DateRedux, Prepositions)
# create matrix 
assocmx &lt;- as.matrix(assocdata[,2:6])
attr(assocmx, &quot;dimnames&quot;)[1] &lt;- as.vector(assocdata[,1])</code></pre>
<p>Let’s briefly inspect the data set.</p>
<template id="38d3a897-4258-4294-98d2-c9d35a05155d"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-1facf9d4{table-layout:auto;width:95%;}.cl-1fa0c3ee{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1fa0c402{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-1fa0e234{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-1fa12852{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa12866{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa12924{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa12925{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa1292e{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa12938{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa12939{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa1293a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa12942{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa12943{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa1294c{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-1fa1294d{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-1facf9d4'>
<caption class="Table Caption">
<p>Overview of the matrix.</p>
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-1fa12943"><p class="cl-1fa0e234"><span class="cl-1fa0c3ee">1150-1499</span></p></td><td class="cl-1fa1294c"><p class="cl-1fa0e234"><span class="cl-1fa0c3ee">1500-1599</span></p></td><td class="cl-1fa1294c"><p class="cl-1fa0e234"><span class="cl-1fa0c3ee">1600-1699</span></p></td><td class="cl-1fa1294c"><p class="cl-1fa0e234"><span class="cl-1fa0c3ee">1700-1799</span></p></td><td class="cl-1fa1294d"><p class="cl-1fa0e234"><span class="cl-1fa0c3ee">1800-1913</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-1fa12852"><p class="cl-1fa0e234"><span class="cl-1fa0c402"></span></p></td><td class="cl-1fa12866"><p class="cl-1fa0e234"><span class="cl-1fa0c402">133</span></p></td><td class="cl-1fa12866"><p class="cl-1fa0e234"><span class="cl-1fa0c402">124</span></p></td><td class="cl-1fa12866"><p class="cl-1fa0e234"><span class="cl-1fa0c402">132</span></p></td><td class="cl-1fa12924"><p class="cl-1fa0e234"><span class="cl-1fa0c402">128</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1fa1292e"><p class="cl-1fa0e234"><span class="cl-1fa0c402">93</span></p></td><td class="cl-1fa12925"><p class="cl-1fa0e234"><span class="cl-1fa0c402">113</span></p></td><td class="cl-1fa12925"><p class="cl-1fa0e234"><span class="cl-1fa0c402">112</span></p></td><td class="cl-1fa12925"><p class="cl-1fa0e234"><span class="cl-1fa0c402">128</span></p></td><td class="cl-1fa12938"><p class="cl-1fa0e234"><span class="cl-1fa0c402">134</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1fa12852"><p class="cl-1fa0e234"><span class="cl-1fa0c402"></span></p></td><td class="cl-1fa12866"><p class="cl-1fa0e234"><span class="cl-1fa0c402">149</span></p></td><td class="cl-1fa12866"><p class="cl-1fa0e234"><span class="cl-1fa0c402">129</span></p></td><td class="cl-1fa12866"><p class="cl-1fa0e234"><span class="cl-1fa0c402">150</span></p></td><td class="cl-1fa12924"><p class="cl-1fa0e234"><span class="cl-1fa0c402">164</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1fa1292e"><p class="cl-1fa0e234"><span class="cl-1fa0c402">131</span></p></td><td class="cl-1fa12925"><p class="cl-1fa0e234"><span class="cl-1fa0c402">135</span></p></td><td class="cl-1fa12925"><p class="cl-1fa0e234"><span class="cl-1fa0c402">137</span></p></td><td class="cl-1fa12925"><p class="cl-1fa0e234"><span class="cl-1fa0c402">146</span></p></td><td class="cl-1fa12938"><p class="cl-1fa0e234"><span class="cl-1fa0c402">146</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-1fa12939"><p class="cl-1fa0e234"><span class="cl-1fa0c402">135</span></p></td><td class="cl-1fa1293a"><p class="cl-1fa0e234"><span class="cl-1fa0c402">121</span></p></td><td class="cl-1fa1293a"><p class="cl-1fa0e234"><span class="cl-1fa0c402">132</span></p></td><td class="cl-1fa1293a"><p class="cl-1fa0e234"><span class="cl-1fa0c402">140</span></p></td><td class="cl-1fa12942"><p class="cl-1fa0e234"><span class="cl-1fa0c402">138</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="6bc68b5c-f61f-456f-9e2b-b2cf5a901f72"></div>
<script>
var dest = document.getElementById("6bc68b5c-f61f-456f-9e2b-b2cf5a901f72");
var template = document.getElementById("38d3a897-4258-4294-98d2-c9d35a05155d");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Association plots are created by using the <code>assoc</code>
function which takes a table (or a similar format such as a matrix or a
data frame) as their argument. In addition, we specify
<code>shade</code> as <code>T</code> in order to color code the bars in
the association plot and to add a legend.</p>
<pre class="r"><code># create association plot
assoc(assocmx, shade=TRUE)</code></pre>
<p><img src="dviz_files/figure-html/ass3-1.png" width="672" /></p>
<p>The bars above the line indicate that the observed frequency is
higher than expected, bars under the line indicate frequencies that are
lower than expected. Darker shades of blue and red coloring suggest that
there are significant differences between the observed and the expected
frequencies. In the present example, this means that the frequencies of
prepositions differ significantly across genres and periods.
<em>However(!) as shown in the table above, this result is an artifact
because the first period does not contain any data points for
conversational or legal texts!</em></p>
</div>
<div id="mosaic-plots" class="section level1 unnumbered">
<h1 class="unnumbered">Mosaic plots</h1>
<p>Another plot which is useful to graphically depict the relationship
of categorical variables is the mosaic plot. The size of the boxes in a
mosaic plot indicate how frequent that subcategory is and the colors
show whether or not the category differs from the value that is expected
if given the overall distribution in the table. In addition, the hue of
the color shows how great the difference between observed and expected
is and thus indicates whether the respective subcategory deviates
significantly from the expected frequency. Boxes that are gray suggest
the absence of significant differences.</p>
<pre class="r"><code># create a mosaic plot
mosaic(assocmx, shade=T, legend=TRUE)  </code></pre>
<p><img src="dviz_files/figure-html/mos1-1.png" width="672" /></p>
<p>According to the mosaic plot above, there are some potentially
significant differences in the first and second period. This, however,
is still likely to be caused by the absence of data points from
conversational or legal texts in the first period. Also, the absence of
boxes for these text types in the first period indicate that there is a
potential problem - something that was not visible in the mosaic
plot!</p>
</div>
<div id="heat-maps" class="section level1 unnumbered">
<h1 class="unnumbered">Heat maps</h1>
<p>Heat maps are similar to mosaic plots in that they display frequency
information and use color-coding to indicate high and low values. Heat
maps also work on matrices but they are much more powerful and versatile
that mosaic plots.</p>
<p>Heat maps are a very popular way to display frequency information and
various packages have been written to create or customize heatmaps (for
example the packages “ComplexHeatmap”, “dendextend”, “d3heatmap”,
“pheatmap”) which means that many aspects of heatmaps can be modified.
In this example, we will only use the most basic function to create a
heat map.</p>
<p>We again modify the data and create a matrix from the original pdat.
In addition, we scale the frequencies. This is not necessary in the
present case but when dealing with variables which differ in their mean
and variance because they reflect different variables, scaling will
normalize such variables and render their values comparable.</p>
<pre class="r"><code># create data
heatdata &lt;- pdat %&gt;%
  dplyr::group_by(DateRedux, GenreRedux) %&gt;%
  dplyr::summarise(Prepositions = mean(Prepositions)) %&gt;%
  tidyr::spread(DateRedux, Prepositions)
# create matrix 
heatmx &lt;- as.matrix(heatdata[,2:5])
attr(heatmx, &quot;dimnames&quot;)[1] &lt;- as.vector(heatdata[,1])
heatmx &lt;- scale(heatmx) %&gt;%
  round(., 2)</code></pre>
<p>Let’s briefly inspect the data set.</p>
<template id="6f3afa44-0f87-441a-93b5-5e011a6cad8f"><style>
.tabwid table{
  border-spacing:0px !important;
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-201d33a2{table-layout:auto;width:95%;}.cl-2011a99c{font-family:'Arial';font-size:12pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2011a9a6{font-family:'Arial';font-size:12pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-2011bf4a{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-2011ee0c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee0d{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee16{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee17{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee20{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee21{background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee2a{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee2b{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee2c{background-color:rgba(239, 239, 239, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee34{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 1pt solid rgba(102, 102, 102, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee35{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-2011ee36{background-color:rgba(207, 207, 207, 1.00);vertical-align: middle;border-bottom: 1pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 1pt solid rgba(102, 102, 102, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table class='cl-201d33a2'>
<caption class="Table Caption">
<p>Overview of the matrix.</p>
</caption>
<thead><tr style="overflow-wrap:break-word;"><td class="cl-2011ee34"><p class="cl-2011bf4a"><span class="cl-2011a99c">1150-1499</span></p></td><td class="cl-2011ee35"><p class="cl-2011bf4a"><span class="cl-2011a99c">1500-1599</span></p></td><td class="cl-2011ee35"><p class="cl-2011bf4a"><span class="cl-2011a99c">1600-1699</span></p></td><td class="cl-2011ee36"><p class="cl-2011bf4a"><span class="cl-2011a99c">1700-1799</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-2011ee0c"><p class="cl-2011bf4a"><span class="cl-2011a9a6"></span></p></td><td class="cl-2011ee0d"><p class="cl-2011bf4a"><span class="cl-2011a9a6">0.23</span></p></td><td class="cl-2011ee0d"><p class="cl-2011bf4a"><span class="cl-2011a9a6">-0.33</span></p></td><td class="cl-2011ee16"><p class="cl-2011bf4a"><span class="cl-2011a9a6">-0.74</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2011ee20"><p class="cl-2011bf4a"><span class="cl-2011a9a6">-1.15</span></p></td><td class="cl-2011ee17"><p class="cl-2011bf4a"><span class="cl-2011a9a6">-1.26</span></p></td><td class="cl-2011ee17"><p class="cl-2011bf4a"><span class="cl-2011a9a6">-1.54</span></p></td><td class="cl-2011ee21"><p class="cl-2011bf4a"><span class="cl-2011a9a6">-1.24</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2011ee0c"><p class="cl-2011bf4a"><span class="cl-2011a9a6"></span></p></td><td class="cl-2011ee0d"><p class="cl-2011bf4a"><span class="cl-2011a9a6">1.34</span></p></td><td class="cl-2011ee0d"><p class="cl-2011bf4a"><span class="cl-2011a9a6">0.26</span></p></td><td class="cl-2011ee16"><p class="cl-2011bf4a"><span class="cl-2011a9a6">1.17</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2011ee20"><p class="cl-2011bf4a"><span class="cl-2011a9a6">0.47</span></p></td><td class="cl-2011ee17"><p class="cl-2011bf4a"><span class="cl-2011a9a6">0.34</span></p></td><td class="cl-2011ee17"><p class="cl-2011bf4a"><span class="cl-2011a9a6">1.08</span></p></td><td class="cl-2011ee21"><p class="cl-2011bf4a"><span class="cl-2011a9a6">0.73</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-2011ee2a"><p class="cl-2011bf4a"><span class="cl-2011a9a6">0.67</span></p></td><td class="cl-2011ee2b"><p class="cl-2011bf4a"><span class="cl-2011a9a6">-0.65</span></p></td><td class="cl-2011ee2b"><p class="cl-2011bf4a"><span class="cl-2011a9a6">0.52</span></p></td><td class="cl-2011ee2c"><p class="cl-2011bf4a"><span class="cl-2011a9a6">0.08</span></p></td></tr></tbody></table></div></template>
<div class="flextable-shadow-host" id="2abe0586-01ce-427f-a653-4b20a44e26ce"></div>
<script>
var dest = document.getElementById("2abe0586-01ce-427f-a653-4b20a44e26ce");
var template = document.getElementById("6f3afa44-0f87-441a-93b5-5e011a6cad8f");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>Now that we have created a data matrix, we can create a simple heat
map.</p>
<pre class="r"><code># create heat map
heatmap(heatmx, scale = &quot;none&quot;, cexCol = 1, cexRow = 1)</code></pre>
<p><img src="dviz_files/figure-html/heat_05-1.png" width="672" /></p>
<p>The dendrogram on the top shows that documents from 1600 and 1700 as
well as documents from 1800 and 1900 are grouped together and thus are
more similar with respect to their preposition frequencies. The
dendrogram on the left indicates that we have two categories of
documents: the genres to towards the bottom tend to have fewer
prepositions (indicated by the light colours) while the documents to the
top tend to have more prepositions (thus the darker hues). Legal texts
(genre = Law) have notably higher rates of prepositions as is derivable
from the dark red colour of such texts.</p>
</div>
<div id="citation-session-info" class="section level1 unnumbered">
<h1 class="unnumbered">Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2022. <em>Data Visualization with R</em>.
Brisbane: The University of Queensland. url: <a
href="https://slcladal.github.io/dviz.html"
class="uri">https://slcladal.github.io/dviz.html</a> (Version
2022.05.04).</p>
<pre><code>@manual{schweinberger2022dviz,
  author = {Schweinberger, Martin},
  title = {Data Visualization with R},
  note = {https://slcladal.github.io/dviz.html},
  year = {2022},
  organization = {The University of Queensland, School of Languages and Cultures},
  address = {Brisbane},
  edition = {2022.05.04}
}</code></pre>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.2.0 (2022-04-22 ucrt)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 19043)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=German_Germany.utf8  LC_CTYPE=German_Germany.utf8   
## [3] LC_MONETARY=German_Germany.utf8 LC_NUMERIC=C                   
## [5] LC_TIME=German_Germany.utf8    
## 
## attached base packages:
## [1] grid      stats     graphics  grDevices datasets  utils     methods  
## [8] base     
## 
## other attached packages:
##  [1] ggstatsplot_0.9.1  EnvStats_2.7.0     hexbin_1.28.2      flextable_0.7.0   
##  [5] wordcloud_2.6      RColorBrewer_1.1-3 DT_0.22            knitr_1.39        
##  [9] tidyr_1.2.0        ggridges_0.5.3     tm_0.7-8           NLP_0.2-1         
## [13] vcd_1.4-9          likert_1.3.5       xtable_1.8-4       ggplot2_3.3.6     
## [17] stringr_1.4.0      dplyr_1.0.9        lattice_0.20-45   
## 
## loaded via a namespace (and not attached):
##   [1] uuid_1.1-0             backports_1.4.1        Hmisc_4.7-0           
##   [4] systemfonts_1.0.4      plyr_1.8.7             splines_4.2.0         
##   [7] gmp_0.6-5              kSamples_1.2-9         TH.data_1.1-1         
##  [10] rstantools_2.2.0       SuppDists_1.1-9.7      digest_0.6.29         
##  [13] htmltools_0.5.2        fansi_1.0.3            memoise_2.0.1         
##  [16] magrittr_2.0.3         checkmate_2.1.0        paletteer_1.4.0       
##  [19] cluster_2.1.3          officer_0.4.2          sandwich_3.0-1        
##  [22] jpeg_0.1-9             colorspace_2.0-3       ggrepel_0.9.1         
##  [25] xfun_0.30              prismatic_1.1.0        crayon_1.5.1          
##  [28] jsonlite_1.8.0         zeallot_0.1.0          survival_3.3-1        
##  [31] zoo_1.8-10             glue_1.6.2             gtable_0.3.0          
##  [34] emmeans_1.7.3          MatrixModels_0.5-0     statsExpressions_1.3.1
##  [37] Rmpfr_0.8-7            scales_1.2.0           mvtnorm_1.1-3         
##  [40] DBI_1.1.2              PMCMRplus_1.9.4        Rcpp_1.0.8.3          
##  [43] isoband_0.2.5          viridisLite_0.4.0      performance_0.9.0     
##  [46] htmlTable_2.4.0        tmvnsim_1.0-2          klippy_0.0.0.9500     
##  [49] foreign_0.8-82         Formula_1.2-4          datawizard_0.4.0      
##  [52] htmlwidgets_1.5.4      ellipsis_0.3.2         pkgconfig_2.0.3       
##  [55] reshape_0.8.9          farver_2.1.0           multcompView_0.1-8    
##  [58] nnet_7.3-17            sass_0.4.1             utf8_1.2.2            
##  [61] tidyselect_1.1.2       labeling_0.4.2         rlang_1.0.2           
##  [64] reshape2_1.4.4         effectsize_0.6.0.1     cachem_1.0.6          
##  [67] munsell_0.5.0          tools_4.2.0            cli_3.3.0             
##  [70] generics_0.1.2         evaluate_0.15          fastmap_1.1.0         
##  [73] BWStest_0.2.2          yaml_2.3.5             rematch2_2.1.2        
##  [76] zip_2.2.0              purrr_0.3.4            WRS2_1.1-3            
##  [79] pbapply_1.5-0          nlme_3.1-157           slam_0.1-50           
##  [82] xml2_1.3.3             correlation_0.8.0      compiler_4.2.0        
##  [85] rstudioapi_0.13        png_0.1-7              ggsignif_0.6.3        
##  [88] tibble_3.1.7           bslib_0.3.1            stringi_1.7.6         
##  [91] highr_0.9              parameters_0.17.0      gdtools_0.2.4         
##  [94] Matrix_1.4-1           psych_2.2.3            vctrs_0.4.1           
##  [97] pillar_1.7.0           lifecycle_1.0.1        mc2d_0.1-21           
## [100] lmtest_0.9-40          jquerylib_0.1.4        estimability_1.3      
## [103] data.table_1.14.2      insight_0.17.0         patchwork_1.1.1       
## [106] R6_2.5.1               latticeExtra_0.6-29    renv_0.15.4           
## [109] gridExtra_2.3          BayesFactor_0.9.12-4.3 codetools_0.2-18      
## [112] boot_1.3-28            MASS_7.3-57            gtools_3.9.2          
## [115] assertthat_0.2.1       withr_2.5.0            mnormt_2.0.2          
## [118] multcomp_1.4-19        mgcv_1.8-40            bayestestR_0.12.1     
## [121] parallel_4.2.0         rpart_4.1.16           coda_0.19-4           
## [124] rmarkdown_2.14         base64enc_0.1-3</code></pre>
<hr />
<p><a href="#introduction">Back to top</a></p>
<p><a href="https://slcladal.github.io/index.html">Back to HOME</a></p>
<hr />
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="unnumbered">References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-healy2018data" class="csl-entry">
Healy, Kieran. 2018. <em>Data Visualization: A Practical
Introduction</em>. Princeton University Press.
</div>
<div id="ref-wickham2016ggplot2" class="csl-entry">
Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data
Analysis</em>. springer.
</div>
<div id="ref-wilkinson2012grammar" class="csl-entry">
Wilkinson, Leland. 2012. <span>“The Grammar of Graphics.”</span> In
<em>Handbook of Computational Statistics. Concepts and Methods</em>,
edited by James E. Gentle, Wolfgang Karl H, and Yuichi Mori, 375–414.
Springer.
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
