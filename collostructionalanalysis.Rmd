---
title: "Collostructional Analysis"
author: "UQ SLC Digital Team"
date: "`r format(Sys.time(), '%Y-%m-%d')`"
output:
  bookdown::html_document2: default
bibliography: bibliography.bib
link-citations: yes
---
```{r uq1, echo=F, fig.cap="", message=FALSE, warning=FALSE, out.width='100%'}
knitr::include_graphics("images/uq1.jpg")
```

# Introduction

This section focuses on collostructional analysis using "R". The entire code for the sections below can be downloaded [here](https://slcladal.github.io/rscripts/collostructionscript.r).

Collostructional Analysis has three basic versions 

* Simple Collexeme Analysis
* Distinctive Collexeme Analysis
* Co-Varying Collexeme Analysis

Covarying collexeme analysis is part of the collostructional family of analyses (Stefanowitsch & Gries 2003, 2005; Gries & Stefanowitsch 2004; cf. also Hilpert 2006). Covarying collexeme analyses allow for the quantification and evaluation of attraction between elements that occur in two distinct slots within a specified construction. In the present case, the first slot represents the amplifier slot and the second slot represents the adjective slot. Each slot can be occupied by a variant from a set of potential candidates – the set of amplifier variants for the first slot and the set of adjectives for the second slot. Covarying collexeme analysis provides information about whether the likelihood of a certain variant in the first slot affects the likelihood of another variant from another set occurs in the second slot. In other words, it is more likely that nice occurs in the second slot given that really occurs in the first slot compared with another amplifier taking the first slot. If the likelihood increases, then the forms attract each other, while they repel each other. 

In the current analysis, a modified version of covarying collexeme analysis has been implemented. The modification relates to corrections of the p-values to control the inflation of α-error rates because the analyses required to run a huge number of tests which would have resulted in false positive results (α-error). The effect size measure reported here is the logged p-value (Stefanowitsch & Gries 2005). Attraction is indicated by positive values while negative values indicate that ate amplifier and the adjective occur less frequently together than would be expected by chance. The advantage of covarying collexeme analyses over similar methods to evaluate collocational attraction is that it is a very robust method as it is an extension of Fisher’s Exact Test and does therefore not rely on distributional assumptions as tests form the χ2-family of tests do.

The covarying collexeme analyses were performed within each age group to test for changes in apparent-time. Given the relatively moderate size of the data sets, the analysis does not focus on significance but on changes in effect size. The effect size shown on the y-axis of Figure 4 is the logged p-value of the covarying collexeme analysis. The values of this effect size measure inform about whether the amplifier and adjective repel or attract each other. Values below 0 indicate rejection while values above 0 indicate attraction and values around 0 do neither indicate preference nor rejection. In statistical terms, values below 0 show that an amplifier and an adjective occur less frequently together than would be expected by chance while values above 0 show that an amplifier and an adjective occur more often together than expected by chance. For the analysis, all adjectives other than good and nice had to be collapsed into one category (other).


# Preparation and session set up

Since all examples will be performed in "R", it is necessary to install "R", "RStudio", and "Tinn-R". If these programms (or, in the case of "R", environments) are not already installed on your machine, please search for them in your favorite search engine and add the term "download". Open any of the first few links and follow the installation instructions (they are easy to follow, do not require any specifications, and are pretty much self-explanatory).

In addition, certain "libraries" or "packages" need to be installed so that the scripts shown below are executed without errors. Before turning to the code below, please install the librariesby running the code below this paragraph. If you have already installed the libraries mentioned below, then you can skip ahead ignore this section. To install the necessary libraries, simply run the following code - it may take some time (between 1 and 5 minutes to install all of the libraries so you do not need to worry if it takes some time).

```{r prep1, echo=T, eval = F, message=FALSE, warning=FALSE}
# clean current workspace
rm(list=ls(all=T))
# set options
options(stringsAsFactors = F)         # no automatic data transformation
options("scipen" = 100, "digits" = 4) # supress math annotation
# install libraries
install.packages(c("collostructions"))
```

Once you have installed "R", "R-Studio", "Tinn-R", and have also initiated the session by executing the code shown above, you are good to go.

# Basic Simple Collexeme Analysis

```{r bsc1, echo=T, eval = T, message=FALSE, warning=FALSE}
# load library
library(collostructions)
# inspect inbuilt data
str(goVerb); head(goVerb)
```



```{r bsc2, echo=T, eval = T, message=FALSE, warning=FALSE}

sum(goVerb$CORP.FREQ)
```


```{r bsc3, echo=T, eval = T, message=FALSE, warning=FALSE}


collex(goVerb, corpsize = 1e+08L, am = "logl", reverse = FALSE, decimals = 5,
       threshold = 1, cxn.freq = NULL, str.dir = FALSE)

collex.covar(goVerb, am = "logl", raw = TRUE, all = FALSE,
             reverse = FALSE, decimals = 5, str.dir = FALSE)

collex.dist(goVerb, am = "logl", raw = FALSE, reverse = FALSE, decimals = 5,
            threshold = 1, cxn.freqs = NULL, str.dir = FALSE)
```

```{r uq2, echo=F, fig.cap="", out.width = '100%'}
knitr::include_graphics("images/uq2.jpg")
```