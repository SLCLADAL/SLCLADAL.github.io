<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Martin Schweinberger" />

<meta name="date" content="2020-09-29" />

<title>Advanced Visualization Methods in R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">LADAL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="people.html">OUR PEOPLE</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    NEWS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="news.html">News &amp; Announcements</a>
    </li>
    <li>
      <a href="conferences.html">Events &amp; Presentations</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    DATA SCIENCE BASICS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introduction to Data Science</li>
    <li>
      <a href="introcomputer.html">Working with Computers: Tips and Tricks</a>
    </li>
    <li>
      <a href="reproducibility.html">Data Management, Version Control, and Reproducibility</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Quantitative Research</li>
    <li>
      <a href="introquant.html">Introduction to Quantitative Reasoning</a>
    </li>
    <li>
      <a href="basicquant.html">Basic Concepts in Quantitative Research</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Introduction to R</li>
    <li>
      <a href="IntroR_workshop.html">Getting started</a>
    </li>
    <li>
      <a href="stringprocessing.html">String Processing</a>
    </li>
    <li>
      <a href="regularexpressions.html">Regular Expressions</a>
    </li>
    <li>
      <a href="introtables.html">Working with Tables</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    TUTORIALS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Data Visualization</li>
    <li>
      <a href="introviz.html">Introduction to Data Viz</a>
    </li>
    <li>
      <a href="basicgraphs.html">Common Visualization Types</a>
    </li>
    <li>
      <a href="basicgraphs.html">Advanced Visualization Methods</a>
    </li>
    <li>
      <a href="maps.html">Displaying Geo-Spatial Data</a>
    </li>
    <li>
      <a href="motion.html">Interactive Charts</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Statistics</li>
    <li>
      <a href="descriptivestatz.html">Descriptive Statistics</a>
    </li>
    <li>
      <a href="basicstatz.html">Basic Inferential Statistics</a>
    </li>
    <li>
      <a href="regression.html">Regression Analysis</a>
    </li>
    <li>
      <a href="advancedstatztrees.html">Tree-Based Models</a>
    </li>
    <li>
      <a href="groupingstatz.html">Cluster and Correspondence Analysis</a>
    </li>
    <li>
      <a href="svm.html">Semantic Vector Space Models</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Text Analytics</li>
    <li>
      <a href="textanalysis.html">Text Analysis and Distant Reading</a>
    </li>
    <li>
      <a href="kwics.html">Concordancing (keywords-in-context)</a>
    </li>
    <li>
      <a href="basicnetwork.html">Network Analysis</a>
    </li>
    <li>
      <a href="collocations.html">Co-occurrence and Collocation Analysis</a>
    </li>
    <li>
      <a href="topicmodels.html">Topic Modeling</a>
    </li>
    <li>
      <a href="sentiment.html">Sentiment Analysis</a>
    </li>
    <li>
      <a href="tagging.html">Tagging and Parsing</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    FOCUS &amp; CASE STUDIES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lex.html">Lexicography with R: Generating Dictionaries</a>
    </li>
    <li>
      <a href="surveys.html">Questionnaires and Surveys: Analyses with R</a>
    </li>
    <li>
      <a href="corplingr.html">Corpus Linguistics with R: Swearing in Irish English</a>
    </li>
    <li>
      <a href="convertpdf2txt.html">Converting PDFs to txt</a>
    </li>
    <li>
      <a href="webcrawling.html">Web Crawling using R</a>
    </li>
    <li>
      <a href="vc.html">Creating Vowel Charts with Praat and R</a>
    </li>
  </ul>
</li>
<li>
  <a href="services.html">SERVICES &amp; CONTACT</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Advanced Visualization Methods in R</h1>
<h4 class="author">Martin Schweinberger</h4>
<h4 class="date">2020-09-29</h4>

</div>


<p><img src="images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1 unnumbered">
<h1>Introduction</h1>
<p>This tutorial introduces different types of data visualization. The entire R-markdown document for the tutorial can be downloaded <a href="https://slcladal.github.io/advancedgraphs.Rmd">here</a>. A more in-depth and highly recommendable resource for data visualization in R is <span class="citation">Wickham (<a href="#ref-wickham2016ggplot2" role="doc-biblioref">2016</a>)</span>. A more general introduction to data visualization - which is still highly recommendable is <span class="citation">Healy (<a href="#ref-healy2018data" role="doc-biblioref">2018</a>)</span>.</p>
<div id="preparation-and-session-set-up" class="section level2 unnumbered">
<h2>Preparation and session set up</h2>
<p>This tutorial is based on R. If you have not installed R or are new to it, you will find an introduction to and more information how to use R <a href="https://slcladal.github.io/IntroR_workshop.html">here</a>. For this tutorials, we need to install certain <em>packages</em> from an R <em>library</em> so that the scripts shown below are executed without errors. Before turning to the code below, please install the packages by running the code below this paragraph. If you have already installed the packages mentioned below, then you can skip ahead ignore this section. To install the necessary packages, simply run the following code - it may take some time (between 1 and 5 minutes to install all of the libraries so you do not need to worry if it takes some time).</p>
<pre class="r"><code># install libraries
install.packages(c(&quot;knitr&quot;, &quot;lattice&quot;, &quot;ggplot2&quot;, &quot;dplyr&quot;, &quot;likert&quot;, &quot;scales&quot;, 
                   &quot;vcd&quot;, &quot;tm&quot;, &quot;wordcloud&quot;, &quot;stringr&quot;, &quot;SnowballC&quot;, &quot;tidyr&quot;, 
                   &quot;gridExtra&quot;, &quot;knitr&quot;, &quot;kableExtra&quot;, &quot;stringr&quot;))</code></pre>
<p>Once you have installed R, R-Studio, and have also initiated the session by executing the code shown above, you are good to go.</p>
</div>
</div>
<div id="getting-started" class="section level1 unnumbered">
<h1>Getting started</h1>
<p>Before turning to the graphs, we will load the packages for this tutorial.</p>
<pre class="r"><code># activate packages
lapply(c(&quot;knitr&quot;, &quot;lattice&quot;, &quot;ggplot2&quot;, &quot;dplyr&quot;, &quot;likert&quot;, &quot;scales&quot;, 
         &quot;vcd&quot;, &quot;tm&quot;, &quot;wordcloud&quot;, &quot;stringr&quot;, &quot;SnowballC&quot;, &quot;tidyr&quot;, 
         &quot;gridExtra&quot;, &quot;knitr&quot;, &quot;kableExtra&quot;, &quot;stringr&quot;), 
       library, 
       character.only = TRUE)</code></pre>
<pre><code>## [[1]]
## [1] &quot;knitr&quot;     &quot;stats&quot;     &quot;graphics&quot;  &quot;grDevices&quot; &quot;utils&quot;     &quot;datasets&quot; 
## [7] &quot;methods&quot;   &quot;base&quot;     
## 
## [[2]]
## [1] &quot;lattice&quot;   &quot;knitr&quot;     &quot;stats&quot;     &quot;graphics&quot;  &quot;grDevices&quot; &quot;utils&quot;    
## [7] &quot;datasets&quot;  &quot;methods&quot;   &quot;base&quot;     
## 
## [[3]]
##  [1] &quot;ggplot2&quot;   &quot;lattice&quot;   &quot;knitr&quot;     &quot;stats&quot;     &quot;graphics&quot;  &quot;grDevices&quot;
##  [7] &quot;utils&quot;     &quot;datasets&quot;  &quot;methods&quot;   &quot;base&quot;     
## 
## [[4]]
##  [1] &quot;dplyr&quot;     &quot;ggplot2&quot;   &quot;lattice&quot;   &quot;knitr&quot;     &quot;stats&quot;     &quot;graphics&quot; 
##  [7] &quot;grDevices&quot; &quot;utils&quot;     &quot;datasets&quot;  &quot;methods&quot;   &quot;base&quot;     
## 
## [[5]]
##  [1] &quot;likert&quot;    &quot;xtable&quot;    &quot;dplyr&quot;     &quot;ggplot2&quot;   &quot;lattice&quot;   &quot;knitr&quot;    
##  [7] &quot;stats&quot;     &quot;graphics&quot;  &quot;grDevices&quot; &quot;utils&quot;     &quot;datasets&quot;  &quot;methods&quot;  
## [13] &quot;base&quot;     
## 
## [[6]]
##  [1] &quot;scales&quot;    &quot;likert&quot;    &quot;xtable&quot;    &quot;dplyr&quot;     &quot;ggplot2&quot;   &quot;lattice&quot;  
##  [7] &quot;knitr&quot;     &quot;stats&quot;     &quot;graphics&quot;  &quot;grDevices&quot; &quot;utils&quot;     &quot;datasets&quot; 
## [13] &quot;methods&quot;   &quot;base&quot;     
## 
## [[7]]
##  [1] &quot;vcd&quot;       &quot;grid&quot;      &quot;scales&quot;    &quot;likert&quot;    &quot;xtable&quot;    &quot;dplyr&quot;    
##  [7] &quot;ggplot2&quot;   &quot;lattice&quot;   &quot;knitr&quot;     &quot;stats&quot;     &quot;graphics&quot;  &quot;grDevices&quot;
## [13] &quot;utils&quot;     &quot;datasets&quot;  &quot;methods&quot;   &quot;base&quot;     
## 
## [[8]]
##  [1] &quot;tm&quot;        &quot;NLP&quot;       &quot;vcd&quot;       &quot;grid&quot;      &quot;scales&quot;    &quot;likert&quot;   
##  [7] &quot;xtable&quot;    &quot;dplyr&quot;     &quot;ggplot2&quot;   &quot;lattice&quot;   &quot;knitr&quot;     &quot;stats&quot;    
## [13] &quot;graphics&quot;  &quot;grDevices&quot; &quot;utils&quot;     &quot;datasets&quot;  &quot;methods&quot;   &quot;base&quot;     
## 
## [[9]]
##  [1] &quot;wordcloud&quot;    &quot;RColorBrewer&quot; &quot;tm&quot;           &quot;NLP&quot;          &quot;vcd&quot;         
##  [6] &quot;grid&quot;         &quot;scales&quot;       &quot;likert&quot;       &quot;xtable&quot;       &quot;dplyr&quot;       
## [11] &quot;ggplot2&quot;      &quot;lattice&quot;      &quot;knitr&quot;        &quot;stats&quot;        &quot;graphics&quot;    
## [16] &quot;grDevices&quot;    &quot;utils&quot;        &quot;datasets&quot;     &quot;methods&quot;      &quot;base&quot;        
## 
## [[10]]
##  [1] &quot;stringr&quot;      &quot;wordcloud&quot;    &quot;RColorBrewer&quot; &quot;tm&quot;           &quot;NLP&quot;         
##  [6] &quot;vcd&quot;          &quot;grid&quot;         &quot;scales&quot;       &quot;likert&quot;       &quot;xtable&quot;      
## [11] &quot;dplyr&quot;        &quot;ggplot2&quot;      &quot;lattice&quot;      &quot;knitr&quot;        &quot;stats&quot;       
## [16] &quot;graphics&quot;     &quot;grDevices&quot;    &quot;utils&quot;        &quot;datasets&quot;     &quot;methods&quot;     
## [21] &quot;base&quot;        
## 
## [[11]]
##  [1] &quot;SnowballC&quot;    &quot;stringr&quot;      &quot;wordcloud&quot;    &quot;RColorBrewer&quot; &quot;tm&quot;          
##  [6] &quot;NLP&quot;          &quot;vcd&quot;          &quot;grid&quot;         &quot;scales&quot;       &quot;likert&quot;      
## [11] &quot;xtable&quot;       &quot;dplyr&quot;        &quot;ggplot2&quot;      &quot;lattice&quot;      &quot;knitr&quot;       
## [16] &quot;stats&quot;        &quot;graphics&quot;     &quot;grDevices&quot;    &quot;utils&quot;        &quot;datasets&quot;    
## [21] &quot;methods&quot;      &quot;base&quot;        
## 
## [[12]]
##  [1] &quot;tidyr&quot;        &quot;SnowballC&quot;    &quot;stringr&quot;      &quot;wordcloud&quot;    &quot;RColorBrewer&quot;
##  [6] &quot;tm&quot;           &quot;NLP&quot;          &quot;vcd&quot;          &quot;grid&quot;         &quot;scales&quot;      
## [11] &quot;likert&quot;       &quot;xtable&quot;       &quot;dplyr&quot;        &quot;ggplot2&quot;      &quot;lattice&quot;     
## [16] &quot;knitr&quot;        &quot;stats&quot;        &quot;graphics&quot;     &quot;grDevices&quot;    &quot;utils&quot;       
## [21] &quot;datasets&quot;     &quot;methods&quot;      &quot;base&quot;        
## 
## [[13]]
##  [1] &quot;gridExtra&quot;    &quot;tidyr&quot;        &quot;SnowballC&quot;    &quot;stringr&quot;      &quot;wordcloud&quot;   
##  [6] &quot;RColorBrewer&quot; &quot;tm&quot;           &quot;NLP&quot;          &quot;vcd&quot;          &quot;grid&quot;        
## [11] &quot;scales&quot;       &quot;likert&quot;       &quot;xtable&quot;       &quot;dplyr&quot;        &quot;ggplot2&quot;     
## [16] &quot;lattice&quot;      &quot;knitr&quot;        &quot;stats&quot;        &quot;graphics&quot;     &quot;grDevices&quot;   
## [21] &quot;utils&quot;        &quot;datasets&quot;     &quot;methods&quot;      &quot;base&quot;        
## 
## [[14]]
##  [1] &quot;gridExtra&quot;    &quot;tidyr&quot;        &quot;SnowballC&quot;    &quot;stringr&quot;      &quot;wordcloud&quot;   
##  [6] &quot;RColorBrewer&quot; &quot;tm&quot;           &quot;NLP&quot;          &quot;vcd&quot;          &quot;grid&quot;        
## [11] &quot;scales&quot;       &quot;likert&quot;       &quot;xtable&quot;       &quot;dplyr&quot;        &quot;ggplot2&quot;     
## [16] &quot;lattice&quot;      &quot;knitr&quot;        &quot;stats&quot;        &quot;graphics&quot;     &quot;grDevices&quot;   
## [21] &quot;utils&quot;        &quot;datasets&quot;     &quot;methods&quot;      &quot;base&quot;        
## 
## [[15]]
##  [1] &quot;kableExtra&quot;   &quot;gridExtra&quot;    &quot;tidyr&quot;        &quot;SnowballC&quot;    &quot;stringr&quot;     
##  [6] &quot;wordcloud&quot;    &quot;RColorBrewer&quot; &quot;tm&quot;           &quot;NLP&quot;          &quot;vcd&quot;         
## [11] &quot;grid&quot;         &quot;scales&quot;       &quot;likert&quot;       &quot;xtable&quot;       &quot;dplyr&quot;       
## [16] &quot;ggplot2&quot;      &quot;lattice&quot;      &quot;knitr&quot;        &quot;stats&quot;        &quot;graphics&quot;    
## [21] &quot;grDevices&quot;    &quot;utils&quot;        &quot;datasets&quot;     &quot;methods&quot;      &quot;base&quot;        
## 
## [[16]]
##  [1] &quot;kableExtra&quot;   &quot;gridExtra&quot;    &quot;tidyr&quot;        &quot;SnowballC&quot;    &quot;stringr&quot;     
##  [6] &quot;wordcloud&quot;    &quot;RColorBrewer&quot; &quot;tm&quot;           &quot;NLP&quot;          &quot;vcd&quot;         
## [11] &quot;grid&quot;         &quot;scales&quot;       &quot;likert&quot;       &quot;xtable&quot;       &quot;dplyr&quot;       
## [16] &quot;ggplot2&quot;      &quot;lattice&quot;      &quot;knitr&quot;        &quot;stats&quot;        &quot;graphics&quot;    
## [21] &quot;grDevices&quot;    &quot;utils&quot;        &quot;datasets&quot;     &quot;methods&quot;      &quot;base&quot;</code></pre>
<p>Also, we will load the data that we will display. The data set is called <code>lmmdata</code> but we will change the name to <code>plotdata</code> for this tutorial. The data set is based on the <a href="https://www.ling.upenn.edu/hist-corpora/"><em>Penn Parsed Corpora of Historical English</em></a> (PPC) and it contains the date when a text was written (<code>Date</code>), the genre of the text (<code>Genre</code>), the name of the text (<code>Text</code>), the relative frequency of prepositions in the text (<code>Prepositions</code>), and the region in which the text was written (<code>Region</code>). We also add two more variables to the data called <code>GenreRedux</code> and <code>DateRedux</code>. <code>GenreRedux</code> collapses the existing genres into five main categories (<em>Conversational</em>, <em>Religious</em>, <em>Legal</em>, <em>Fiction</em>, and <em>NonFiction</em>) while <code>DateRedux</code> collapses the dates when the texts were composed into five main periods (1150-1499, 1500-1599, 1600-1699, 1700-1799, and 1800-1913). We also factorize non-numeric variables.</p>
<pre class="r"><code># load data
plotdata &lt;- read.delim(&quot;https://slcladal.github.io/data/lmmdata.txt&quot;, header = TRUE) %&gt;%
  mutate(GenreRedux = case_when(str_detect(.$Genre, &quot;Letter&quot;) ~ &quot;Conversational&quot;,
                                Genre == &quot;Diary&quot; ~ &quot;Conversational&quot;,
                                Genre == &quot;Bible&quot;|Genre == &quot;Sermon&quot; ~ &quot;Religious&quot;,
                                Genre == &quot;Law&quot;|Genre == &quot;TrialProceeding&quot; ~ &quot;Legal&quot;,
                                Genre == &quot;Fiction&quot; ~ &quot;Fiction&quot;,
                                TRUE ~ &quot;NonFiction&quot;)) %&gt;%
  mutate(DateRedux = case_when(Date &lt; 1500 ~ &quot;1150-1499&quot;,
                               Date &lt; 1600 ~ &quot;1500-1599&quot;,
                               Date &lt; 1700 ~ &quot;1600-1699&quot;,
                               Date &lt; 1800 ~ &quot;1700-1799&quot;,
                               TRUE ~ &quot;1800-1913&quot;)) %&gt;%
  mutate(Genre = factor(Genre),
         Text = factor(Text),
         Region = factor(Region),
         GenreRedux = factor(GenreRedux),
         DateRedux = factor(DateRedux))
kable(head(plotdata), caption = &quot;First 6 rows of the plotdata&quot;) %&gt;%
  kable_styling(bootstrap_options = &quot;striped&quot;, full_width = T, position = &quot;left&quot;)</code></pre>
<table class="table table-striped" style="">
<caption>
First 6 rows of the plotdata
</caption>
<thead>
<tr>
<th style="text-align:right;">
Date
</th>
<th style="text-align:left;">
Genre
</th>
<th style="text-align:left;">
Text
</th>
<th style="text-align:right;">
Prepositions
</th>
<th style="text-align:left;">
Region
</th>
<th style="text-align:left;">
GenreRedux
</th>
<th style="text-align:left;">
DateRedux
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1736
</td>
<td style="text-align:left;">
Science
</td>
<td style="text-align:left;">
albin
</td>
<td style="text-align:right;">
166.01
</td>
<td style="text-align:left;">
North
</td>
<td style="text-align:left;">
NonFiction
</td>
<td style="text-align:left;">
1700-1799
</td>
</tr>
<tr>
<td style="text-align:right;">
1711
</td>
<td style="text-align:left;">
Education
</td>
<td style="text-align:left;">
anon
</td>
<td style="text-align:right;">
139.86
</td>
<td style="text-align:left;">
North
</td>
<td style="text-align:left;">
NonFiction
</td>
<td style="text-align:left;">
1700-1799
</td>
</tr>
<tr>
<td style="text-align:right;">
1808
</td>
<td style="text-align:left;">
PrivateLetter
</td>
<td style="text-align:left;">
austen
</td>
<td style="text-align:right;">
130.78
</td>
<td style="text-align:left;">
North
</td>
<td style="text-align:left;">
Conversational
</td>
<td style="text-align:left;">
1800-1913
</td>
</tr>
<tr>
<td style="text-align:right;">
1878
</td>
<td style="text-align:left;">
Education
</td>
<td style="text-align:left;">
bain
</td>
<td style="text-align:right;">
151.29
</td>
<td style="text-align:left;">
North
</td>
<td style="text-align:left;">
NonFiction
</td>
<td style="text-align:left;">
1800-1913
</td>
</tr>
<tr>
<td style="text-align:right;">
1743
</td>
<td style="text-align:left;">
Education
</td>
<td style="text-align:left;">
barclay
</td>
<td style="text-align:right;">
145.72
</td>
<td style="text-align:left;">
North
</td>
<td style="text-align:left;">
NonFiction
</td>
<td style="text-align:left;">
1700-1799
</td>
</tr>
<tr>
<td style="text-align:right;">
1908
</td>
<td style="text-align:left;">
Education
</td>
<td style="text-align:left;">
benson
</td>
<td style="text-align:right;">
120.77
</td>
<td style="text-align:left;">
North
</td>
<td style="text-align:left;">
NonFiction
</td>
<td style="text-align:left;">
1800-1913
</td>
</tr>
</tbody>
</table>
<p>In addition, we will create a vector with colors that we will be using throughout this tutorial. This is not really necessary but it shares us from having to specify colors every time when we do not want to use the default colors that R provides. In this case, we will specify five colors but this palette could be extended. You can also check out the colors that are available in R <a href="http://www.stat.columbia.edu/~tzheng/files/Rcolor.pdf">here</a> and the palettes or sets of colors <a href="https://www.datanovia.com/en/blog/top-r-color-palettes-to-know-for-great-data-visualization/">here</a>.</p>
<pre class="r"><code>mycol &lt;- c(&quot;indianred4&quot;, &quot;gray30&quot;, &quot;darkblue&quot;, &quot;orange&quot;, &quot;gray80&quot;)</code></pre>
<p>We will now turn to creating the graphs.</p>
</div>
<div id="association-plots" class="section level1">
<h1><span class="header-section-number">1</span> Association plots</h1>
<p>Another plot type that is related to bar plots is the association plot. Association plots are similar to bar plots in that they display difference as bars above or below a line (as shown above). However, association plots show the difference between the observed and expected frequencies rather than differences as deviations from a reference. Therefore, they are often used when graphically representing tables with absolute frequencies. We use the already loaded <em>vcd</em> package to create association plots.</p>
<p>We also modify the reduced plotdata as association plots work on matrices rather than data frames or tibbles. In addition, we will drop more genres as to avoid overlap in the y-axis labels later on.</p>
<pre class="r"><code># reduce data
assocdata &lt;- plotdata %&gt;%
  droplevels() %&gt;%
  group_by(GenreRedux, Region) %&gt;%
  dplyr::summarise(Prepositions = round(mean(Prepositions), 0)) %&gt;%
  tidyr::spread(Region, Prepositions) 
# create matrix 
assocmx &lt;- as.matrix(assocdata[,2:3])
attr(assocmx, &quot;dimnames&quot;)[1] &lt;- as.vector(assocdata[,1])
# inspect data
assocmx</code></pre>
<pre><code>        North South</code></pre>
<p>Conversational 131 127 Fiction 122 109 Legal 149 139 NonFiction 139 137 Religious 132 131</p>
<p>Association plots are created by using the “assoc” function which takes a table (or a similar format such as a matrix or a data frame) as their argument. In addition, we specify “shade” as “T” in order to color code the bars in the association plot and to add a legend.</p>
<pre class="r"><code># create association plot
assoc(assocmx, shade=TRUE)</code></pre>
<p><img src="advancedgraphs_files/figure-html/ass3-1.png" width="672" /></p>
<p>The bars above the line indicate that the observed frequency is higher than expected, bars under the line indicate frequencies that are lower than expected. However, the lack of colouring strongly suggests that there are no significant differences between the observed and the expected frequencies which means that genre is unlikely to have a significant effect of the frequency of prepositions.</p>
</div>
<div id="mosaic-plots" class="section level1">
<h1><span class="header-section-number">2</span> Mosaic plots</h1>
<p>Another plot which is useful to graphically depict the relationship of categorical variables is the mosaic plot. The size of the boxes in a mosaic plot indicate how frequent that subcategory is and the colours show whether or not the category differs from the value that is expected if given the overall distribution in the table. In addition, the hue of the colour shows how great the difference between observed and expected is and thus indicates whether the respective subcategory deviates significantly from the expected frequency.</p>
<pre class="r"><code># create a mosaic plot
mosaic(assocmx, shade=T, legend=TRUE)  </code></pre>
<p><img src="advancedgraphs_files/figure-html/mos1-1.png" width="672" /></p>
<p>According to the mosaic plot above, there are neither significant differences in the number of observations (the boxes are similar in size and shape) and that genre does not have a significant effect on the frequency of prepositions as the boxes are grey and not coloured.</p>
</div>
<div id="heat-maps" class="section level1">
<h1><span class="header-section-number">3</span> Heat maps</h1>
<p>Heat maps are similar to mosaic plots in that they display frequency information and use color-coding to indicate high and low values. Heat maps also work on matrices but they are much more powerful and versatile that mosaic plots.</p>
<p>Heat maps are a very popular way to display frequency information and various packages have been written to create or customize heatmaps (for example the packages “ComplexHeatmap”, “dendextend”, “d3heatmap”, “pheatmap”) which means that many aspects of heatmaps can be modified. In this example, we will only use the most basic function to create a heat map.</p>
<p>We again modify the data and create a matrix from the original plotdata. In addition, we scale the frequencies. This is not necessary in the present case but when dealing with variables which differ in their mean and variance because they reflect different variables, scaling will normalize such variables and render their values comparable.</p>
<pre class="r"><code># create data
heatdata &lt;- plotdata %&gt;%
  group_by(DateRedux, GenreRedux) %&gt;%
  dplyr::summarise(Prepositions = round(mean(Prepositions), 0)) %&gt;%
  tidyr::spread(DateRedux, Prepositions)
# create matrix 
heatmx &lt;- as.matrix(heatdata[,2:5])
attr(heatmx, &quot;dimnames&quot;)[1] &lt;- as.vector(heatdata[,1])
heatmx &lt;- scale(heatmx)
# inspect data
heatmx</code></pre>
<pre><code>         1150-1499  1500-1599  1600-1699   1700-1799</code></pre>
<p>Conversational NA 0.2024949 -0.2940048 -0.78003250 Fiction -1.1503946 -1.2438972 -1.5540253 -1.21338389 Legal NA 1.3596086 0.2310038 1.17004875 NonFiction 0.4889177 0.3471341 1.0710174 0.73669736 Religious 0.6614769 -0.6653404 0.5460089 0.08667028 attr(,“scaled:center”) 1150-1499 1500-1599 1600-1699 1700-1799 119.6667 130.2000 126.8000 139.2000 attr(,“scaled:scale”) 1150-1499 1500-1599 1600-1699 1700-1799 23.180452 13.827509 9.523655 9.230385</p>
<p>Now that we have created a data matrix, we can cerate a simple heat map.</p>
<pre class="r"><code># create heat map
heatmap(heatmx, scale = &quot;none&quot;, cexCol = 1, cexRow = 1)</code></pre>
<p><img src="advancedgraphs_files/figure-html/ht2-1.png" width="672" /></p>
<p>The dendrogram on the top shows that documents from 1600 and 1700 as well as documents from 1800 and 1900 are grouped together and thus are more similar with respect to their preposition frequencies. The dendrogram on the left indicates that we have two categories of documents: the genres to towards the bottom tend to have fewer prepositions (indicated by the light colours) while the documents to the top tend to have more prepositions (thus the darker hues). Legal texts (genre = Law) have notably higher rates of prepositions as is derivable from the dark red colour of such texts.</p>
</div>
<div id="balloon-plots" class="section level1">
<h1><span class="header-section-number">4</span> Balloon plots</h1>
<p>So far, we have plotted values but we have not plotted the underlying distributions. For instance, we have plotted mean values but not the variance within the distribution. One handy way to combine plotting general trends and their underlying distributions are boxplots.</p>
<p>Boxplots, or Box-and-Whisker Plots, are exploratory graphics first created by John W. Tukey and they show the relationships between categorical and numeric variables. They are very useful because they not only provide measures of central tendency (the median which is the line in the middle of the box) but they also offer information about the distribution of the data. To elaborate, fifty percent of data points fall within the box while seventy-five percent of data points fall within the whiskers (the lines which look like extended error bars): the box thus encompasses the interquartile range between the first and third quartile. The whiskers show the minimum and maximum values in the data and only outliers (data points that lie 1.5 times the interquartile range or more above the third quartile or 1.5 times the interquartile range or more below the first quartile. If the whiskers differ in length, then this means that the data is asymmetrically distributed.</p>
<pre class="r"><code># create data
boxdata &lt;- plotdata %&gt;%
  dplyr::mutate(DateRedux = factor(DateRedux))
# inspect data
head(boxdata)</code></pre>
<p>Date Genre Text Prepositions Region GenreRedux DateRedux 1 1736 Science albin 166.01 North NonFiction 1700-1799 2 1711 Education anon 139.86 North NonFiction 1700-1799 3 1808 PrivateLetter austen 130.78 North Conversational 1800-1913 4 1878 Education bain 151.29 North NonFiction 1800-1913 5 1743 Education barclay 145.72 North NonFiction 1700-1799 6 1908 Education benson 120.77 North NonFiction 1800-1913</p>
<p>We will now create simple boxplots that show the distribution of prepositions per time period.</p>
<pre class="r"><code># create boxplot
ggplot(boxdata, aes(DateRedux, Prepositions, color = GenreRedux)) +                 
  geom_boxplot(fill=mycol, 
               color=&quot;black&quot;) </code></pre>
<p><img src="advancedgraphs_files/figure-html/box2-1.png" width="672" /></p>
<p>Another interesting feature of boxplots is that they allow us to visually get an idea whether categories differ significantly. Because if add “notch = T” and the notches of the boxplots do not overlap, then this is a very strong indication that the categories actually differ significantly (see below).</p>
<pre class="r"><code># create boxplot
ggplot(boxdata, aes(DateRedux, Prepositions, color = GenreRedux)) +                 
  geom_boxplot(outlier.colour=&quot;red&quot;, 
               outlier.shape=2, 
               outlier.size=5, 
               notch=T, 
               fill=mycol, 
               color=&quot;black&quot;) </code></pre>
<p><img src="advancedgraphs_files/figure-html/box3-1.png" width="672" /></p>
</div>
<div id="violin-plots" class="section level1">
<h1><span class="header-section-number">5</span> Violin plots</h1>
<p>An alternative to boxplots which display the distribution within the data even more accurately are violin plots.</p>
<pre class="r"><code># create violin plot
ggplot(boxdata, aes(DateRedux, Prepositions, fill = DateRedux)) +  
  geom_violin(trim = FALSE) +  
  geom_boxplot(width=0.1, fill=&quot;white&quot;) +
  scale_fill_manual(values = mycol) +
  theme_bw() +
  theme(legend.position = &quot;none&quot;)         </code></pre>
<p><img src="advancedgraphs_files/figure-html/vio1-1.png" width="672" /></p>
</div>
<div id="density-plots" class="section level1">
<h1><span class="header-section-number">6</span> Density Plots</h1>
<p>Another way to visualize the distribution of the data with respect to numeric variables are density plots or Kernel Density Plots. Density plots smooth the data using so-called kernel smoothing to even out the distribution of frequencies along the lines of a numeric or interval variable. The peaks of density plots help display where values are concentrated over the interval. To show the relationship between the variable and the density plot, we will first create a scatter plot and then create a density plot of the variable displayed on the x-axis of the scatter plot.</p>
<pre class="r"><code># create dot plot
ggplot(plotdata, aes(x = Date, y = Prepositions, color=Region)) +  
  geom_point() +  
  scale_color_manual(values = c(&quot;indianred4&quot;,  &quot;gray50&quot;)) + 
  theme(legend.position=c(0,1), legend.justification=c(0,1)) </code></pre>
<p><img src="advancedgraphs_files/figure-html/dens1-1.png" width="672" /></p>
<p>We will now create a marginal density plot of Date (x-axis) to show when texts from the north and south were particularly common.</p>
<pre class="r"><code># create dot plot
ggplot(plotdata, aes(Date, fill=Region)) +  
  geom_density(alpha=.5) +  
  scale_fill_manual(values = c(&quot;indianred4&quot;,  &quot;gray50&quot;)) + 
  theme(legend.position=c(0,1), legend.justification=c(0,1)) </code></pre>
<p><img src="advancedgraphs_files/figure-html/dens2-1.png" width="672" /></p>
<p>The density plot shows that the texts differ substantially with respect to where they were written as the distribution of texts written in southern Britain continues way into the 19<sup>th</sup> century while we only have texts written in north until about 1800.</p>
</div>
<div id="citation-session-info" class="section level1 unnumbered">
<h1>Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2020. <em>Advanced Visualization Methods in R</em>. Brisbane: The University of Queensland. url: <a href="https://slcladal.github.io/advancedgraphs.html" class="uri">https://slcladal.github.io/advancedgraphs.html</a> (Version 2020.09.29).</p>
<pre><code>@manual{schweinberger2020adviz,
  author = {Schweinberger, Martin},
  title = {Advanced Visualization Methods in R},
  note = {https://slcladal.github.io/advancedgraphs.html},
  year = {2020},
  organization = {The University of Queensland, School of Languages and Cultures},
  address = {Brisbane},
  edition = {2020/09/29}
}</code></pre>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.0.2 (2020-06-22)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 18362)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252   
## [3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                   
## [5] LC_TIME=German_Germany.1252    
## 
## attached base packages:
## [1] grid      stats     graphics  grDevices utils     datasets  methods  
## [8] base     
## 
## other attached packages:
##  [1] kableExtra_1.2.1   gridExtra_2.3      tidyr_1.1.2        SnowballC_0.7.0   
##  [5] stringr_1.4.0      wordcloud_2.6      RColorBrewer_1.1-2 tm_0.7-7          
##  [9] NLP_0.2-0          vcd_1.4-8          scales_1.1.1       likert_1.3.5      
## [13] xtable_1.8-4       dplyr_1.0.2        ggplot2_3.3.2      lattice_0.20-41   
## [17] knitr_1.30        
## 
## loaded via a namespace (and not attached):
##  [1] zoo_1.8-8         tidyselect_1.1.0  xfun_0.16         slam_0.1-47      
##  [5] reshape2_1.4.4    purrr_0.3.4       colorspace_1.4-1  vctrs_0.3.4      
##  [9] generics_0.0.2    viridisLite_0.3.0 htmltools_0.5.0   yaml_2.2.1       
## [13] rlang_0.4.7       pillar_1.4.6      glue_1.4.2        withr_2.3.0      
## [17] lifecycle_0.2.0   plyr_1.8.6        munsell_0.5.0     gtable_0.3.0     
## [21] rvest_0.3.6       psych_2.0.8       evaluate_0.14     labeling_0.3     
## [25] lmtest_0.9-38     parallel_4.0.2    highr_0.8         Rcpp_1.0.5       
## [29] webshot_0.5.2     tmvnsim_1.0-2     farver_2.0.3      mnormt_2.0.2     
## [33] digest_0.6.25     stringi_1.5.3     tools_4.0.2       magrittr_1.5     
## [37] tibble_3.0.3      crayon_1.3.4      pkgconfig_2.0.3   ellipsis_0.3.1   
## [41] MASS_7.3-51.6     xml2_1.3.2        httr_1.4.2        rmarkdown_2.3    
## [45] rstudioapi_0.11   R6_2.4.1          nlme_3.1-148      compiler_4.0.2</code></pre>
<hr />
<p><a href="https://slcladal.github.io/index.html">Main page</a></p>
<hr />
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-healy2018data">
<p>Healy, Kieran. 2018. <em>Data Visualization: A Practical Introduction</em>. Princeton University Press.</p>
</div>
<div id="ref-wickham2016ggplot2">
<p>Wickham, Hadley. 2016. <em>Ggplot2: Elegant Graphics for Data Analysis</em>. springer.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
