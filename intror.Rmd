---
title: "Introduction to R: basic functions"
author: "Martin Schweinberger"
date: "`r format(Sys.time(), '%Y-%m-%d')`"
output: 
  html_document:
    toc: true
    theme: united
    toc_float: true
    number_sections: yes
highlight: tango
bibliography: references.bib
csl: springer.csl
---

Start **RStudio** on your computer. **RStudio** is a so-called IDE - Integrated Development Environment. The interface provides easy access to **R**. The advantage of this application is that **R** programs and files as well as a project directory can be managed easily. The environment is capable of editing and running program code, viewing outputs and rendering graphics. Furthermore, it is possible to view variables and data objects of an R-script directly in the interface. The GUI - Graphical UserInterface - that **RStudio** provides the screen  into four areas:

1. **R** console
2. File editor
3. Environment variables
4. Management panes (File browser, plots, help display and R packages).

```{r fig.width=10, fig.height=8, echo=FALSE, warning=FALSE}
library(png)
ima <- readPNG("resources/screenshot.png")
plot(c(100, 250), c(300, 450), type = "n", xlab = "", ylab = "", xaxt = "n",yaxt = "n")
lim <- par()
rasterImage(ima, lim$usr[1], lim$usr[3], lim$usr[2], lim$usr[4])
```

# Teaser

Before we talk about the more etchnical details of `R`, please simply type the following into the file editor (the upper left panel). Once you have wtitten this code into the file editor panel, simply highlight the three lines and click on `Run` (to the right on top of the file editor panel). Now, the grpah you see below the code should have appeared. So congrats, you have produced your first graph in `R`!

```{r echo=TRUE, eval=F, warning=F, message=F}
Year <- c(1930, 1940, 1950, 1960, 1970, 1980, 1990, 2000)
Frequency <- c(2.7, 3.5, 4.3, 3.6, 4.6, 4.9, 4.0, 5.1)
plot(Year, Frequency, type = "l")

```


By creating your first graph, you have already intuetively familiarzied yourself with basic design features of `R`.
Let's go over what exactly you have done. When you typed `Year <- c(1930, 1940, 1950, 1960, 1970, 1980, 1990, 2000)` you have created a so-called vector which consisted of numbers from 1930 to 2000. You have also given this numeric vector a name: Year. So you have created an object called "Year"" which contains numbers from 1930 to 2000. 
Then, you have created another numeric vector called "Frequency"" which contained numeric frequency values. 

When you typed `plot(Year, Frequency, type = "l")` you have "called" a function - in this case the function `plot`. The function `plot` takes arguments (elements which we have to provide the function with so that the function has something to work on) and in our case the arguments are the numeric vectors "Year"" and "Frequency"" and `type = "l"` which tells the plot function that we want a plot of type "l"" (line). The numeric vectors tell the plot function what we want to have displayed on the x- and the y-axis respectively.


We will now twreak the graph a little bit and then we will talk about what you have done and what this tells you about how `R` works. Now, write the following into the file editor panel and execute it by clicking on `Run selected lines`.

```{r echo=TRUE, eval=F, warning=F, message=F}
plot(Year, Frequency, type = "l", col = "red")

```

We have now added the arument `col = "red"` which tells the plot function that you want the lines in the line graph to be colored in red.

To summarize, you have learned the following basic features of R:

Assigning names/labels: You assign labels or names to things using the sequence `<-`. Assigning names or labels does also work in the other direction with `->`.

Functions: Functions have the form `functionname(argument1, argument2, ...)`

Arguments: Elements functions work on.


# Basic Operations


```{r echo=TRUE, eval=F, warning=F, message=F}
1 + 2      # addition
sqrt(9)    # square root function
x <- 1     # assignment
1:10       # sequence
# install.packages("tm") 
library("tm")
require("tm")
# help
help(require) 
?require
apropos("nova")
# set your working directory
setwd("~") 
```

# Data types

```{r echo=TRUE, eval=F, warning=FALSE, message=FALSE}
x <- 10.5
typeof(x)
class(x)
as.integer(x)
is.integer(x)
is.integer(as.integer(x))
x <- "3.14"
typeof(x)
x <- as.double(x)
1:3 == c(1, 2, 3)
```

# Vector, matrix and data.frames

```{r echo=TRUE, eval=F, warning=FALSE, message=FALSE}
options(stringsAsFactors = F)
myvector <- c(1, 2, 3)
names(myvector) <- c("one", "two", "three")
print(myvector)
print(myvector[1:2])
print(myvector[-1])
sum(myvector)
mean(myvector)
mymatrix <- matrix(0, nrow=3, ncol=4)
rownames(mymatrix) <- c("one", "two", "three")
colnames(mymatrix) <- c("house", "sun", "tree", ".")
mymatrix[, 1] <- 12
mymatrix[, "sun"] <- 4
mymatrix[3, 4] <- 5
mymatrix[2, 3:4] <- 9
colSums(mymatrix)
rowSums(mymatrix)
colMeans(mymatrix)
mydatdaframe <- data.frame(v = c(1, 2, 3), c = as.character(myvector), n = c("one", "two", "three"))
mydatdaframe$v
mydatdaframe$c
mydatdaframe[, "c"]
mydatdaframe[1, ]
rowSums(mydatdaframe)
```


# More basic functions

```{r echo=TRUE, eval=F, warning=FALSE, message=FALSE}
sort(mydatdaframe$n)
sort(mydatdaframe$n, decreasing = T)
c(myvector, myvector)
is.vector(myvector)
is.matrix(mymatrix)
is.matrix(myvector)
mymatrix / 2
mymatrix / myvector
t(mymatrix)
mymatrix %*% t(mymatrix)
cbind(mymatrix, myvector)
rbind(mymatrix, myvector)
data(USArrests)
View(USArrests)
dim(USArrests)
nrow(USArrests)
ncol(USArrests)
length(USArrests)
max(USArrests)
which.max(USArrests[, "Murder"])
o <- order(USArrests[, "Murder"], decreasing = T)
USArrests[o, ]
murderRates <- USArrests[o[1:5], "Murder"]
names(murderRates) <- rownames(USArrests)[o[1:5]]
barplot(murderRates)
```



R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r cars}
summary(cars)
```

# Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
