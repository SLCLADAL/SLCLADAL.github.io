<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Martin Schweinberger" />

<meta name="date" content="2020-09-29" />

<title>Corpus Linguistics with R: Swearing in Irish English</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">LADAL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="people.html">OUR PEOPLE</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    NEWS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="news.html">News &amp; Announcements</a>
    </li>
    <li>
      <a href="conferences.html">Events &amp; Presentations</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    DATA SCIENCE BASICS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introduction to Data Science</li>
    <li>
      <a href="introcomputer.html">Working with Computers: Tips and Tricks</a>
    </li>
    <li>
      <a href="reproducibility.html">Data Management, Version Control, and Reproducibility</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Quantitative Research</li>
    <li>
      <a href="introquant.html">Introduction to Quantitative Reasoning</a>
    </li>
    <li>
      <a href="basicquant.html">Basic Concepts in Quantitative Research</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Introduction to R</li>
    <li>
      <a href="IntroR_workshop.html">Getting started</a>
    </li>
    <li>
      <a href="stringprocessing.html">String Processing</a>
    </li>
    <li>
      <a href="regularexpressions.html">Regular Expressions</a>
    </li>
    <li>
      <a href="introtables.html">Working with Tables</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    TUTORIALS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Data Visualization</li>
    <li>
      <a href="introviz.html">Introduction to Data Viz</a>
    </li>
    <li>
      <a href="basicgraphs.html">Common Visualization Types</a>
    </li>
    <li>
      <a href="basicgraphs.html">Advanced Visualization Methods</a>
    </li>
    <li>
      <a href="maps.html">Displaying Geo-Spatial Data</a>
    </li>
    <li>
      <a href="motion.html">Interactive Charts</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Statistics</li>
    <li>
      <a href="descriptivestatz.html">Descriptive Statistics</a>
    </li>
    <li>
      <a href="basicstatz.html">Basic Inferential Statistics</a>
    </li>
    <li>
      <a href="regression.html">Regression Analysis</a>
    </li>
    <li>
      <a href="advancedstatztrees.html">Tree-Based Models</a>
    </li>
    <li>
      <a href="groupingstatz.html">Cluster and Correspondence Analysis</a>
    </li>
    <li>
      <a href="svm.html">Semantic Vector Space Models</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Text Analytics</li>
    <li>
      <a href="textanalysis.html">Text Analysis and Distant Reading</a>
    </li>
    <li>
      <a href="kwics.html">Concordancing (keywords-in-context)</a>
    </li>
    <li>
      <a href="basicnetwork.html">Network Analysis</a>
    </li>
    <li>
      <a href="collocations.html">Co-occurrence and Collocation Analysis</a>
    </li>
    <li>
      <a href="topicmodels.html">Topic Modeling</a>
    </li>
    <li>
      <a href="sentiment.html">Sentiment Analysis</a>
    </li>
    <li>
      <a href="tagging.html">Tagging and Parsing</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    FOCUS &amp; CASE STUDIES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lex.html">Lexicography with R: Generating Dictionaries</a>
    </li>
    <li>
      <a href="surveys.html">Questionnaires and Surveys: Analyses with R</a>
    </li>
    <li>
      <a href="corplingr.html">Corpus Linguistics with R: Swearing in Irish English</a>
    </li>
    <li>
      <a href="convertpdf2txt.html">Converting PDFs to txt</a>
    </li>
    <li>
      <a href="webcrawling.html">Web Crawling using R</a>
    </li>
    <li>
      <a href="vc.html">Creating Vowel Charts with Praat and R</a>
    </li>
  </ul>
</li>
<li>
  <a href="services.html">SERVICES &amp; CONTACT</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Corpus Linguistics with R: Swearing in Irish English</h1>
<h4 class="author">Martin Schweinberger</h4>
<h4 class="date">2020-09-29</h4>

</div>


<p><img src="images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1 unnumbered">
<h1>Introduction</h1>
<p>This section presents different case studies or use cases that highlight how the the content shown in the tutorials can be put into practice. The case studies thus merely exemplify ways in which R can be used in language-based research rather than providing models of how to do research. The R markdown document of this case study can be downloaded <a href="https://slcladal.github.io/rscripts/corplingr.Rmd">here</a>.</p>
<div id="preparation-and-session-set-up" class="section level2 unnumbered">
<h2>Preparation and session set up</h2>
<p>This case study is based on R. If you have not installed R or are new to it, you will find an introduction to and more information how to use R <a href="https://slcladal.github.io/IntroR_workshop.html">here</a>. For this case study, we need to install certain <em>packages</em> from an R <em>library</em> so that the scripts shown below are executed without errors. Before turning to the code below, please install the packages by running the code below this paragraph. If you have already installed the packages mentioned below, then you can skip ahead ignore this section. To install the necessary packages, simply run the following code - it may take some time (between 1 and 5 minutes to install all of the libraries so you do not need to worry if it takes some time).</p>
<pre class="r"><code># clean current workspace
rm(list=ls(all=T))
# set options
options(stringsAsFactors = F)         # no automatic data transformation
options(&quot;scipen&quot; = 100, &quot;digits&quot; = 4) # supress math annotation
# manual installation
install.packages(&quot;devtools&quot;)
# load devtools and install development version of data.table
library(devtools)
install_github(&quot;Rdatatable/data.table&quot;, build_vignettes = FALSE)</code></pre>
<p>Once you have installed R-Studio and initiated the session by executing the code shown above, you are good to go.</p>
</div>
</div>
<div id="getting-started" class="section level1 unnumbered">
<h1>Getting started</h1>
<p>This case study aims to answer if swearing differs across age groups and genders, i.e. whether old or young or men or women swear more, in a small subsample of the Irish component of the <a href="https://www.ice-corpora.uzh.ch/en.html">International Corpus of English (ICE)</a> using R. The case study represents a simplified version of the analysis of <a href="https://www.sciencedirect.com/science/article/pii/S0024384117304357">paper</a> <span class="citation">(Schweinberger 2018)</span>.</p>
<p>In a first step, we load the load the data into R. The way that the corpus data is loaded in this example is somewhat awkward because the data is in a server directory rather than on a hard drive on a simple PC. If the corpus data is not stored in a directory of a server, then you should not use the code shown immediately below but code in the window following the code immediately below.</p>
<pre class="r"><code># define path to corpus
corpuspath &lt;- &quot;https://slcladal.github.io/data/ICEIrelandSample/&quot;
# define corpusfiles
files &lt;- paste(corpuspath, &quot;S1A-00&quot;, 1:20, &quot;.txt&quot;, sep = &quot;&quot;)
files &lt;- gsub(&quot;[0-9]([0-9][0-9][0-9])&quot;, &quot;\\1&quot;, files)
# load corpus files
corpus &lt;- sapply(files, function(x){
  x &lt;- readLines(x)
  x &lt;- paste(x, collapse = &quot; &quot;)
  x &lt;- tolower(x)
})
# inspect corpus
str(corpus)</code></pre>
<pre><code>##  Named chr [1:20] &quot;&lt;s1a-001 riding&gt;  &lt;i&gt; &lt;s1a-001$a&gt; &lt;#&gt; well how did the riding go tonight &lt;s1a-001$b&gt; &lt;#&gt; it was good so it was &quot;| __truncated__ ...
##  - attr(*, &quot;names&quot;)= chr [1:20] &quot;https://slcladal.github.io/data/ICEIrelandSample/S1A-001.txt&quot; &quot;https://slcladal.github.io/data/ICEIrelandSample/S1A-002.txt&quot; &quot;https://slcladal.github.io/data/ICEIrelandSample/S1A-003.txt&quot; &quot;https://slcladal.github.io/data/ICEIrelandSample/S1A-004.txt&quot; ...</code></pre>
<p>If the corpus data is stored on your own computer (on not on a serves as is the case in the present example), you should use the following code (you need to adapt the path though as the code below only works on my computer):</p>
<pre class="r"><code># define path to corpus
# WARNING: you need to include your own path!
corpuspath &lt;- &quot;D:\\Uni\\UQ\\LADAL\\SLCLADAL.github.io\\data\\ICEIrelandSample&quot;
# define corpusfiles
files &lt;- list.paste(corpuspath, all.names = T)
# load corpus files
corpus &lt;- sapply(files, function(x){
  x &lt;- scan(x, what = &quot;char&quot;, sep = &quot;&quot;, quote = &quot;&quot;, skipNul = T)
  x &lt;- paste(x, sep = &quot; &quot;, collapse = &quot; &quot;)
  x &lt;- tolower(x)
})
# inspect corpus
str(corpus)</code></pre>
<p>Now that the corpus data is loaded, we can prepare the searches by defining the search patterns. We will use regular expressions to retrieve all variants of the swear words. The sequence <code>\\b</code> denotes word boundaries while the sequence <code>[a-z]{0,3}</code> means that the sequences <em>ass</em> can be followed by a string consisting of any character symbol that is maximally three characters long (so that the search would also retrieve <em>asses</em>). We separate the search patters by <code>|</code> as this means <em>or</em>.</p>
<pre class="r"><code>searchpatterns &lt;- c(&quot;\\bass[ingedholes]{0,6}\\b|\\bbitch[a-z]{0,3}\\b|\\b[a-z]{0,}fuck[a-z]{0,3}\\b|\\bshit[a-z]{0,3}\\b|\\bcock[a-z]{0,3}\\b|\\bwanker[a-z]{0,3}\\b|\\bboll[io]{1,1}[a-z]{0,3}\\b|\\bcrap[a-z]{0,3}\\b|\\bbugger[a-z]{0,3}\\b|\\bcunt[a-z]{0,3}\\b&quot;)</code></pre>
<p>After defining the search pattern(s), we extract the kwics (keyword(s) in context) of the swear words.</p>
<pre class="r"><code># activate package
library(quanteda)
# extarct kwic
kwicswears &lt;- kwic(corpus, searchpatterns,window = 10, valuetype = &quot;regex&quot;)
# inspect results
head(kwicswears)</code></pre>
<pre><code>##                                                                      
##  [https://slcladal.github.io/data/ICEIrelandSample/S1A-003.txt, 1348]
##   [https://slcladal.github.io/data/ICEIrelandSample/S1A-005.txt, 525]
##   [https://slcladal.github.io/data/ICEIrelandSample/S1A-005.txt, 529]
##   [https://slcladal.github.io/data/ICEIrelandSample/S1A-005.txt, 664]
##  [https://slcladal.github.io/data/ICEIrelandSample/S1A-005.txt, 1012]
##  [https://slcladal.github.io/data/ICEIrelandSample/S1A-005.txt, 1026]
##                                                                        
##  suppose the worrying thing was then you realised it did | bugger-all |
##              was uh they just want my money and all this |   shite    |
##                      want my money and all this shite&lt;#&gt; |    fuck    |
##                         flick through them bits&lt;#&gt; it&#39; s |   shite    |
##                              5 sylls&lt;/ unclear&gt; i&#39; ve to |  fucking   |
##                             guy because he&#39; s a mason&lt;#&gt; |    fuck    |
##                                          
##  you know&lt;&amp;&gt; laughter&lt;/&amp;&gt;                
##  &lt;#&gt; fuck them&lt;#&gt; i&#39;                     
##  them&lt;#&gt; i&#39; m never joining them         
##  &lt; s1a-005$ a&gt;&lt;#&gt; all the                
##  deal with that guy because he&#39; s a mason
##  that&lt; s1a-005$ c&gt;&lt;#&gt;&lt;</code></pre>
<p>We now clean the kwic so that it is easier to see the relevant information.</p>
<pre class="r"><code>kwicswearsdf &lt;- as.data.frame(kwicswears)
colnames(kwicswearsdf) &lt;- c(&quot;File&quot;, &quot;StartPosition&quot;, &quot;EndPosition&quot;, &quot;PreviousContext&quot;, &quot;Token&quot;, &quot;FollowingContext&quot;, &quot;SearchPattern&quot;)
library(dplyr)
library(stringr)
kwicswearsclean &lt;- kwicswearsdf %&gt;%
  select(-StartPosition, -EndPosition, -SearchPattern) %&gt;%
  mutate(File = str_remove_all(File, &quot;.*/&quot;),
         File = str_remove_all(File, &quot;.txt&quot;))
# inspect results
head(kwicswearsclean)</code></pre>
<pre><code>##      File                                         PreviousContext      Token
## 1 S1A-003 suppose the worrying thing was then you realised it did bugger-all
## 2 S1A-005             was uh they just want my money and all this      shite
## 3 S1A-005                  want my money and all this shite &lt; # &gt;       fuck
## 4 S1A-005                    flick through them bits &lt; # &gt; it &#39; s      shite
## 5 S1A-005                         5 sylls &lt; / unclear &gt; i &#39; ve to    fucking
## 6 S1A-005                        guy because he &#39; s a mason &lt; # &gt;       fuck
##                            FollowingContext
## 1           you know &lt; &amp; &gt; laughter &lt; / &amp; &gt;
## 2                 &lt; # &gt; fuck them &lt; # &gt; i &#39;
## 3       them &lt; # &gt; i &#39; m never joining them
## 4             &lt; s1a-005 $ a &gt; &lt; # &gt; all the
## 5 deal with that guy because he &#39; s a mason
## 6              that &lt; s1a-005 $ c &gt; &lt; # &gt; &lt;</code></pre>
<p>We now create another kwic but with much more context because we want to extract the speaker that has uttered the swear word. To this end, we remove everything that proceeds the <code>$</code> symbol as the speakers are identified by characters that follow the <code>$</code> symbol, remove everything that follows the <code>&gt;</code> symbol which end the speaker identification sequence, remove remaining white spaces, and convert the remaining character to upper case.</p>
<pre class="r"><code># extract kwic
kwiclong &lt;- kwic(corpus, searchpatterns,window = 1000, valuetype = &quot;regex&quot;)
kwiclong &lt;- as.data.frame(kwiclong)
colnames(kwiclong) &lt;- c(&quot;File&quot;, &quot;StartPosition&quot;, &quot;EndPosition&quot;, &quot;PreviousContext&quot;, &quot;Token&quot;, &quot;FollowingContext&quot;, &quot;SearchPattern&quot;)
kwiclong &lt;- kwiclong %&gt;%
  select(-StartPosition, -EndPosition, -SearchPattern) %&gt;%
  mutate(File = str_remove_all(File, &quot;.*/&quot;),
         File = str_remove_all(File, &quot;.txt&quot;),
         Speaker = str_remove_all(PreviousContext, &quot;.*\\$&quot;),
         Speaker = str_remove_all(Speaker, &quot;&gt;.*&quot;),
         Speaker = str_squish(Speaker),
         Speaker = toupper(Speaker)) %&gt;%
  select(Speaker)
# inspect results
head(kwiclong)</code></pre>
<pre><code>##   Speaker
## 1       A
## 2       B
## 3       B
## 4       B
## 5       B
## 6       B</code></pre>
<p>We now add the Speaker to our initial kwic. This way, we combine the swear word kwic with the speaker and as we already have the file, we can use the file plus speaker idenification to check if the speaker was a man or a woman.</p>
<pre class="r"><code>swire &lt;- cbind(kwicswearsclean, kwiclong)
# inspect data
head(swire)</code></pre>
<pre><code>##      File                                         PreviousContext      Token
## 1 S1A-003 suppose the worrying thing was then you realised it did bugger-all
## 2 S1A-005             was uh they just want my money and all this      shite
## 3 S1A-005                  want my money and all this shite &lt; # &gt;       fuck
## 4 S1A-005                    flick through them bits &lt; # &gt; it &#39; s      shite
## 5 S1A-005                         5 sylls &lt; / unclear &gt; i &#39; ve to    fucking
## 6 S1A-005                        guy because he &#39; s a mason &lt; # &gt;       fuck
##                            FollowingContext Speaker
## 1           you know &lt; &amp; &gt; laughter &lt; / &amp; &gt;       A
## 2                 &lt; # &gt; fuck them &lt; # &gt; i &#39;       B
## 3       them &lt; # &gt; i &#39; m never joining them       B
## 4             &lt; s1a-005 $ a &gt; &lt; # &gt; all the       B
## 5 deal with that guy because he &#39; s a mason       B
## 6              that &lt; s1a-005 $ c &gt; &lt; # &gt; &lt;       B</code></pre>
<p>Now, we inspect the extracted swear word tokens to check if our search strings have indeed captured swear words.</p>
<pre class="r"><code># convert tokens to lower case
swire$Token &lt;- tolower(swire$Token)
# inspect tokens
table(swire$Token)</code></pre>
<pre><code>## 
##        ass      assed      bitch    bitches     bitchy    bollock   bollocks 
##          2          1          1          1          2          1          3 
##     bugger bugger-all       crap       fuck   fuck-all     fucked    fucking 
##          2          2          9          8          1          1         16 
##      fucks       shit      shite     wanker 
##          1          1          3          2</code></pre>
<p>FUCK and its variants is by far the most common swear word in our corpus. However, we do not need the type of swear word to answer our research question and we thus summarize the table to show which speaker in which files has used how many swear words.</p>
<pre class="r"><code>swire &lt;- swire %&gt;%
  group_by(File, Speaker) %&gt;%
  summarise(Swearwords = n())
# inspect data
head(swire)</code></pre>
<pre><code>## # A tibble: 6 x 3
## # Groups:   File [4]
##   File    Speaker Swearwords
##   &lt;chr&gt;   &lt;chr&gt;        &lt;int&gt;
## 1 S1A-003 A                1
## 2 S1A-005 A                1
## 3 S1A-005 B               10
## 4 S1A-005 C                1
## 5 S1A-010 A                2
## 6 S1A-011 A                2</code></pre>
<p>Now that we extract how many swear words the speakers in the corpus have used, we can load the biodata of the speakers.</p>
<pre class="r"><code># load bio data
bio &lt;- read.table(&quot;https://slcladal.github.io/data/data01.txt&quot;, header = T, sep = &quot;\t&quot;)
# oinspect data
head(bio)</code></pre>
<pre><code>##   id text.id subfile spk.ref             zone      date    sex   age  reside
## 1  1 S1A-001       1       A northern ireland 1990-1994   male 34-41 belfast
## 2  2 S1A-001       1       B northern ireland 1990-1994 female 34-41 belfast
## 3  4 S1A-002       1       A northern ireland 2002-2005 female 26-33 belfast
## 4  5 S1A-002       1       B northern ireland 2002-2005 female 19-25 belfast
## 5  6 S1A-002       1       C northern ireland 2002-2005   male   50+ belfast
## 6  7 S1A-002       1       D northern ireland 2002-2005 female   50+ belfast
##        relig word.count
## 1 protestant        765
## 2 protestant       1298
## 3   catholic        391
## 4   catholic         47
## 5   catholic        200
## 6   catholic        464</code></pre>
<pre class="r"><code>bio &lt;- bio %&gt;%
  rename(File = text.id, 
         Speaker = spk.ref,
         Gender = sex,
         Age = age,
         Words = word.count) %&gt;%
  select(File, Speaker, Gender, Age, Words)
# inspect data
head(bio)</code></pre>
<pre><code>##      File Speaker Gender   Age Words
## 1 S1A-001       A   male 34-41   765
## 2 S1A-001       B female 34-41  1298
## 3 S1A-002       A female 26-33   391
## 4 S1A-002       B female 19-25    47
## 5 S1A-002       C   male   50+   200
## 6 S1A-002       D female   50+   464</code></pre>
<p>In a next step, we combine the table with the speaker information with the table showing the swear word use.</p>
<pre class="r"><code># combine frequencies and biodata
swire &lt;- dplyr::left_join(bio, swire, by = c(&quot;File&quot;, &quot;Speaker&quot;))
# replave NA with 0
swire$Swearwords &lt;- ifelse(is.na(swire$Swearwords), 0, swire$Swearwords)
# inspect data
head(swire)</code></pre>
<pre><code>##      File Speaker Gender   Age Words Swearwords
## 1 S1A-001       A   male 34-41   765          0
## 2 S1A-001       B female 34-41  1298          0
## 3 S1A-002       A female 26-33   391          0
## 4 S1A-002       B female 19-25    47          0
## 5 S1A-002       C   male   50+   200          0
## 6 S1A-002       D female   50+   464          0</code></pre>
<p>We now clean the table by removing speakers for which we do not have any information on their age and gender. Also, we summarize the table to extract the mean frequencies of swear words (per 1,000 words) by age and gender.</p>
<pre class="r"><code># clean data
swire &lt;- swire %&gt;%
  filter(is.na(Gender) == F,
         is.na(Age) == F) %&gt;%
  group_by(Age, Gender) %&gt;%
  summarise(SumWords = sum(Words),
         SumSwearwords = sum(Swearwords),
         FrequencySwearwords = round(SumSwearwords/SumWords*1000, 3)) 
# inspect data
head(swire)</code></pre>
<pre><code>## # A tibble: 6 x 5
## # Groups:   Age [3]
##   Age   Gender SumWords SumSwearwords FrequencySwearwords
##   &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;         &lt;dbl&gt;               &lt;dbl&gt;
## 1 0-18  female      310             0               0    
## 2 0-18  male        235             0               0    
## 3 19-25 female    62535             0               0    
## 4 19-25 male       8826             0               0    
## 5 26-33 female    35137            13               0.37 
## 6 26-33 male      20664            10               0.484</code></pre>
<p>The summary table shows that speakers between the gaes of 0 and 18 are so rare that we will exclude them from the analysis.</p>
<pre class="r"><code>swire &lt;- swire %&gt;%
  filter(Age != &quot;0-18&quot;)
# inspect data
head(swire)</code></pre>
<pre><code>## # A tibble: 6 x 5
## # Groups:   Age [3]
##   Age   Gender SumWords SumSwearwords FrequencySwearwords
##   &lt;chr&gt; &lt;chr&gt;     &lt;int&gt;         &lt;dbl&gt;               &lt;dbl&gt;
## 1 19-25 female    62535             0               0    
## 2 19-25 male       8826             0               0    
## 3 26-33 female    35137            13               0.37 
## 4 26-33 male      20664            10               0.484
## 5 34-41 female    15017             3               0.2  
## 6 34-41 male      22213             2               0.09</code></pre>
<p>Now that we have prepared our data, we can plot swear word use by gender.</p>
<pre class="r"><code>library(ggplot2)
ggplot(swire, aes(x = Age, y = FrequencySwearwords, group = Gender, color = Gender)) +
  geom_line() +
  theme_bw() +
  scale_color_manual(values = c(&quot;orange&quot;, &quot;darkgrey&quot;))</code></pre>
<p><img src="corplingr_files/figure-html/sw15-1.png" width="672" /></p>
<p>The graph suggests that the genders do not differ in their use of swear words except for the age bracket from 26 to 41: men swear more among speakers aged between 26 and 33 while women swear more between 34 and 41 years of age.</p>
<p>We could now perform a statistical test, e.g. a (Hierarchical) Configural Frequency Analysis (HCFA) or a Linear Regression to check if age and gender correlate significantly with the frequency of swear word use but for this case study, the simple visualization shall suffice.</p>
<p>It has to be borne in mind, though, that this is merely a case study and that a more fine-grained analysis on a substantially larger data set were necessary to get a more reliable impression.</p>
</div>
<div id="citation-session-info" class="section level1 unnumbered">
<h1>Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2020. <em>Corpus Linguistics with R: Swearing in Irish English</em>. Brisbane: The University of Queensland. url: <a href="https://slcladal.github.io/corplingr.html" class="uri">https://slcladal.github.io/corplingr.html</a> (Version 2020.09.29).</p>
<pre><code>@manual{schweinberger2020cl,
  author = {Schweinberger, Martin},
  title = {Corpus Linguistics with R: Swearing in Irish English},
  note = {https://slcladal.github.io/corplingr.html},
  year = {2020},
  organization = &quot;The University of Queensland, School of Languages and Cultures},
  address = {Brisbane},
  edition = {2020/09/29}
}</code></pre>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.0.2 (2020-06-22)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 18362)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252   
## [3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                   
## [5] LC_TIME=German_Germany.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] ggplot2_3.3.2  stringr_1.4.0  dplyr_1.0.2    quanteda_2.1.1
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.5         pillar_1.4.6       compiler_4.0.2     tools_4.0.2       
##  [5] stopwords_2.0      digest_0.6.25      evaluate_0.14      lifecycle_0.2.0   
##  [9] tibble_3.0.3       gtable_0.3.0       lattice_0.20-41    pkgconfig_2.0.3   
## [13] rlang_0.4.7        Matrix_1.2-18      fastmatch_1.1-0    cli_2.0.2         
## [17] yaml_2.2.1         xfun_0.16          withr_2.3.0        knitr_1.30        
## [21] fs_1.5.0           generics_0.0.2     vctrs_0.3.4        grid_4.0.2        
## [25] tidyselect_1.1.0   glue_1.4.2         data.table_1.13.0  R6_2.4.1          
## [29] fansi_0.4.1        rmarkdown_2.3      farver_2.0.3       purrr_0.3.4       
## [33] magrittr_1.5       usethis_1.6.3      scales_1.1.1       ellipsis_0.3.1    
## [37] htmltools_0.5.0    assertthat_0.2.1   colorspace_1.4-1   labeling_0.3      
## [41] utf8_1.1.4         stringi_1.5.3      RcppParallel_5.0.2 munsell_0.5.0     
## [45] crayon_1.3.4</code></pre>
<hr />
<p><a href="https://slcladal.github.io/index.html">Main page</a></p>
<hr />
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
<div id="refs" class="references">
<div id="ref-schweinberger2018swearing">
<p>Schweinberger, Martin. 2018. “Swearing in Irish English â“ a Corpus-Based Quantitative Analysis of the Sociolinguistics of Swearing.” <em>Lingua</em> 209: 1–20.</p>
</div>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
