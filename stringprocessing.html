<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Martin Schweinberger" />


<title>String Processing in R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<link href="site_libs/str_view-0.1.0/str_view.css" rel="stylesheet" />
<script src="site_libs/str_view-binding-1.4.0/str_view.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">LADAL</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="people.html">OUR PEOPLE</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    NEWS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="news.html">News &amp; Announcements</a>
    </li>
    <li>
      <a href="conferences.html">Events &amp; Presentations</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    DATA SCIENCE BASICS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Introduction to Data Science</li>
    <li>
      <a href="introcomputer.html">Working with Computers: Tips and Tricks</a>
    </li>
    <li>
      <a href="reproducibility.html">Data Management, Version Control, and Reproducibility</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Quantitative Research</li>
    <li>
      <a href="introquant.html">Introduction to Quantitative Reasoning</a>
    </li>
    <li>
      <a href="basicquant.html">Basic Concepts in Quantitative Research</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Introduction to R</li>
    <li>
      <a href="IntroR_workshop.html">Getting started</a>
    </li>
    <li>
      <a href="stringprocessing.html">String Processing</a>
    </li>
    <li>
      <a href="regularexpressions.html">Regular Expressions</a>
    </li>
    <li>
      <a href="introtables.html">Working with Tables</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    TUTORIALS
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Data Visualization</li>
    <li>
      <a href="introviz.html">Introduction to Data Viz</a>
    </li>
    <li>
      <a href="basicgraphs.html">Common Visualization Types</a>
    </li>
    <li>
      <a href="basicgraphs.html">Advanced Visualization Methods</a>
    </li>
    <li>
      <a href="maps.html">Displaying Geo-Spatial Data</a>
    </li>
    <li>
      <a href="motion.html">Interactive Charts</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Statistics</li>
    <li>
      <a href="descriptivestatz.html">Descriptive Statistics</a>
    </li>
    <li>
      <a href="basicstatz.html">Basic Inferential Statistics</a>
    </li>
    <li>
      <a href="regression.html">Regression Analysis</a>
    </li>
    <li>
      <a href="advancedstatztrees.html">Tree-Based Models</a>
    </li>
    <li>
      <a href="groupingstatz.html">Cluster and Correspondence Analysis</a>
    </li>
    <li>
      <a href="svm.html">Semantic Vector Space Models</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Text Analytics</li>
    <li>
      <a href="textanalysis.html">Text Analysis and Distant Reading</a>
    </li>
    <li>
      <a href="kwics.html">Concordancing (keywords-in-context)</a>
    </li>
    <li>
      <a href="basicnetwork.html">Network Analysis</a>
    </li>
    <li>
      <a href="collocations.html">Co-occurrence and Collocation Analysis</a>
    </li>
    <li>
      <a href="topicmodels.html">Topic Modeling</a>
    </li>
    <li>
      <a href="sentiment.html">Sentiment Analysis</a>
    </li>
    <li>
      <a href="tagging.html">Tagging and Parsing</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    FOCUS &amp; CASE STUDIES
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="lex.html">Lexicography with R: Generating Dictionaries</a>
    </li>
    <li>
      <a href="surveys.html">Questionnaires and Surveys: Analyses with R</a>
    </li>
    <li>
      <a href="corplingr.html">Corpus Linguistics with R: Swearing in Irish English</a>
    </li>
    <li>
      <a href="convertpdf2txt.html">Converting PDFs to txt</a>
    </li>
    <li>
      <a href="webcrawling.html">Web Crawling using R</a>
    </li>
    <li>
      <a href="vc.html">Creating Vowel Charts with Praat and R</a>
    </li>
  </ul>
</li>
<li>
  <a href="services.html">SERVICES &amp; CONTACT</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">String Processing in R</h1>
<h4 class="author">Martin Schweinberger</h4>

</div>


<p><img src="images/uq1.jpg" width="100%" /></p>
<div id="introduction" class="section level1 unnumbered">
<h1>Introduction</h1>
<p>This tutorial introduces string processing and this can be used when working with language data. The entire code for the sections below can be downloaded <a href="https://slcladal.github.io/rscripts/stringprocessingrscript.r">here</a>.</p>
<div id="preparation-and-session-set-up" class="section level2 unnumbered">
<h2>Preparation and session set up</h2>
<p>This tutorial is based on R. If you have not installed R or are new to it, you will find an introduction to and more information how to use R <a href="https://slcladal.github.io/IntroR_workshop.html">here</a>. For this tutorials, we need to install certain <em>packages</em> from an R <em>library</em> so that the scripts shown below are executed without errors. Before turning to the code below, please install the packages by running the code below this paragraph. If you have already installed the packages mentioned below, then you can skip ahead ignore this section. To install the necessary packages, simply run the following code - it may take some time (between 1 and 5 minutes to install all of the libraries so you do not need to worry if it takes some time).</p>
<pre class="r"><code># clean current workspace
rm(list=ls(all=T))
# set options
options(stringsAsFactors = F)
# install libraries
install.packages(c(&quot;stringr&quot;))</code></pre>
<p>Once you have installed R-Studio and initiated the session by executing the code shown above, you are good to go.</p>
</div>
</div>
<div id="string-processing-in-base-r" class="section level1 unnumbered">
<h1>String processing in base R</h1>
<p>Before we start with string processing, we will create an example text on which we will perform the processing. In addition, we create two more elements: an element which also contains the example text but split up into sentences and another example text.</p>
<pre class="r"><code># read in text
exampletext &lt;- readLines(&quot;https://slcladal.github.io/data/testcorpus/linguistics02.txt&quot;)
exampletext &lt;-  paste(exampletext, sep = &quot; &quot;, collapse = &quot; &quot;)
# split example text into sentences
splitexampletext &lt;- unlist(strsplit(gsub(&quot;(\\.) &quot;, &quot;\\1qwertz&quot;, exampletext), &quot;qwertz&quot;))
# read in additional text
additionaltext &lt;- readLines(&quot;https://slcladal.github.io/data/testcorpus/linguistics03.txt&quot;)
additionaltext &lt;-  paste(additionaltext, sep = &quot; &quot;, collapse = &quot; &quot;)
# create vector with sentences
sentences &lt;- c(&quot;This is a first sentence.&quot;, &quot;This is a second sentence.&quot;, &quot;And this is a third sentence.&quot;)
# inspect data
exampletext; splitexampletext; additionaltext; sentences</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language.&quot;                                                                                                                                                                                                   
## [2] &quot;These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences).&quot;
## [3] &quot;Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<pre><code>## [1] &quot;In the early 20th century, Ferdinand de Saussure distinguished between the notions of langue and parole in his formulation of structural linguistics. According to him, parole is the specific utterance of speech, whereas langue refers to an abstract phenomenon that theoretically defines the principles and system of rules that govern a language. This distinction resembles the one made by Noam Chomsky between competence and performance in his theory of transformative or generative grammar. According to Chomsky, competence is an individual&#39;s innate capacity and potential for language (like in Saussure&#39;s langue), while performance is the specific way in which it is used by individuals, groups, and communities (i.e., parole, in Saussurean terms). &quot;</code></pre>
<pre><code>## [1] &quot;This is a first sentence.&quot;     &quot;This is a second sentence.&quot;   
## [3] &quot;And this is a third sentence.&quot;</code></pre>
<p>In the following, we will perform various operations on the example text using only in-build, or <em>base</em>, functions.</p>
<p>The function “substr” extracts a substring from the text by position (position is the character position, i.e. the first character has position 1, the second character position 2, etc.).</p>
<pre class="r"><code># extract substring by position
substr(exampletext, start=14, stop=30)</code></pre>
<pre><code>## [1] &quot;system of rules w&quot;</code></pre>
<p>The function “grep” informs whether a pattern is present in a text (or in a series of texts) with 1 indicating <em>yes</em> and 0 indicating <em>no</em>.</p>
<pre class="r"><code># find substring
grep(&quot;language&quot;, splitexampletext, value=FALSE, ignore.case=FALSE, fixed=FALSE)</code></pre>
<pre><code>## [1] 1</code></pre>
<p>When the argument “value” is set to “TRUE”, grep returns the element in which the match occurs but not the elements in which is does not occur.</p>
<pre class="r"><code># find substring
grep(&quot;language&quot;, splitexampletext, value=TRUE, ignore.case=FALSE, fixed=FALSE)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language.&quot;</code></pre>
<p>The function“grepl” return a logical vector with “TRUE” if the pattern occurs in the string and NO if the pattern does not occur in the string.</p>
<pre class="r"><code># find substring
grepl(&quot;language&quot;, splitexampletext, ignore.case=FALSE, fixed=FALSE)</code></pre>
<pre><code>## [1]  TRUE FALSE FALSE</code></pre>
<p>The function “sub” replaces the first(!) occurrence of a pattern with another pattern in a given text.</p>
<pre class="r"><code>sub(&quot;and&quot;, &quot;AND&quot;, exampletext, ignore.case=FALSE, fixed=FALSE)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production AND use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “gsub” replaces all occurences of a pattern with another pattern in a given text.</p>
<pre class="r"><code>gsub(&quot;and&quot;, &quot;AND&quot;, exampletext, ignore.case=FALSE, fixed=FALSE)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production AND use of utterances in a given language. These rules apply to sound as well as meaning, AND include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation AND composition of words), AND syntax (the formation AND composition of phrases AND sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “gregexpr” informs about if a pattern is present in a text and if so where the pattern begins and how long it is.</p>
<pre class="r"><code>gregexpr(&quot;and&quot;, exampletext, ignore.case=FALSE, perl=FALSE,
fixed=FALSE)</code></pre>
<pre><code>## [[1]]
## [1]  59 149 302 329 355 382
## attr(,&quot;match.length&quot;)
## [1] 3 3 3 3 3 3
## attr(,&quot;index.type&quot;)
## [1] &quot;chars&quot;
## attr(,&quot;useBytes&quot;)
## [1] TRUE</code></pre>
<p>The function “strsplit” splits a text if a pattern occurs. The pattern itself is then no longer present in the result (the . is no longer present in the result).</p>
<pre class="r"><code>strsplit(exampletext, &quot;\\. &quot;)</code></pre>
<pre><code>## [[1]]
## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language&quot;                                                                                                                                                                                                   
## [2] &quot;These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences)&quot;
## [3] &quot;Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>On way to get around this is to first replace the pattern with some sequence that does not occur in the text the “gsub” function and then splitting on the newly introduced sequence. This way, the original text remains intact.</p>
<pre class="r"><code>strsplit(gsub(&quot;(\\.) &quot;, &quot;\\1somestring&quot;, exampletext), &quot;somestring&quot;)</code></pre>
<pre><code>## [[1]]
## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language.&quot;                                                                                                                                                                                                   
## [2] &quot;These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences).&quot;
## [3] &quot;Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “paste” combines texts and the arguments “sep” and “collapse” are there to specify what should occur <em>between</em> the combined texts.</p>
<pre class="r"><code>paste(splitexampletext, sep=&quot; &quot;, collapse= &quot; &quot;)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “toupper” converts text characters to upper case.</p>
<pre class="r"><code>toupper(exampletext)</code></pre>
<pre><code>## [1] &quot;GRAMMAR IS A SYSTEM OF RULES WHICH GOVERNS THE PRODUCTION AND USE OF UTTERANCES IN A GIVEN LANGUAGE. THESE RULES APPLY TO SOUND AS WELL AS MEANING, AND INCLUDE COMPONENTIAL SUBSETS OF RULES, SUCH AS THOSE PERTAINING TO PHONOLOGY (THE ORGANISATION OF PHONETIC SOUND SYSTEMS), MORPHOLOGY (THE FORMATION AND COMPOSITION OF WORDS), AND SYNTAX (THE FORMATION AND COMPOSITION OF PHRASES AND SENTENCES). MANY MODERN THEORIES THAT DEAL WITH THE PRINCIPLES OF GRAMMAR ARE BASED ON NOAM CHOMSKY&#39;S FRAMEWORK OF GENERATIVE LINGUISTICS.&quot;</code></pre>
<p>The function “tolower” converts text characters to lower case.</p>
<pre class="r"><code>tolower(exampletext)</code></pre>
<pre><code>## [1] &quot;grammar is a system of rules which governs the production and use of utterances in a given language. these rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). many modern theories that deal with the principles of grammar are based on noam chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “nchar” provides the number of characters of a text.</p>
<pre class="r"><code>nchar(exampletext)</code></pre>
<pre><code>## [1] 523</code></pre>
<p>These are the most common base-functions for string operations is “R”. We will now turn to string operating functions in the “stringr”-package.</p>
<blockquote>
<p>Exercises for string processing with “base”</p>
<p>Load the text “linguistics04”.</p>
<ol style="list-style-type: decimal">
<li>How many words doe the exercise text consist of?</li>
<li>How many characters does the text consist of?</li>
</ol>
</blockquote>
</div>
<div id="string-processing-with-stringr" class="section level1 unnumbered">
<h1>String processing with stringr</h1>
<p>The package “stringr” is the most widely used package for string processing in“R” as it makes string processing very easy. All “stringr” functions share a common structure:</p>
<p>str_function(string, pattern)</p>
<p>The two arguments in the structure of stringr-functions are: <em>string</em> which is the character string to be processed and a pattern which is either a simple sequence of characters, a regular expression, or a combination of both. Because the <em>string</em> comes first, the stringr-functions are ideal for piping and thus use in tidyverse-R.</p>
<p>All function names of “stringr” begin with str, then an underscore and then the name of the action to be performed. For example, to replace the first occurence of a pattern in a string, we should use str_replace(). In the following, we will use “stringr” functions to perform various operations on the example text. In a first step, we load the “stringr”-package.</p>
<pre class="r"><code># load stringr library
library(stringr)</code></pre>
<p>Like “nchar” in “base”, “str_count” provides the number of characters of a text.</p>
<pre class="r"><code>str_count(splitexampletext)</code></pre>
<pre><code>## [1] 100 295 126</code></pre>
<p>The function “str_detect” informs about whether a pattern is present in a text and outputs a logical vector with <em>TRUE</em> if the pattern occurs and <em>FALSE</em> if it does not.</p>
<pre class="r"><code>str_detect(splitexampletext, &quot;and&quot;)</code></pre>
<pre><code>## [1]  TRUE  TRUE FALSE</code></pre>
<p>The function “str_extract” extracts the first occurence of a pattern, if that pattern is present in a text.</p>
<pre class="r"><code>str_extract(exampletext, &quot;and&quot;)</code></pre>
<pre><code>## [1] &quot;and&quot;</code></pre>
<p>The function “str_extract_all” extracts all occurences of a pattern, if that pattern is present in a text.</p>
<pre class="r"><code>str_extract_all(exampletext, &quot;and&quot;)</code></pre>
<pre><code>## [[1]]
## [1] &quot;and&quot; &quot;and&quot; &quot;and&quot; &quot;and&quot; &quot;and&quot; &quot;and&quot;</code></pre>
<p>The function “str_locate” provides the start and end position of the match of the pattern in a text.</p>
<pre class="r"><code>str_locate(exampletext, &quot;and&quot;) </code></pre>
<pre><code>##      start end
## [1,]    59  61</code></pre>
<p>The function “str_locate_all” provides the start and end positions of the match of the pattern in a text and displays the result in matrix-form.</p>
<pre class="r"><code>str_locate_all(exampletext, &quot;and&quot;)</code></pre>
<pre><code>## [[1]]
##      start end
## [1,]    59  61
## [2,]   149 151
## [3,]   302 304
## [4,]   329 331
## [5,]   355 357
## [6,]   382 384</code></pre>
<p>The function “str_match” extracts the first occurence of the pattern in a text.</p>
<pre class="r"><code>str_match(exampletext, &quot;and&quot;) </code></pre>
<pre><code>##      [,1] 
## [1,] &quot;and&quot;</code></pre>
<p>The function “str_match_all” extracts the all occurences of the pattern from a text.</p>
<pre class="r"><code>str_match_all(exampletext, &quot;and&quot;)</code></pre>
<pre><code>## [[1]]
##      [,1] 
## [1,] &quot;and&quot;
## [2,] &quot;and&quot;
## [3,] &quot;and&quot;
## [4,] &quot;and&quot;
## [5,] &quot;and&quot;
## [6,] &quot;and&quot;</code></pre>
<p>The function “str_remove” removes the first occurence of a pattern in a text.</p>
<pre class="r"><code>str_remove(exampletext, &quot;and&quot;) </code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production  use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_remove_all” removes all occurences of a pattern from a text.</p>
<pre class="r"><code>str_remove_all(exampletext, &quot;and&quot;)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production  use of utterances in a given language. These rules apply to sound as well as meaning,  include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation  composition of words),  syntax (the formation  composition of phrases  sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_replace” replaces the first occurence of a pattern with something else in a text.</p>
<pre class="r"><code>str_replace(exampletext, &quot;and&quot;, &quot;AND&quot;)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production AND use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_replace_all” replaces all occurences of a pattern with something else in a text.</p>
<pre class="r"><code>str_replace_all(exampletext, &quot;and&quot;, &quot;AND&quot;)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production AND use of utterances in a given language. These rules apply to sound as well as meaning, AND include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation AND composition of words), AND syntax (the formation AND composition of phrases AND sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_starts” tests whether a given text begins with a certain pattern and outputs a logical vector.</p>
<pre class="r"><code>str_starts(exampletext, &quot;and&quot;) </code></pre>
<pre><code>## [1] FALSE</code></pre>
<p>The function “str_ends” tests whether a text ends with a certain pattern and outputs a logical vector.</p>
<pre class="r"><code>str_ends(exampletext, &quot;and&quot;)</code></pre>
<pre><code>## [1] FALSE</code></pre>
<p>Like “strsplit, the function”str_split" splits a text when a given pattern occurs. If no pattern is provided, then the text is split into individual symbols.</p>
<pre class="r"><code>str_split(exampletext, &quot;and&quot;) </code></pre>
<pre><code>## [[1]]
## [1] &quot;Grammar is a system of rules which governs the production &quot;                                                                                            
## [2] &quot; use of utterances in a given language. These rules apply to sound as well as meaning, &quot;                                                               
## [3] &quot; include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation &quot;
## [4] &quot; composition of words), &quot;                                                                                                                              
## [5] &quot; syntax (the formation &quot;                                                                                                                               
## [6] &quot; composition of phrases &quot;                                                                                                                              
## [7] &quot; sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_split_fixed” splits a text when a given pattern occurs but only so often as is indicated by the argument “n”. So, even if the patter occur more often than “n”, “str_split_fixed” will only split the text “n” times.</p>
<pre class="r"><code>str_split_fixed(exampletext, &quot;and&quot;, n = 3)</code></pre>
<pre><code>##      [,1]                                                        
## [1,] &quot;Grammar is a system of rules which governs the production &quot;
##      [,2]                                                                                     
## [1,] &quot; use of utterances in a given language. These rules apply to sound as well as meaning, &quot;
##      [,3]                                                                                                                                                                                                                                                                                                                                                                                  
## [1,] &quot; include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_subset” extracts those subsets of a text that contain a certain pattern.</p>
<pre class="r"><code>str_subset(splitexampletext, &quot;and&quot;) </code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language.&quot;                                                                                                                                                                                                   
## [2] &quot;These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences).&quot;</code></pre>
<p>The function “str_which” provides a vector with the indices of the texts that contain a certain pattern.</p>
<pre class="r"><code>str_which(splitexampletext, &quot;and&quot;)</code></pre>
<pre><code>## [1] 1 2</code></pre>
<p>The function “str_view” shows the locations of the first instances of a pattern in a text or vector of texts.</p>
<pre class="r"><code>str_view(splitexampletext, &quot;and&quot;)</code></pre>
<div id="htmlwidget-8fb06cdfa6ae33f2ddf5" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-8fb06cdfa6ae33f2ddf5">{"x":{"html":"<ul>\n  <li>Grammar is a system of rules which governs the production <span class='match'>and<\/span> use of utterances in a given language.<\/li>\n  <li>These rules apply to sound as well as meaning, <span class='match'>and<\/span> include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences).<\/li>\n  <li>Many modern theories that deal with the principles of grammar are based on Noam Chomsky's framework of generative linguistics.<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>The function “str_view_all” shows the locations of all instances of a pattern in a text or vector of texts.</p>
<pre class="r"><code>str_view_all(exampletext, &quot;and&quot;)</code></pre>
<div id="htmlwidget-f9f31ac289613110f65b" style="width:960px;height:100%;" class="str_view html-widget"></div>
<script type="application/json" data-for="htmlwidget-f9f31ac289613110f65b">{"x":{"html":"<ul>\n  <li>Grammar is a system of rules which governs the production <span class='match'>and<\/span> use of utterances in a given language. These rules apply to sound as well as meaning, <span class='match'>and<\/span> include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation <span class='match'>and<\/span> composition of words), <span class='match'>and<\/span> syntax (the formation <span class='match'>and<\/span> composition of phrases <span class='match'>and<\/span> sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky's framework of generative linguistics.<\/li>\n<\/ul>"},"evals":[],"jsHooks":[]}</script>
<p>The function “str_pad” adds white spaces to a text or vector of texts so that they reach a given number of symbols.</p>
<pre class="r"><code># cretae text with white spaces
text &lt;- &quot; this    is a    text   &quot;
str_pad(text, width = 30)</code></pre>
<pre><code>## [1] &quot;       this    is a    text   &quot;</code></pre>
<p>The function “str_trim” removes white spaces from the beginning(s) and end(s) of a text or vector of texts.</p>
<pre class="r"><code>str_trim(text) </code></pre>
<pre><code>## [1] &quot;this    is a    text&quot;</code></pre>
<p>The function “str_squish” removes white spaces that occur within a text or vector of texts.</p>
<pre class="r"><code>str_squish(text)</code></pre>
<pre><code>## [1] &quot;this is a text&quot;</code></pre>
<p>The function “str_wrap” removes white spaces from the beginning(s) and end(s) of a text or vector of texts and also those white spaces that occur within a text or vector of texts.</p>
<pre class="r"><code>str_wrap(text)</code></pre>
<pre><code>## [1] &quot;this is a text&quot;</code></pre>
<p>The function “str_order” provides a vector that represents the order of a vector of texts according to the lengths of texts in that vector.</p>
<pre class="r"><code>str_order(splitexampletext)</code></pre>
<pre><code>## [1] 1 3 2</code></pre>
<p>The function “str_sort” orders of a vector of texts according to the lengths of texts in that vector.</p>
<pre class="r"><code>str_sort(splitexampletext)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language.&quot;                                                                                                                                                                                                   
## [2] &quot;Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;                                                                                                                                                                         
## [3] &quot;These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences).&quot;</code></pre>
<p>The function “str_to_upper” converts all symbols in a text or vector of texts to upper case.</p>
<pre class="r"><code>str_to_upper(exampletext) </code></pre>
<pre><code>## [1] &quot;GRAMMAR IS A SYSTEM OF RULES WHICH GOVERNS THE PRODUCTION AND USE OF UTTERANCES IN A GIVEN LANGUAGE. THESE RULES APPLY TO SOUND AS WELL AS MEANING, AND INCLUDE COMPONENTIAL SUBSETS OF RULES, SUCH AS THOSE PERTAINING TO PHONOLOGY (THE ORGANISATION OF PHONETIC SOUND SYSTEMS), MORPHOLOGY (THE FORMATION AND COMPOSITION OF WORDS), AND SYNTAX (THE FORMATION AND COMPOSITION OF PHRASES AND SENTENCES). MANY MODERN THEORIES THAT DEAL WITH THE PRINCIPLES OF GRAMMAR ARE BASED ON NOAM CHOMSKY&#39;S FRAMEWORK OF GENERATIVE LINGUISTICS.&quot;</code></pre>
<p>The function “str_to_lower” converts all symbols in a text or vector of texts to lower case.</p>
<pre class="r"><code>str_to_lower(exampletext) </code></pre>
<pre><code>## [1] &quot;grammar is a system of rules which governs the production and use of utterances in a given language. these rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). many modern theories that deal with the principles of grammar are based on noam chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_c” combines texts into one text</p>
<pre class="r"><code>str_c(exampletext, additionaltext)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.In the early 20th century, Ferdinand de Saussure distinguished between the notions of langue and parole in his formulation of structural linguistics. According to him, parole is the specific utterance of speech, whereas langue refers to an abstract phenomenon that theoretically defines the principles and system of rules that govern a language. This distinction resembles the one made by Noam Chomsky between competence and performance in his theory of transformative or generative grammar. According to Chomsky, competence is an individual&#39;s innate capacity and potential for language (like in Saussure&#39;s langue), while performance is the specific way in which it is used by individuals, groups, and communities (i.e., parole, in Saussurean terms). &quot;</code></pre>
<p>The function “str_conv” converts a text into a certain type of encoding, e.g. into “UTF-8” or “Latin1”.</p>
<pre class="r"><code>str_conv(exampletext, encoding = &quot;UTF-8&quot;)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_dup” reduplicates a text or a vector of texts n times.</p>
<pre class="r"><code>str_dup(exampletext, times=2)</code></pre>
<pre><code>## [1] &quot;Grammar is a system of rules which governs the production and use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.Grammar is a system of rules which governs the production and use of utterances in a given language. These rules apply to sound as well as meaning, and include componential subsets of rules, such as those pertaining to phonology (the organisation of phonetic sound systems), morphology (the formation and composition of words), and syntax (the formation and composition of phrases and sentences). Many modern theories that deal with the principles of grammar are based on Noam Chomsky&#39;s framework of generative linguistics.&quot;</code></pre>
<p>The function “str_flatten” combines a vector of texts into one text. The argument “collapse” defines the symbol that occurs between the combined texts. If the argument “collapse” is left out, the texts will be combined without any symbol between the combined texts.</p>
<pre class="r"><code>str_flatten(sentences, collapse = &quot; &quot;)</code></pre>
<pre><code>## [1] &quot;This is a first sentence. This is a second sentence. And this is a third sentence.&quot;</code></pre>
<p>If the argument “collapse” is left out, the texts will be combined without any symbol between the combined texts.</p>
<pre class="r"><code>str_flatten(sentences)</code></pre>
<pre><code>## [1] &quot;This is a first sentence.This is a second sentence.And this is a third sentence.&quot;</code></pre>
<p>The function “str_length” provides the length of texts in characters.</p>
<pre class="r"><code>str_length(exampletext)</code></pre>
<pre><code>## [1] 523</code></pre>
<p>The function “str_replace_na” replaces NA in texts. It is important to note that NA, if it occurs within a string, is considered to be the literal string “NA”.</p>
<pre class="r"><code># create sentences with NA
sentencesna &lt;- c(&quot;Some text&quot;, NA, &quot;Some more text&quot;, &quot;Some NA text&quot;)
# apply str_replace_na function
str_replace_na(sentencesna, replacement = &quot;Something new&quot;)</code></pre>
<pre><code>## [1] &quot;Some text&quot;      &quot;Something new&quot;  &quot;Some more text&quot; &quot;Some NA text&quot;</code></pre>
<p>The function “str_trunc” ends strings with … after a certain number of characters.</p>
<pre class="r"><code>str_trunc(sentences, width = 20)</code></pre>
<pre><code>## [1] &quot;This is a first s...&quot; &quot;This is a second ...&quot; &quot;And this is a thi...&quot;</code></pre>
<p>The function “str_sub” extracts a string from a text from a start location to an end position (expressed as character positions).</p>
<pre class="r"><code>str_sub(exampletext, 5, 25)</code></pre>
<pre><code>## [1] &quot;mar is a system of ru&quot;</code></pre>
<p>The function “word” extracts words from a text (expressed as word positions).</p>
<pre class="r"><code>word(exampletext, 2:7)</code></pre>
<pre><code>## [1] &quot;is&quot;     &quot;a&quot;      &quot;system&quot; &quot;of&quot;     &quot;rules&quot;  &quot;which&quot;</code></pre>
<p>The function “str_glue” combines strings and allows to input variables.</p>
<pre class="r"><code>name &lt;- &quot;Fred&quot;
age &lt;- 50
anniversary &lt;- as.Date(&quot;1991-10-12&quot;)
str_glue(
  &quot;My name is {name}, &quot;,
  &quot;my age next year is {age + 1}, &quot;,
  &quot;and my anniversary is {format(anniversary, &#39;%A, %B %d, %Y&#39;)}.&quot;
)</code></pre>
<pre><code>## My name is Fred, my age next year is 51, and my anniversary is Samstag, Oktober 12, 1991.</code></pre>
<p>The function “str_glue_data” is particularly useful when it is used in data pipelines. The datavset “mtcars” is a build in data set that is loaded automatically when starting “R”.</p>
<pre class="r"><code>mtcars %&gt;% 
  str_glue_data(&quot;{rownames(.)} has {hp} hp&quot;)</code></pre>
<pre><code>## Mazda RX4 has 110 hp
## Mazda RX4 Wag has 110 hp
## Datsun 710 has 93 hp
## Hornet 4 Drive has 110 hp
## Hornet Sportabout has 175 hp
## Valiant has 105 hp
## Duster 360 has 245 hp
## Merc 240D has 62 hp
## Merc 230 has 95 hp
## Merc 280 has 123 hp
## Merc 280C has 123 hp
## Merc 450SE has 180 hp
## Merc 450SL has 180 hp
## Merc 450SLC has 180 hp
## Cadillac Fleetwood has 205 hp
## Lincoln Continental has 215 hp
## Chrysler Imperial has 230 hp
## Fiat 128 has 66 hp
## Honda Civic has 52 hp
## Toyota Corolla has 65 hp
## Toyota Corona has 97 hp
## Dodge Challenger has 150 hp
## AMC Javelin has 150 hp
## Camaro Z28 has 245 hp
## Pontiac Firebird has 175 hp
## Fiat X1-9 has 66 hp
## Porsche 914-2 has 91 hp
## Lotus Europa has 113 hp
## Ford Pantera L has 264 hp
## Ferrari Dino has 175 hp
## Maserati Bora has 335 hp
## Volvo 142E has 109 hp</code></pre>
<blockquote>
<p>Exercises for string processing with “stringr”</p>
<p>Load the text “linguistics05”.</p>
<ol style="list-style-type: decimal">
<li>How many words doe the exercise text consist of?</li>
<li>How many characters does the text consist of?</li>
</ol>
</blockquote>
</div>
<div id="citation-session-info" class="section level1 unnumbered">
<h1>Citation &amp; Session Info</h1>
<p>Schweinberger, Martin. 2020. <em>String processing in R</em>. Brisbane: The University of Queensland. url: <a href="https://slcladal.github.io/stringprocessing.html" class="uri">https://slcladal.github.io/stringprocessing.html</a>.</p>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.0.2 (2020-06-22)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 18362)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=German_Germany.1252  LC_CTYPE=German_Germany.1252   
## [3] LC_MONETARY=German_Germany.1252 LC_NUMERIC=C                   
## [5] LC_TIME=German_Germany.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
## [1] stringr_1.4.0
## 
## loaded via a namespace (and not attached):
##  [1] htmlwidgets_1.5.1 compiler_4.0.2    magrittr_1.5      tools_4.0.2      
##  [5] htmltools_0.5.0   glue_1.4.2        yaml_2.2.1        crayon_1.3.4     
##  [9] stringi_1.5.3     rmarkdown_2.3     knitr_1.30        jsonlite_1.7.1   
## [13] xfun_0.16         digest_0.6.25     rlang_0.4.7       evaluate_0.14</code></pre>
<hr />
<p><a href="https://slcladal.github.io/index.html">Go back to the main page</a></p>
<hr />
</div>
<div id="references" class="section level1 unnumbered">
<h1>References</h1>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
